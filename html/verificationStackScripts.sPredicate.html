<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>verificationStackScripts.sPredicate</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="basicBitcoinDataType.html" class="Module">basicBitcoinDataType</a>

<a id="35" class="Keyword">module</a> <a id="42" href="verificationStackScripts.sPredicate.html" class="Module">verificationStackScripts.sPredicate</a> <a id="78" class="Keyword">where</a>

<a id="85" class="Keyword">open</a> <a id="90" class="Keyword">import</a> <a id="97" href="Data.Nat.html" class="Module">Data.Nat</a>  <a id="107" class="Keyword">hiding</a> <a id="114" class="Symbol">(</a><a id="115" href="Data.Nat.Base.html#1691" class="Datatype Operator">_≤_</a><a id="118" class="Symbol">)</a>
<a id="120" class="Keyword">open</a> <a id="125" class="Keyword">import</a> <a id="132" href="Data.List.html" class="Module">Data.List</a> <a id="142" class="Keyword">hiding</a> <a id="149" class="Symbol">(</a><a id="150" href="Data.List.Base.html#1954" class="Function Operator">_++_</a><a id="154" class="Symbol">)</a>
<a id="156" class="Keyword">open</a> <a id="161" class="Keyword">import</a> <a id="168" href="Data.Unit.html" class="Module">Data.Unit</a>  
<a id="180" class="Keyword">open</a> <a id="185" class="Keyword">import</a> <a id="192" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="203" class="Keyword">open</a> <a id="208" class="Keyword">import</a> <a id="215" href="Data.Sum.html" class="Module">Data.Sum</a>
<a id="224" class="Keyword">open</a> <a id="229" class="Keyword">import</a> <a id="236" href="Data.Maybe.html" class="Module">Data.Maybe</a>
<a id="247" class="Keyword">open</a> <a id="252" class="Keyword">import</a> <a id="259" href="Data.Bool.html" class="Module">Data.Bool</a>  <a id="270" class="Keyword">hiding</a> <a id="277" class="Symbol">(</a><a id="278" href="Data.Bool.Base.html#681" class="Datatype Operator">_≤_</a> <a id="282" class="Symbol">;</a> <a id="284" href="Data.Bool.Base.html#1505" class="Function Operator">if_then_else_</a> <a id="298" class="Symbol">)</a> <a id="300" class="Keyword">renaming</a> <a id="309" class="Symbol">(</a><a id="310" href="Data.Bool.Base.html#995" class="Function Operator">_∧_</a> <a id="314" class="Symbol">to</a> <a id="317" class="Function Operator">_∧b_</a> <a id="322" class="Symbol">;</a> <a id="324" href="Data.Bool.Base.html#1053" class="Function Operator">_∨_</a> <a id="328" class="Symbol">to</a> <a id="331" class="Function Operator">_∨b_</a> <a id="336" class="Symbol">;</a> <a id="338" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="340" class="Symbol">to</a> <a id="343" class="Function">True</a><a id="347" class="Symbol">)</a>
<a id="349" class="Keyword">open</a> <a id="354" class="Keyword">import</a> <a id="361" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="376" class="Keyword">hiding</a> <a id="383" class="Symbol">(</a><a id="384" href="Data.Bool.Base.html#681" class="Datatype Operator">_≤_</a> <a id="388" class="Symbol">;</a> <a id="390" href="Data.Bool.Base.html#1505" class="Function Operator">if_then_else_</a> <a id="404" class="Symbol">)</a> <a id="406" class="Keyword">renaming</a> <a id="415" class="Symbol">(</a><a id="416" href="Data.Bool.Base.html#995" class="Function Operator">_∧_</a> <a id="420" class="Symbol">to</a> <a id="423" class="Function Operator">_∧b_</a> <a id="428" class="Symbol">;</a> <a id="430" href="Data.Bool.Base.html#1053" class="Function Operator">_∨_</a> <a id="434" class="Symbol">to</a> <a id="437" class="Function Operator">_∨b_</a> <a id="442" class="Symbol">;</a> <a id="444" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="446" class="Symbol">to</a> <a id="449" class="Function">True</a><a id="453" class="Symbol">)</a>
<a id="455" class="Keyword">open</a> <a id="460" class="Keyword">import</a> <a id="467" href="Data.Product.html" class="Module">Data.Product</a> <a id="480" class="Keyword">renaming</a> <a id="489" class="Symbol">(</a><a id="490" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a> <a id="494" class="Symbol">to</a> <a id="497" class="InductiveConstructor Operator">_,,_</a> <a id="502" class="Symbol">)</a>
<a id="504" class="Keyword">open</a> <a id="509" class="Keyword">import</a> <a id="516" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="530" class="Keyword">hiding</a> <a id="537" class="Symbol">(</a><a id="538" href="Data.Nat.Base.html#1691" class="Datatype Operator">_≤_</a><a id="541" class="Symbol">)</a>
<a id="543" class="Keyword">open</a> <a id="548" class="Keyword">import</a> <a id="555" href="Data.List.NonEmpty.html" class="Module">Data.List.NonEmpty</a> <a id="574" class="Keyword">hiding</a> <a id="581" class="Symbol">(</a><a id="582" href="Data.List.NonEmpty.Base.html#1291" class="Field">head</a><a id="586" class="Symbol">)</a>
<a id="588" class="Keyword">import</a> <a id="595" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="633" class="Symbol">as</a> <a id="636" class="Module">Eq</a>
<a id="639" class="Keyword">open</a> <a id="644" href="Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="647" class="Keyword">using</a> <a id="653" class="Symbol">(</a><a id="654" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="657" class="Symbol">;</a> <a id="659" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="663" class="Symbol">;</a> <a id="665" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a><a id="669" class="Symbol">;</a> <a id="671" class="Keyword">module</a> <a id="678" href="Relation.Binary.PropositionalEquality.Properties.html#6744" class="Module">≡-Reasoning</a><a id="689" class="Symbol">;</a> <a id="691" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a><a id="694" class="Symbol">)</a>
<a id="696" class="Keyword">open</a> <a id="701" href="Relation.Binary.PropositionalEquality.Properties.html#6744" class="Module">≡-Reasoning</a>
<a id="713" class="Keyword">open</a> <a id="718" class="Keyword">import</a> <a id="725" href="Agda.Builtin.Equality.html" class="Module">Agda.Builtin.Equality</a>



<a id="750" class="Comment">--our libraries</a>
<a id="766" class="Keyword">open</a> <a id="771" class="Keyword">import</a> <a id="778" href="libraries.listLib.html" class="Module">libraries.listLib</a>
<a id="796" class="Keyword">open</a> <a id="801" class="Keyword">import</a> <a id="808" href="libraries.natLib.html" class="Module">libraries.natLib</a>
<a id="825" class="Keyword">open</a> <a id="830" class="Keyword">import</a> <a id="837" href="libraries.boolLib.html" class="Module">libraries.boolLib</a>
<a id="855" class="Keyword">open</a> <a id="860" class="Keyword">import</a> <a id="867" href="libraries.andLib.html" class="Module">libraries.andLib</a>
<a id="884" class="Keyword">open</a> <a id="889" class="Keyword">import</a> <a id="896" href="libraries.maybeLib.html" class="Module">libraries.maybeLib</a>


<a id="917" class="Keyword">open</a> <a id="922" class="Keyword">import</a> <a id="929" href="stack.html" class="Module">stack</a>
<a id="935" class="Keyword">open</a> <a id="940" class="Keyword">import</a> <a id="947" href="stackPredicate.html" class="Module">stackPredicate</a>
<a id="962" class="Keyword">open</a> <a id="967" class="Keyword">import</a> <a id="974" href="verificationStackScripts.stackState.html" class="Module">verificationStackScripts.stackState</a>




<a id="BStackStatePred"></a><a id="1014" href="verificationStackScripts.sPredicate.html#1014" class="Function">BStackStatePred</a>  <a id="1031" class="Symbol">:</a> <a id="1033" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="1037" href="verificationStackScripts.sPredicate.html#1014" class="Function">BStackStatePred</a> <a id="1053" class="Symbol">=</a>  <a id="1056" href="verificationStackScripts.stackState.html#919" class="Record">StackState</a> <a id="1067" class="Symbol">→</a>  <a id="1070" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>



<a id="MaybeBStackStatePred"></a><a id="1078" href="verificationStackScripts.sPredicate.html#1078" class="Function">MaybeBStackStatePred</a> <a id="1099" class="Symbol">:</a> <a id="1101" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="1105" href="verificationStackScripts.sPredicate.html#1078" class="Function">MaybeBStackStatePred</a> <a id="1126" class="Symbol">=</a> <a id="1128" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1134" href="verificationStackScripts.stackState.html#919" class="Record">StackState</a> <a id="1145" class="Symbol">→</a>  <a id="1148" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>


<a id="1155" class="Comment">-- Stack Predicate</a>
<a id="StackStatePred"></a><a id="1174" href="verificationStackScripts.sPredicate.html#1174" class="Function">StackStatePred</a> <a id="1189" class="Symbol">:</a> <a id="1191" href="Agda.Primitive.html#388" class="Primitive">Set₁</a>
<a id="1196" href="verificationStackScripts.sPredicate.html#1174" class="Function">StackStatePred</a> <a id="1211" class="Symbol">=</a> <a id="1213" href="verificationStackScripts.stackState.html#919" class="Record">StackState</a> <a id="1224" class="Symbol">→</a> <a id="1226" href="Agda.Primitive.html#388" class="Primitive">Set</a>



<a id="predicateAfterPushingx"></a><a id="1233" href="verificationStackScripts.sPredicate.html#1233" class="Function">predicateAfterPushingx</a> <a id="1256" class="Symbol">:</a> <a id="1258" class="Symbol">(</a><a id="1259" href="verificationStackScripts.sPredicate.html#1259" class="Bound">n</a> <a id="1261" class="Symbol">:</a> <a id="1263" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="1264" class="Symbol">)(</a><a id="1266" href="verificationStackScripts.sPredicate.html#1266" class="Bound">φ</a> <a id="1268" class="Symbol">:</a> <a id="1270" href="verificationStackScripts.sPredicate.html#1174" class="Function">StackStatePred</a><a id="1284" class="Symbol">)</a> <a id="1286" class="Symbol">→</a> <a id="1288" href="verificationStackScripts.sPredicate.html#1174" class="Function">StackStatePred</a>
<a id="1303" href="verificationStackScripts.sPredicate.html#1233" class="Function">predicateAfterPushingx</a> <a id="1326" href="verificationStackScripts.sPredicate.html#1326" class="Bound">n</a> <a id="1328" href="verificationStackScripts.sPredicate.html#1328" class="Bound">φ</a> <a id="1330" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">⟨</a> <a id="1332" href="verificationStackScripts.sPredicate.html#1332" class="Bound">time</a> <a id="1337" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">,</a> <a id="1339" href="verificationStackScripts.sPredicate.html#1339" class="Bound">msg₁</a> <a id="1344" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">,</a> <a id="1346" href="verificationStackScripts.sPredicate.html#1346" class="Bound">stack₁</a> <a id="1353" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">⟩</a> <a id="1355" class="Symbol">=</a> <a id="1357" href="verificationStackScripts.sPredicate.html#1328" class="Bound">φ</a> <a id="1359" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">⟨</a> <a id="1361" href="verificationStackScripts.sPredicate.html#1332" class="Bound">time</a> <a id="1366" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">,</a> <a id="1368" href="verificationStackScripts.sPredicate.html#1339" class="Bound">msg₁</a> <a id="1373" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">,</a> <a id="1375" href="verificationStackScripts.sPredicate.html#1326" class="Bound">n</a> <a id="1377" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1379" href="verificationStackScripts.sPredicate.html#1346" class="Bound">stack₁</a> <a id="1386" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">⟩</a>


<a id="predicateForTopElOfStack"></a><a id="1390" href="verificationStackScripts.sPredicate.html#1390" class="Function">predicateForTopElOfStack</a> <a id="1415" class="Symbol">:</a> <a id="1417" class="Symbol">(</a><a id="1418" href="verificationStackScripts.sPredicate.html#1418" class="Bound">n</a> <a id="1420" class="Symbol">:</a> <a id="1422" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="1423" class="Symbol">)</a> <a id="1425" class="Symbol">→</a> <a id="1427" href="verificationStackScripts.sPredicate.html#1174" class="Function">StackStatePred</a>
<a id="1442" href="verificationStackScripts.sPredicate.html#1390" class="Function">predicateForTopElOfStack</a> <a id="1467" href="verificationStackScripts.sPredicate.html#1467" class="Bound">n</a> <a id="1469" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">⟨</a> <a id="1471" href="verificationStackScripts.sPredicate.html#1471" class="Bound">time</a> <a id="1476" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">,</a> <a id="1478" href="verificationStackScripts.sPredicate.html#1478" class="Bound">msg₁</a> <a id="1483" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">,</a> <a id="1485" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="1488" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">⟩</a> <a id="1490" class="Symbol">=</a> <a id="1492" href="Data.Empty.html#895" class="Function">⊥</a>
<a id="1494" href="verificationStackScripts.sPredicate.html#1390" class="Function">predicateForTopElOfStack</a> <a id="1519" href="verificationStackScripts.sPredicate.html#1519" class="Bound">n</a> <a id="1521" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">⟨</a> <a id="1523" href="verificationStackScripts.sPredicate.html#1523" class="Bound">time</a> <a id="1528" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">,</a> <a id="1530" href="verificationStackScripts.sPredicate.html#1530" class="Bound">msg₁</a> <a id="1535" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">,</a> <a id="1537" href="verificationStackScripts.sPredicate.html#1537" class="Bound">x</a> <a id="1539" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1541" href="verificationStackScripts.sPredicate.html#1541" class="Bound">stack₁</a> <a id="1548" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">⟩</a> <a id="1550" class="Symbol">=</a> <a id="1552" href="verificationStackScripts.sPredicate.html#1537" class="Bound">x</a> <a id="1554" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1556" href="verificationStackScripts.sPredicate.html#1519" class="Bound">n</a>



<a id="_∧p_"></a><a id="1561" href="verificationStackScripts.sPredicate.html#1561" class="Function Operator">_∧p_</a> <a id="1566" class="Symbol">:</a> <a id="1568" class="Symbol">(</a> <a id="1570" href="verificationStackScripts.sPredicate.html#1570" class="Bound">φ</a> <a id="1572" href="verificationStackScripts.sPredicate.html#1572" class="Bound">ψ</a>  <a id="1575" class="Symbol">:</a> <a id="1577" href="verificationStackScripts.sPredicate.html#1174" class="Function">StackStatePred</a> <a id="1592" class="Symbol">)</a> <a id="1594" class="Symbol">→</a> <a id="1596" href="verificationStackScripts.sPredicate.html#1174" class="Function">StackStatePred</a>
<a id="1611" class="Symbol">(</a><a id="1612" href="verificationStackScripts.sPredicate.html#1612" class="Bound">φ</a> <a id="1614" href="verificationStackScripts.sPredicate.html#1561" class="Function Operator">∧p</a> <a id="1617" href="verificationStackScripts.sPredicate.html#1617" class="Bound">ψ</a> <a id="1619" class="Symbol">)</a> <a id="1621" href="verificationStackScripts.sPredicate.html#1621" class="Bound">s</a>  <a id="1624" class="Symbol">=</a>  <a id="1627" href="verificationStackScripts.sPredicate.html#1612" class="Bound">φ</a> <a id="1629" href="verificationStackScripts.sPredicate.html#1621" class="Bound">s</a>  <a id="1632" href="libraries.andLib.html#40" class="Record Operator">∧</a>  <a id="1635" href="verificationStackScripts.sPredicate.html#1617" class="Bound">ψ</a> <a id="1637" href="verificationStackScripts.sPredicate.html#1621" class="Bound">s</a>



<a id="⊥p"></a><a id="1642" href="verificationStackScripts.sPredicate.html#1642" class="Function">⊥p</a> <a id="1645" class="Symbol">:</a> <a id="1647" href="verificationStackScripts.sPredicate.html#1174" class="Function">StackStatePred</a>
<a id="1662" href="verificationStackScripts.sPredicate.html#1642" class="Function">⊥p</a> <a id="1665" href="verificationStackScripts.sPredicate.html#1665" class="Bound">s</a> <a id="1667" class="Symbol">=</a> <a id="1669" href="Data.Empty.html#895" class="Function">⊥</a>

<a id="1672" class="Keyword">infixl</a> <a id="1679" class="Number">4</a> <a id="1681" href="verificationStackScripts.sPredicate.html#1687" class="Function Operator">_⊎p_</a>

<a id="_⊎p_"></a><a id="1687" href="verificationStackScripts.sPredicate.html#1687" class="Function Operator">_⊎p_</a>   <a id="1694" class="Symbol">:</a> <a id="1696" class="Symbol">(</a><a id="1697" href="verificationStackScripts.sPredicate.html#1697" class="Bound">φ</a> <a id="1699" href="verificationStackScripts.sPredicate.html#1699" class="Bound">ψ</a> <a id="1701" class="Symbol">:</a> <a id="1703" href="verificationStackScripts.sPredicate.html#1174" class="Function">StackStatePred</a><a id="1717" class="Symbol">)</a> <a id="1719" class="Symbol">→</a> <a id="1721" href="verificationStackScripts.sPredicate.html#1174" class="Function">StackStatePred</a>
<a id="1736" class="Symbol">(</a><a id="1737" href="verificationStackScripts.sPredicate.html#1737" class="Bound">φ</a> <a id="1739" href="verificationStackScripts.sPredicate.html#1687" class="Function Operator">⊎p</a> <a id="1742" href="verificationStackScripts.sPredicate.html#1742" class="Bound">ψ</a><a id="1743" class="Symbol">)</a> <a id="1745" href="verificationStackScripts.sPredicate.html#1745" class="Bound">s</a> <a id="1747" class="Symbol">=</a> <a id="1749" href="verificationStackScripts.sPredicate.html#1737" class="Bound">φ</a> <a id="1751" href="verificationStackScripts.sPredicate.html#1745" class="Bound">s</a> <a id="1753" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="1755" href="verificationStackScripts.sPredicate.html#1742" class="Bound">ψ</a> <a id="1757" href="verificationStackScripts.sPredicate.html#1745" class="Bound">s</a>



<a id="lemma⊎pleft"></a><a id="1762" href="verificationStackScripts.sPredicate.html#1762" class="Function">lemma⊎pleft</a> <a id="1774" class="Symbol">:</a> <a id="1776" class="Symbol">(</a><a id="1777" href="verificationStackScripts.sPredicate.html#1777" class="Bound">ψ</a> <a id="1779" href="verificationStackScripts.sPredicate.html#1779" class="Bound">ψ&#39;</a> <a id="1782" class="Symbol">:</a> <a id="1784" href="verificationStackScripts.sPredicate.html#1174" class="Function">StackStatePred</a><a id="1798" class="Symbol">)(</a><a id="1800" href="verificationStackScripts.sPredicate.html#1800" class="Bound">s</a> <a id="1802" class="Symbol">:</a> <a id="1804" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1810" href="verificationStackScripts.stackState.html#919" class="Record">StackState</a><a id="1820" class="Symbol">)</a>
              <a id="1836" class="Symbol">→</a> <a id="1838" class="Symbol">(</a><a id="1839" href="verificationStackScripts.sPredicate.html#1777" class="Bound">ψ</a> <a id="1841" href="libraries.maybeLib.html#1221" class="Function Operator">⁺</a><a id="1842" class="Symbol">)</a> <a id="1844" href="verificationStackScripts.sPredicate.html#1800" class="Bound">s</a> <a id="1846" class="Symbol">→</a> <a id="1848" class="Symbol">(</a> <a id="1850" class="Symbol">(</a><a id="1851" href="verificationStackScripts.sPredicate.html#1777" class="Bound">ψ</a> <a id="1853" href="verificationStackScripts.sPredicate.html#1687" class="Function Operator">⊎p</a> <a id="1856" href="verificationStackScripts.sPredicate.html#1779" class="Bound">ψ&#39;</a><a id="1858" class="Symbol">)</a> <a id="1860" href="libraries.maybeLib.html#1221" class="Function Operator">⁺</a><a id="1861" class="Symbol">)</a> <a id="1863" href="verificationStackScripts.sPredicate.html#1800" class="Bound">s</a>
<a id="1865" href="verificationStackScripts.sPredicate.html#1762" class="Function">lemma⊎pleft</a> <a id="1877" href="verificationStackScripts.sPredicate.html#1877" class="Bound">ψ</a> <a id="1879" href="verificationStackScripts.sPredicate.html#1879" class="Bound">ψ&#39;</a> <a id="1882" class="Symbol">(</a><a id="1883" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1888" href="verificationStackScripts.sPredicate.html#1888" class="Bound">x</a><a id="1889" class="Symbol">)</a> <a id="1891" href="verificationStackScripts.sPredicate.html#1891" class="Bound">p</a> <a id="1893" class="Symbol">=</a> <a id="1895" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="1900" href="verificationStackScripts.sPredicate.html#1891" class="Bound">p</a>

<a id="lemma⊎pright"></a><a id="1903" href="verificationStackScripts.sPredicate.html#1903" class="Function">lemma⊎pright</a> <a id="1916" class="Symbol">:</a> <a id="1918" class="Symbol">(</a><a id="1919" href="verificationStackScripts.sPredicate.html#1919" class="Bound">ψ</a> <a id="1921" href="verificationStackScripts.sPredicate.html#1921" class="Bound">ψ&#39;</a> <a id="1924" class="Symbol">:</a> <a id="1926" href="verificationStackScripts.sPredicate.html#1174" class="Function">StackStatePred</a><a id="1940" class="Symbol">)</a> <a id="1942" class="Symbol">(</a><a id="1943" href="verificationStackScripts.sPredicate.html#1943" class="Bound">s</a> <a id="1945" class="Symbol">:</a> <a id="1947" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1953" href="verificationStackScripts.stackState.html#919" class="Record">StackState</a><a id="1963" class="Symbol">)</a>
               <a id="1980" class="Symbol">→</a> <a id="1982" class="Symbol">(</a><a id="1983" href="verificationStackScripts.sPredicate.html#1921" class="Bound">ψ&#39;</a> <a id="1986" href="libraries.maybeLib.html#1221" class="Function Operator">⁺</a><a id="1987" class="Symbol">)</a> <a id="1989" href="verificationStackScripts.sPredicate.html#1943" class="Bound">s</a> <a id="1991" class="Symbol">→</a> <a id="1993" class="Symbol">((</a> <a id="1996" href="verificationStackScripts.sPredicate.html#1919" class="Bound">ψ</a> <a id="1998" href="verificationStackScripts.sPredicate.html#1687" class="Function Operator">⊎p</a> <a id="2001" href="verificationStackScripts.sPredicate.html#1921" class="Bound">ψ&#39;</a> <a id="2004" class="Symbol">)</a> <a id="2006" href="libraries.maybeLib.html#1221" class="Function Operator">⁺</a> <a id="2008" class="Symbol">)</a> <a id="2010" href="verificationStackScripts.sPredicate.html#1943" class="Bound">s</a>
<a id="2012" href="verificationStackScripts.sPredicate.html#1903" class="Function">lemma⊎pright</a>  <a id="2026" href="verificationStackScripts.sPredicate.html#2026" class="Bound">ψ</a> <a id="2028" href="verificationStackScripts.sPredicate.html#2028" class="Bound">ψ&#39;</a> <a id="2031" class="Symbol">(</a><a id="2032" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2037" href="verificationStackScripts.sPredicate.html#2037" class="Bound">x</a><a id="2038" class="Symbol">)</a> <a id="2040" href="verificationStackScripts.sPredicate.html#2040" class="Bound">p</a> <a id="2042" class="Symbol">=</a> <a id="2044" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="2049" href="verificationStackScripts.sPredicate.html#2040" class="Bound">p</a>

<a id="lemma⊎pinv"></a><a id="2052" href="verificationStackScripts.sPredicate.html#2052" class="Function">lemma⊎pinv</a> <a id="2063" class="Symbol">:</a> <a id="2065" class="Symbol">(</a><a id="2066" href="verificationStackScripts.sPredicate.html#2066" class="Bound">ψ</a> <a id="2068" href="verificationStackScripts.sPredicate.html#2068" class="Bound">ψ&#39;</a> <a id="2071" class="Symbol">:</a> <a id="2073" href="verificationStackScripts.sPredicate.html#1174" class="Function">StackStatePred</a><a id="2087" class="Symbol">)(</a><a id="2089" href="verificationStackScripts.sPredicate.html#2089" class="Bound">A</a> <a id="2091" class="Symbol">:</a> <a id="2093" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="2096" class="Symbol">)</a> <a id="2098" class="Symbol">(</a><a id="2099" href="verificationStackScripts.sPredicate.html#2099" class="Bound">s</a> <a id="2101" class="Symbol">:</a> <a id="2103" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2109" href="verificationStackScripts.stackState.html#919" class="Record">StackState</a><a id="2119" class="Symbol">)</a>
             <a id="2134" class="Symbol">→</a> <a id="2136" class="Symbol">((</a><a id="2138" href="verificationStackScripts.sPredicate.html#2066" class="Bound">ψ</a> <a id="2140" href="libraries.maybeLib.html#1221" class="Function Operator">⁺</a><a id="2141" class="Symbol">)</a> <a id="2143" href="verificationStackScripts.sPredicate.html#2099" class="Bound">s</a>  <a id="2146" class="Symbol">→</a> <a id="2148" href="verificationStackScripts.sPredicate.html#2089" class="Bound">A</a><a id="2149" class="Symbol">)</a>
             <a id="2164" class="Symbol">→</a> <a id="2166" class="Symbol">((</a><a id="2168" href="verificationStackScripts.sPredicate.html#2068" class="Bound">ψ&#39;</a> <a id="2171" href="libraries.maybeLib.html#1221" class="Function Operator">⁺</a><a id="2172" class="Symbol">)</a> <a id="2174" href="verificationStackScripts.sPredicate.html#2099" class="Bound">s</a>  <a id="2177" class="Symbol">→</a> <a id="2179" href="verificationStackScripts.sPredicate.html#2089" class="Bound">A</a><a id="2180" class="Symbol">)</a>
             <a id="2195" class="Symbol">→</a>  <a id="2198" class="Symbol">((</a><a id="2200" href="verificationStackScripts.sPredicate.html#2066" class="Bound">ψ</a> <a id="2202" href="verificationStackScripts.sPredicate.html#1687" class="Function Operator">⊎p</a> <a id="2205" href="verificationStackScripts.sPredicate.html#2068" class="Bound">ψ&#39;</a><a id="2207" class="Symbol">)</a> <a id="2209" href="libraries.maybeLib.html#1221" class="Function Operator">⁺</a><a id="2210" class="Symbol">)</a> <a id="2212" href="verificationStackScripts.sPredicate.html#2099" class="Bound">s</a> <a id="2214" class="Symbol">→</a> <a id="2216" href="verificationStackScripts.sPredicate.html#2089" class="Bound">A</a>
<a id="2218" href="verificationStackScripts.sPredicate.html#2052" class="Function">lemma⊎pinv</a> <a id="2229" href="verificationStackScripts.sPredicate.html#2229" class="Bound">ψ</a> <a id="2231" href="verificationStackScripts.sPredicate.html#2231" class="Bound">ψ&#39;</a> <a id="2234" href="verificationStackScripts.sPredicate.html#2234" class="Bound">A</a> <a id="2236" class="Symbol">(</a><a id="2237" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2242" href="verificationStackScripts.sPredicate.html#2242" class="Bound">x</a><a id="2243" class="Symbol">)</a> <a id="2245" href="verificationStackScripts.sPredicate.html#2245" class="Bound">p</a> <a id="2247" href="verificationStackScripts.sPredicate.html#2247" class="Bound">q</a> <a id="2249" class="Symbol">(</a><a id="2250" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2255" href="verificationStackScripts.sPredicate.html#2255" class="Bound">x₁</a><a id="2257" class="Symbol">)</a> <a id="2259" class="Symbol">=</a> <a id="2261" href="verificationStackScripts.sPredicate.html#2245" class="Bound">p</a> <a id="2263" href="verificationStackScripts.sPredicate.html#2255" class="Bound">x₁</a>
<a id="2266" href="verificationStackScripts.sPredicate.html#2052" class="Function">lemma⊎pinv</a> <a id="2277" href="verificationStackScripts.sPredicate.html#2277" class="Bound">ψ</a> <a id="2279" href="verificationStackScripts.sPredicate.html#2279" class="Bound">ψ&#39;</a> <a id="2282" href="verificationStackScripts.sPredicate.html#2282" class="Bound">A</a> <a id="2284" class="Symbol">(</a><a id="2285" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2290" href="verificationStackScripts.sPredicate.html#2290" class="Bound">x</a><a id="2291" class="Symbol">)</a> <a id="2293" href="verificationStackScripts.sPredicate.html#2293" class="Bound">p</a> <a id="2295" href="verificationStackScripts.sPredicate.html#2295" class="Bound">q</a> <a id="2297" class="Symbol">(</a><a id="2298" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="2303" href="verificationStackScripts.sPredicate.html#2303" class="Bound">y</a><a id="2304" class="Symbol">)</a> <a id="2306" class="Symbol">=</a> <a id="2308" href="verificationStackScripts.sPredicate.html#2295" class="Bound">q</a> <a id="2310" href="verificationStackScripts.sPredicate.html#2303" class="Bound">y</a>




<a id="stackPred2SPred"></a><a id="2316" href="verificationStackScripts.sPredicate.html#2316" class="Function">stackPred2SPred</a> <a id="2332" class="Symbol">:</a> <a id="2334" href="stackPredicate.html#897" class="Function">StackPredicate</a> <a id="2349" class="Symbol">→</a> <a id="2351" href="verificationStackScripts.sPredicate.html#1174" class="Function">StackStatePred</a>
<a id="2366" href="verificationStackScripts.sPredicate.html#2316" class="Function">stackPred2SPred</a> <a id="2382" href="verificationStackScripts.sPredicate.html#2382" class="Bound">f</a> <a id="2384" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">⟨</a> <a id="2386" href="verificationStackScripts.sPredicate.html#2386" class="Bound">time</a> <a id="2391" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">,</a> <a id="2393" href="verificationStackScripts.sPredicate.html#2393" class="Bound">msg₁</a> <a id="2398" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">,</a> <a id="2400" href="verificationStackScripts.sPredicate.html#2400" class="Bound">stack₁</a> <a id="2407" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">⟩</a> <a id="2409" class="Symbol">=</a> <a id="2411" href="verificationStackScripts.sPredicate.html#2382" class="Bound">f</a> <a id="2413" href="verificationStackScripts.sPredicate.html#2386" class="Bound">time</a> <a id="2418" href="verificationStackScripts.sPredicate.html#2393" class="Bound">msg₁</a> <a id="2423" href="verificationStackScripts.sPredicate.html#2400" class="Bound">stack₁</a>



<a id="stackPred2SPredBool"></a><a id="2433" href="verificationStackScripts.sPredicate.html#2433" class="Function">stackPred2SPredBool</a> <a id="2453" class="Symbol">:</a> <a id="2455" class="Symbol">(</a> <a id="2457" href="basicBitcoinDataType.html#650" class="Function">Time</a> <a id="2462" class="Symbol">→</a> <a id="2464" href="basicBitcoinDataType.html#842" class="Datatype">Msg</a> <a id="2468" class="Symbol">→</a> <a id="2470" href="stack.html#690" class="Function">Stack</a> <a id="2476" class="Symbol">→</a> <a id="2478" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="2483" class="Symbol">)</a> <a id="2485" class="Symbol">→</a> <a id="2487" class="Symbol">(</a>  <a id="2490" href="verificationStackScripts.stackState.html#919" class="Record">StackState</a> <a id="2501" class="Symbol">→</a>  <a id="2504" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="2509" class="Symbol">)</a>
<a id="2511" href="verificationStackScripts.sPredicate.html#2433" class="Function">stackPred2SPredBool</a> <a id="2531" href="verificationStackScripts.sPredicate.html#2531" class="Bound">f</a> <a id="2533" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">⟨</a> <a id="2535" href="verificationStackScripts.sPredicate.html#2535" class="Bound">currentTime₁</a> <a id="2548" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">,</a> <a id="2550" href="verificationStackScripts.sPredicate.html#2550" class="Bound">msg₁</a> <a id="2555" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">,</a> <a id="2557" href="verificationStackScripts.sPredicate.html#2557" class="Bound">stack₁</a> <a id="2564" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">⟩</a>
              <a id="2580" class="Symbol">=</a> <a id="2582" href="verificationStackScripts.sPredicate.html#2531" class="Bound">f</a> <a id="2584" href="verificationStackScripts.sPredicate.html#2535" class="Bound">currentTime₁</a> <a id="2597" href="verificationStackScripts.sPredicate.html#2550" class="Bound">msg₁</a> <a id="2602" href="verificationStackScripts.sPredicate.html#2557" class="Bound">stack₁</a>



<a id="topElStack=0"></a><a id="2612" href="verificationStackScripts.sPredicate.html#2612" class="Function">topElStack=0</a> <a id="2625" class="Symbol">:</a> <a id="2627" href="verificationStackScripts.sPredicate.html#1174" class="Function">StackStatePred</a>
<a id="2642" href="verificationStackScripts.sPredicate.html#2612" class="Function">topElStack=0</a> <a id="2655" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">⟨</a> <a id="2657" href="verificationStackScripts.sPredicate.html#2657" class="Bound">time</a> <a id="2662" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">,</a> <a id="2664" href="verificationStackScripts.sPredicate.html#2664" class="Bound">msg₁</a> <a id="2669" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">,</a> <a id="2671" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="2674" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">⟩</a> <a id="2676" class="Symbol">=</a> <a id="2678" href="Data.Empty.html#895" class="Function">⊥</a>
<a id="2680" href="verificationStackScripts.sPredicate.html#2612" class="Function">topElStack=0</a> <a id="2693" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">⟨</a> <a id="2695" href="verificationStackScripts.sPredicate.html#2695" class="Bound">time</a> <a id="2700" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">,</a> <a id="2702" href="verificationStackScripts.sPredicate.html#2702" class="Bound">msg₁</a> <a id="2707" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">,</a> <a id="2709" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="2714" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2716" href="verificationStackScripts.sPredicate.html#2716" class="Bound">stack₁</a> <a id="2723" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">⟩</a> <a id="2725" class="Symbol">=</a> <a id="2727" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="2729" href="verificationStackScripts.sPredicate.html#2612" class="Function">topElStack=0</a> <a id="2742" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">⟨</a> <a id="2744" href="verificationStackScripts.sPredicate.html#2744" class="Bound">time</a> <a id="2749" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">,</a> <a id="2751" href="verificationStackScripts.sPredicate.html#2751" class="Bound">msg₁</a> <a id="2756" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">,</a> <a id="2758" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2762" href="verificationStackScripts.sPredicate.html#2762" class="Bound">x</a> <a id="2764" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2766" href="verificationStackScripts.sPredicate.html#2766" class="Bound">stack₁</a> <a id="2773" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">⟩</a> <a id="2775" class="Symbol">=</a> <a id="2777" href="Data.Empty.html#895" class="Function">⊥</a>



<a id="truePred"></a><a id="2782" href="verificationStackScripts.sPredicate.html#2782" class="Function">truePred</a> <a id="2791" class="Symbol">:</a> <a id="2793" href="stackPredicate.html#897" class="Function">StackPredicate</a> <a id="2808" class="Symbol">→</a> <a id="2810" href="verificationStackScripts.sPredicate.html#1174" class="Function">StackStatePred</a>
<a id="2825" href="verificationStackScripts.sPredicate.html#2782" class="Function">truePred</a> <a id="2834" href="verificationStackScripts.sPredicate.html#2834" class="Bound">φ</a> <a id="2836" class="Symbol">=</a> <a id="2838" href="verificationStackScripts.sPredicate.html#2316" class="Function">stackPred2SPred</a> <a id="2854" class="Symbol">(</a><a id="2855" href="stackPredicate.html#1153" class="Function">truePredaux</a>  <a id="2868" href="verificationStackScripts.sPredicate.html#2834" class="Bound">φ</a><a id="2869" class="Symbol">)</a>



<a id="falsePredaux"></a><a id="2874" href="verificationStackScripts.sPredicate.html#2874" class="Function">falsePredaux</a> <a id="2887" class="Symbol">:</a> <a id="2889" href="stackPredicate.html#897" class="Function">StackPredicate</a> <a id="2904" class="Symbol">→</a> <a id="2906" href="stackPredicate.html#897" class="Function">StackPredicate</a>
<a id="2921" href="verificationStackScripts.sPredicate.html#2874" class="Function">falsePredaux</a> <a id="2934" href="verificationStackScripts.sPredicate.html#2934" class="Bound">φ</a> <a id="2936" href="verificationStackScripts.sPredicate.html#2936" class="Bound">time</a> <a id="2941" href="verificationStackScripts.sPredicate.html#2941" class="Bound">msg</a> <a id="2945" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="2948" class="Symbol">=</a> <a id="2950" href="Data.Empty.html#895" class="Function">⊥</a>
<a id="2952" href="verificationStackScripts.sPredicate.html#2874" class="Function">falsePredaux</a> <a id="2965" href="verificationStackScripts.sPredicate.html#2965" class="Bound">φ</a> <a id="2967" href="verificationStackScripts.sPredicate.html#2967" class="Bound">time</a> <a id="2972" href="verificationStackScripts.sPredicate.html#2972" class="Bound">msg</a> <a id="2976" class="Symbol">(</a><a id="2977" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="2982" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2984" href="verificationStackScripts.sPredicate.html#2984" class="Bound">st</a><a id="2986" class="Symbol">)</a> <a id="2988" class="Symbol">=</a> <a id="2990" href="verificationStackScripts.sPredicate.html#2965" class="Bound">φ</a> <a id="2992" href="verificationStackScripts.sPredicate.html#2967" class="Bound">time</a> <a id="2997" href="verificationStackScripts.sPredicate.html#2972" class="Bound">msg</a>  <a id="3002" href="verificationStackScripts.sPredicate.html#2984" class="Bound">st</a>
<a id="3005" href="verificationStackScripts.sPredicate.html#2874" class="Function">falsePredaux</a> <a id="3018" href="verificationStackScripts.sPredicate.html#3018" class="Bound">φ</a> <a id="3020" href="verificationStackScripts.sPredicate.html#3020" class="Bound">time</a> <a id="3025" href="verificationStackScripts.sPredicate.html#3025" class="Bound">msg</a> <a id="3029" class="Symbol">(</a><a id="3030" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3034" href="verificationStackScripts.sPredicate.html#3034" class="Bound">x</a> <a id="3036" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3038" href="verificationStackScripts.sPredicate.html#3038" class="Bound">st</a><a id="3040" class="Symbol">)</a> <a id="3042" class="Symbol">=</a> <a id="3044" href="Data.Empty.html#895" class="Function">⊥</a>

<a id="falsePred"></a><a id="3047" href="verificationStackScripts.sPredicate.html#3047" class="Function">falsePred</a> <a id="3057" class="Symbol">:</a> <a id="3059" href="stackPredicate.html#897" class="Function">StackPredicate</a> <a id="3074" class="Symbol">→</a> <a id="3076" href="verificationStackScripts.sPredicate.html#1174" class="Function">StackStatePred</a>
<a id="3091" href="verificationStackScripts.sPredicate.html#3047" class="Function">falsePred</a> <a id="3101" href="verificationStackScripts.sPredicate.html#3101" class="Bound">φ</a> <a id="3103" class="Symbol">=</a> <a id="3105" href="verificationStackScripts.sPredicate.html#2316" class="Function">stackPred2SPred</a> <a id="3121" class="Symbol">(</a><a id="3122" href="verificationStackScripts.sPredicate.html#2874" class="Function">falsePredaux</a>  <a id="3136" href="verificationStackScripts.sPredicate.html#3101" class="Bound">φ</a><a id="3137" class="Symbol">)</a>


<a id="liftAddingx"></a><a id="3141" href="verificationStackScripts.sPredicate.html#3141" class="Function">liftAddingx</a> <a id="3153" class="Symbol">:</a> <a id="3155" class="Symbol">(</a><a id="3156" href="verificationStackScripts.sPredicate.html#3156" class="Bound">n</a> <a id="3158" class="Symbol">:</a> <a id="3160" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="3161" class="Symbol">)(</a> <a id="3164" href="verificationStackScripts.sPredicate.html#3164" class="Bound">φ</a> <a id="3166" class="Symbol">:</a> <a id="3168" href="stackPredicate.html#897" class="Function">StackPredicate</a> <a id="3183" class="Symbol">)</a> <a id="3185" class="Symbol">→</a>  <a id="3188" href="verificationStackScripts.sPredicate.html#1174" class="Function">StackStatePred</a>
<a id="3203" href="verificationStackScripts.sPredicate.html#3141" class="Function">liftAddingx</a> <a id="3215" href="verificationStackScripts.sPredicate.html#3215" class="Bound">n</a> <a id="3217" href="verificationStackScripts.sPredicate.html#3217" class="Bound">φ</a> <a id="3219" class="Symbol">=</a> <a id="3221" href="verificationStackScripts.sPredicate.html#1233" class="Function">predicateAfterPushingx</a> <a id="3244" href="verificationStackScripts.sPredicate.html#3215" class="Bound">n</a> <a id="3246" class="Symbol">(</a><a id="3247" href="verificationStackScripts.sPredicate.html#2316" class="Function">stackPred2SPred</a> <a id="3263" href="verificationStackScripts.sPredicate.html#3217" class="Bound">φ</a><a id="3264" class="Symbol">)</a>





<a id="acceptState"></a><a id="3271" href="verificationStackScripts.sPredicate.html#3271" class="Function">acceptState</a> <a id="3283" class="Symbol">:</a> <a id="3285" href="verificationStackScripts.sPredicate.html#1174" class="Function">StackStatePred</a>
<a id="3300" href="verificationStackScripts.sPredicate.html#3271" class="Function">acceptState</a> <a id="3312" class="Symbol">=</a> <a id="3314" href="verificationStackScripts.sPredicate.html#2316" class="Function">stackPred2SPred</a> <a id="3330" href="stackPredicate.html#1323" class="Function">acceptStateˢ</a>
</pre></body></html>