<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="basicBitcoinDataType.html" class="Module">basicBitcoinDataType</a>

<a id="35" class="Keyword">module</a> <a id="42" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html" class="Module">paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion</a> <a id="120" class="Symbol">(</a><a id="121" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#121" class="Bound">param</a> <a id="127" class="Symbol">:</a> <a id="129" href="basicBitcoinDataType.html#1157" class="Record">GlobalParameters</a><a id="145" class="Symbol">)</a>  <a id="148" class="Keyword">where</a>

<a id="155" class="Keyword">open</a> <a id="160" class="Keyword">import</a> <a id="167" href="Data.Nat.html" class="Module">Data.Nat</a>  <a id="177" class="Keyword">hiding</a> <a id="184" class="Symbol">(</a><a id="185" href="Data.Nat.Base.html#1691" class="Datatype Operator">_≤_</a><a id="188" class="Symbol">)</a>
<a id="190" class="Keyword">open</a> <a id="195" class="Keyword">import</a> <a id="202" href="Data.List.html" class="Module">Data.List</a> <a id="212" class="Keyword">hiding</a> <a id="219" class="Symbol">(</a><a id="220" href="Data.List.Base.html#1954" class="Function Operator">_++_</a><a id="224" class="Symbol">)</a>
<a id="226" class="Keyword">open</a> <a id="231" class="Keyword">import</a> <a id="238" href="Data.Unit.html" class="Module">Data.Unit</a>  
<a id="250" class="Keyword">open</a> <a id="255" class="Keyword">import</a> <a id="262" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="273" class="Keyword">open</a> <a id="278" class="Keyword">import</a> <a id="285" href="Data.Sum.html" class="Module">Data.Sum</a>
<a id="294" class="Keyword">open</a> <a id="299" class="Keyword">import</a> <a id="306" href="Data.Bool.html" class="Module">Data.Bool</a>  <a id="317" class="Keyword">hiding</a> <a id="324" class="Symbol">(</a><a id="325" href="Data.Bool.Base.html#681" class="Datatype Operator">_≤_</a> <a id="329" class="Symbol">;</a> <a id="331" href="Data.Bool.Base.html#1505" class="Function Operator">if_then_else_</a> <a id="345" class="Symbol">)</a> <a id="347" class="Keyword">renaming</a> <a id="356" class="Symbol">(</a><a id="357" href="Data.Bool.Base.html#995" class="Function Operator">_∧_</a> <a id="361" class="Symbol">to</a> <a id="364" class="Function Operator">_∧b_</a> <a id="369" class="Symbol">;</a> <a id="371" href="Data.Bool.Base.html#1053" class="Function Operator">_∨_</a> <a id="375" class="Symbol">to</a> <a id="378" class="Function Operator">_∨b_</a> <a id="383" class="Symbol">;</a> <a id="385" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="387" class="Symbol">to</a> <a id="390" class="Function">True</a><a id="394" class="Symbol">)</a>
<a id="396" class="Keyword">open</a> <a id="401" class="Keyword">import</a> <a id="408" href="Data.Product.html" class="Module">Data.Product</a> <a id="421" class="Keyword">renaming</a> <a id="430" class="Symbol">(</a><a id="431" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a> <a id="435" class="Symbol">to</a> <a id="438" class="InductiveConstructor Operator">_,,_</a> <a id="443" class="Symbol">)</a>
<a id="445" class="Keyword">open</a> <a id="450" class="Keyword">import</a> <a id="457" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="471" class="Keyword">hiding</a> <a id="478" class="Symbol">(</a><a id="479" href="Data.Nat.Base.html#1691" class="Datatype Operator">_≤_</a><a id="482" class="Symbol">)</a>
<a id="484" class="Keyword">open</a> <a id="489" class="Keyword">import</a> <a id="496" href="Data.List.NonEmpty.html" class="Module">Data.List.NonEmpty</a> <a id="515" class="Keyword">hiding</a> <a id="522" class="Symbol">(</a><a id="523" href="Data.List.NonEmpty.Base.html#1291" class="Field">head</a> <a id="528" class="Symbol">;</a> <a id="530" href="Data.List.NonEmpty.Base.html#1491" class="Function Operator">[_]</a> <a id="534" class="Symbol">)</a>
<a id="536" class="Keyword">open</a> <a id="541" class="Keyword">import</a> <a id="548" href="Data.Maybe.html" class="Module">Data.Maybe</a>
<a id="559" class="Keyword">open</a> <a id="564" class="Keyword">import</a> <a id="571" href="Relation.Nullary.html" class="Module">Relation.Nullary</a>

<a id="589" class="Keyword">import</a> <a id="596" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="634" class="Symbol">as</a> <a id="637" class="Module">Eq</a>
<a id="640" class="Keyword">open</a> <a id="645" href="Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="648" class="Keyword">using</a> <a id="654" class="Symbol">(</a><a id="655" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="658" class="Symbol">;</a> <a id="660" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="664" class="Symbol">;</a> <a id="666" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a><a id="670" class="Symbol">;</a> <a id="672" class="Keyword">module</a> <a id="679" href="Relation.Binary.PropositionalEquality.Properties.html#6744" class="Module">≡-Reasoning</a><a id="690" class="Symbol">;</a> <a id="692" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a><a id="695" class="Symbol">)</a>
<a id="697" class="Keyword">open</a> <a id="702" href="Relation.Binary.PropositionalEquality.Properties.html#6744" class="Module">≡-Reasoning</a>
<a id="714" class="Keyword">open</a> <a id="719" class="Keyword">import</a> <a id="726" href="Agda.Builtin.Equality.html" class="Module">Agda.Builtin.Equality</a>


<a id="750" class="Comment">--our libraries</a>
<a id="766" class="Keyword">open</a> <a id="771" class="Keyword">import</a> <a id="778" href="libraries.listLib.html" class="Module">libraries.listLib</a>
<a id="796" class="Keyword">open</a> <a id="801" class="Keyword">import</a> <a id="808" href="libraries.equalityLib.html" class="Module">libraries.equalityLib</a>
<a id="830" class="Keyword">open</a> <a id="835" class="Keyword">import</a> <a id="842" href="libraries.natLib.html" class="Module">libraries.natLib</a>
<a id="859" class="Keyword">open</a> <a id="864" class="Keyword">import</a> <a id="871" href="libraries.boolLib.html" class="Module">libraries.boolLib</a>
<a id="889" class="Keyword">open</a> <a id="894" class="Keyword">import</a> <a id="901" href="libraries.emptyLib.html" class="Module">libraries.emptyLib</a>
<a id="920" class="Keyword">open</a> <a id="925" class="Keyword">import</a> <a id="932" href="libraries.andLib.html" class="Module">libraries.andLib</a>
<a id="949" class="Keyword">open</a> <a id="954" class="Keyword">import</a> <a id="961" href="libraries.maybeLib.html" class="Module">libraries.maybeLib</a>

<a id="981" class="Keyword">open</a> <a id="986" class="Keyword">import</a> <a id="993" href="stack.html" class="Module">stack</a>
<a id="999" class="Keyword">open</a> <a id="1004" class="Keyword">import</a> <a id="1011" href="stackPredicate.html" class="Module">stackPredicate</a>
<a id="1026" class="Keyword">open</a> <a id="1031" class="Keyword">import</a> <a id="1038" href="semanticBasicOperations.html" class="Module">semanticBasicOperations</a> <a id="1062" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#121" class="Bound">param</a>
<a id="1068" class="Keyword">open</a> <a id="1073" class="Keyword">import</a> <a id="1080" href="hoareTripleStack.html" class="Module">hoareTripleStack</a> <a id="1097" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#121" class="Bound">param</a>
<a id="1103" class="Keyword">open</a> <a id="1108" class="Keyword">import</a> <a id="1115" href="instruction.html" class="Module">instruction</a>
<a id="1127" class="Keyword">open</a> <a id="1132" class="Keyword">import</a> <a id="1139" href="verificationStackScripts.stackState.html" class="Module">verificationStackScripts.stackState</a>
<a id="1175" class="Keyword">open</a> <a id="1180" class="Keyword">import</a> <a id="1187" href="verificationStackScripts.sPredicate.html" class="Module">verificationStackScripts.sPredicate</a>
<a id="1223" class="Keyword">open</a> <a id="1228" class="Keyword">import</a> <a id="1235" href="verificationStackScripts.stackHoareTriple.html" class="Module">verificationStackScripts.stackHoareTriple</a> <a id="1277" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#121" class="Bound">param</a>
<a id="1283" class="Keyword">open</a> <a id="1288" class="Keyword">import</a> <a id="1295" href="verificationStackScripts.stackVerificationLemmas.html" class="Module">verificationStackScripts.stackVerificationLemmas</a> <a id="1344" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#121" class="Bound">param</a>
<a id="1350" class="Keyword">open</a> <a id="1355" class="Keyword">import</a> <a id="1362" href="verificationStackScripts.stackSemanticsInstructionsBasic.html" class="Module">verificationStackScripts.stackSemanticsInstructionsBasic</a> <a id="1419" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#121" class="Bound">param</a>
<a id="1425" class="Keyword">open</a> <a id="1430" class="Keyword">import</a> <a id="1437" href="verificationStackScripts.semanticsStackInstructions.html" class="Module">verificationStackScripts.semanticsStackInstructions</a> <a id="1489" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#121" class="Bound">param</a>
<a id="1495" class="Keyword">open</a> <a id="1500" class="Keyword">import</a> <a id="1507" href="verificationStackScripts.stackVerificationP2PKH.html" class="Module">verificationStackScripts.stackVerificationP2PKH</a> <a id="1555" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#121" class="Bound">param</a>
<a id="1561" class="Keyword">open</a> <a id="1566" class="Keyword">import</a> <a id="1573" href="verificationStackScripts.stackVerificationP2PKHindexed.html" class="Module">verificationStackScripts.stackVerificationP2PKHindexed</a> <a id="1628" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#121" class="Bound">param</a>

<a id="1635" class="Comment">-------------------------------------------------------------</a>
<a id="1697" class="Comment">--   This file explores the symoblic execution of the P2PKH program</a>
<a id="1765" class="Comment">--     in order to determine the case distinction</a>
<a id="1815" class="Comment">--     and extract a program from it</a>
<a id="1852" class="Comment">--</a>
<a id="1855" class="Comment">--   This is done by postulating parameters and applying ⟦ scriptP2PKHᵇ pbkh ⟧ˢ</a>
<a id="1935" class="Comment">--     to parameters</a>
<a id="1956" class="Comment">--------------------------------------------------------------------------------</a>

<a id="2038" class="Keyword">private</a>
  <a id="2048" class="Keyword">postulate</a> <a id="time₁"></a><a id="2058" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2058" class="Postulate">time₁</a> <a id="2064" class="Symbol">:</a> <a id="2066" href="basicBitcoinDataType.html#650" class="Function">Time</a>
  <a id="2073" class="Keyword">postulate</a> <a id="msg₁"></a><a id="2083" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2083" class="Postulate">msg₁</a> <a id="2088" class="Symbol">:</a> <a id="2090" href="basicBitcoinDataType.html#842" class="Datatype">Msg</a>
  <a id="2096" class="Keyword">postulate</a> <a id="stack₁"></a><a id="2106" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2106" class="Postulate">stack₁</a> <a id="2113" class="Symbol">:</a> <a id="2115" href="stack.html#690" class="Function">Stack</a>
  <a id="2123" class="Keyword">postulate</a> <a id="pbkh"></a><a id="2133" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2133" class="Postulate">pbkh</a> <a id="2138" class="Symbol">:</a> <a id="2140" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="2144" class="Keyword">postulate</a> <a id="pbk"></a><a id="2154" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2154" class="Postulate">pbk</a> <a id="2158" class="Symbol">:</a> <a id="2160" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="2164" class="Keyword">postulate</a> <a id="x₁"></a><a id="2174" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2174" class="Postulate">x₁</a> <a id="2177" class="Symbol">:</a> <a id="2179" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="2183" class="Keyword">postulate</a> <a id="sig₁"></a><a id="2193" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2193" class="Postulate">sig₁</a> <a id="2198" class="Symbol">:</a> <a id="2200" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>


<a id="2204" class="Comment">{- We first create a symbolic execution of the scriptP2PKHᵇ pbkh to see what kind
   of case distinction happens -}</a>

<a id="check"></a><a id="2321" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2321" class="Function">check</a> <a id="2327" class="Symbol">=</a> <a id="2329" href="verificationStackScripts.stackVerificationP2PKH.html#6137" class="Function">scriptP2PKHᵇ</a>

<a id="testP2PKHscript"></a><a id="2343" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2343" class="Function">testP2PKHscript</a> <a id="2359" class="Symbol">:</a> <a id="2361" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2367" href="stack.html#690" class="Function">Stack</a>
<a id="2373" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2343" class="Function">testP2PKHscript</a> <a id="2389" class="Symbol">=</a>
 <a id="2392" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1838" class="Function Operator">⟦</a> <a id="2394" href="verificationStackScripts.stackVerificationP2PKH.html#6137" class="Function">scriptP2PKHᵇ</a> <a id="2407" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2133" class="Postulate">pbkh</a> <a id="2412" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1838" class="Function Operator">⟧ˢ</a> <a id="2415" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2058" class="Postulate">time₁</a> <a id="2421" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2083" class="Postulate">msg₁</a> <a id="2426" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2106" class="Postulate">stack₁</a>




<a id="2437" class="Comment">--⟦ scriptP2PKHᵇ pbkh ⟧ˢ time₁ msg₁ stack</a>

<a id="2480" class="Comment">{- evaluation gives

executeStackDup stack₁ &gt;&gt;=
(λ stack₂ →
   executeOpHash stack₂ &gt;&gt;=
   (λ stack₃ →
      executeStackEquality (pbkh ∷ stack₃) &gt;&gt;=
      (λ stack₄ →
         executeStackVerify stack₄ &gt;&gt;=
         (λ stack₅ → executeStackCheckSig msg₁ stack₅))))

Improved layout
executeStackDup stack₁ &gt;&gt;= (λ stack₂ →  executeOpHash stack₂ &gt;&gt;=
   (λ stack₃ →  executeStackEquality (pbkh ∷ stack₃) &gt;&gt;=
   (λ stack₄ →  executeStackVerify stack₄ &gt;&gt;=
   (λ stack₅ → executeStackCheckSig msg₁ stack₅))))

-}</a>

<a id="2987" class="Comment">-- We define a term giving the result of the evaluation</a>

<a id="testP2PKHscript2"></a><a id="3044" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3044" class="Function">testP2PKHscript2</a> <a id="3061" class="Symbol">:</a> <a id="3063" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3069" href="stack.html#690" class="Function">Stack</a>
<a id="3075" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3044" class="Function">testP2PKHscript2</a> <a id="3092" class="Symbol">=</a>
 <a id="3095" href="semanticBasicOperations.html#1932" class="Function">executeStackDup</a> <a id="3111" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2106" class="Postulate">stack₁</a>                <a id="3133" href="Data.Maybe.Base.html#2256" class="Function Operator">&gt;&gt;=</a>  <a id="3138" class="Symbol">λ</a> <a id="3140" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3140" class="Bound">stack₂</a> <a id="3147" class="Symbol">→</a>  <a id="3150" href="semanticBasicOperations.html#807" class="Function">executeOpHash</a> <a id="3164" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3140" class="Bound">stack₂</a>       <a id="3177" href="Data.Maybe.Base.html#2256" class="Function Operator">&gt;&gt;=</a> <a id="3181" class="Symbol">λ</a> <a id="3183" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3183" class="Bound">stack₃</a> <a id="3190" class="Symbol">→</a>
 <a id="3193" href="semanticBasicOperations.html#1330" class="Function">executeStackEquality</a> <a id="3214" class="Symbol">(</a><a id="3215" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2133" class="Postulate">pbkh</a> <a id="3220" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3222" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3183" class="Bound">stack₃</a><a id="3228" class="Symbol">)</a>  <a id="3231" href="Data.Maybe.Base.html#2256" class="Function Operator">&gt;&gt;=</a>  <a id="3236" class="Symbol">λ</a> <a id="3238" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3238" class="Bound">stack₄</a> <a id="3245" class="Symbol">→</a>  <a id="3248" href="semanticBasicOperations.html#1140" class="Function">executeStackVerify</a> <a id="3267" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3238" class="Bound">stack₄</a>  <a id="3275" href="Data.Maybe.Base.html#2256" class="Function Operator">&gt;&gt;=</a> <a id="3279" class="Symbol">λ</a> <a id="3281" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3281" class="Bound">stack₅</a> <a id="3288" class="Symbol">→</a>
 <a id="3291" href="semanticBasicOperations.html#3120" class="Function">executeStackCheckSig</a> <a id="3312" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2083" class="Postulate">msg₁</a> <a id="3317" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3281" class="Bound">stack₅</a>


<a id="testP2PKHscript2UsingMoreSpace"></a><a id="3326" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3326" class="Function">testP2PKHscript2UsingMoreSpace</a> <a id="3357" class="Symbol">=</a>
 <a id="3360" href="semanticBasicOperations.html#1932" class="Function">executeStackDup</a> <a id="3376" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2106" class="Postulate">stack₁</a>                             <a id="3411" href="Data.Maybe.Base.html#2256" class="Function Operator">&gt;&gt;=</a>
 <a id="3416" class="Symbol">λ</a> <a id="3418" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3418" class="Bound">stack₂</a> <a id="3425" class="Symbol">→</a>  <a id="3428" href="semanticBasicOperations.html#807" class="Function">executeOpHash</a> <a id="3442" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3418" class="Bound">stack₂</a>                   <a id="3467" href="Data.Maybe.Base.html#2256" class="Function Operator">&gt;&gt;=</a>
 <a id="3472" class="Symbol">λ</a> <a id="3474" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3474" class="Bound">stack₃</a> <a id="3481" class="Symbol">→</a>  <a id="3484" href="semanticBasicOperations.html#1330" class="Function">executeStackEquality</a> <a id="3505" class="Symbol">(</a><a id="3506" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2133" class="Postulate">pbkh</a> <a id="3511" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3513" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3474" class="Bound">stack₃</a><a id="3519" class="Symbol">)</a>   <a id="3523" href="Data.Maybe.Base.html#2256" class="Function Operator">&gt;&gt;=</a>
 <a id="3528" class="Symbol">λ</a> <a id="3530" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3530" class="Bound">stack₄</a> <a id="3537" class="Symbol">→</a>  <a id="3540" href="semanticBasicOperations.html#1140" class="Function">executeStackVerify</a> <a id="3559" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3530" class="Bound">stack₄</a>              <a id="3579" href="Data.Maybe.Base.html#2256" class="Function Operator">&gt;&gt;=</a>
 <a id="3584" class="Symbol">λ</a> <a id="3586" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3586" class="Bound">stack₅</a> <a id="3593" class="Symbol">→</a>  <a id="3596" href="semanticBasicOperations.html#3120" class="Function">executeStackCheckSig</a> <a id="3617" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2083" class="Postulate">msg₁</a> <a id="3622" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3586" class="Bound">stack₅</a>



<a id="testP2PKHscript2UsingMoreSpaceUsingDo"></a><a id="3632" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3632" class="Function">testP2PKHscript2UsingMoreSpaceUsingDo</a> <a id="3670" class="Symbol">=</a>
 <a id="3673" class="Keyword">do</a>  <a id="3677" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3677" class="Bound">stack₂</a> <a id="3684" href="Data.Maybe.Base.html#2256" class="Function Operator">←</a> <a id="3686" href="semanticBasicOperations.html#1932" class="Function">executeStackDup</a> <a id="3702" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2106" class="Postulate">stack₁</a>
     <a id="3714" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3714" class="Bound">stack₃</a> <a id="3721" href="Data.Maybe.Base.html#2256" class="Function Operator">←</a> <a id="3723" href="semanticBasicOperations.html#807" class="Function">executeOpHash</a> <a id="3737" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3677" class="Bound">stack₂</a>
     <a id="3749" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3749" class="Bound">stack₄</a> <a id="3756" href="Data.Maybe.Base.html#2256" class="Function Operator">←</a> <a id="3758" href="semanticBasicOperations.html#1330" class="Function">executeStackEquality</a> <a id="3779" class="Symbol">(</a><a id="3780" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2133" class="Postulate">pbkh</a> <a id="3785" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3787" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3714" class="Bound">stack₃</a><a id="3793" class="Symbol">)</a>
     <a id="3800" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3800" class="Bound">stack₅</a> <a id="3807" href="Data.Maybe.Base.html#2256" class="Function Operator">←</a> <a id="3809" href="semanticBasicOperations.html#1140" class="Function">executeStackVerify</a> <a id="3828" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3749" class="Bound">stack₄</a>
     <a id="3840" href="semanticBasicOperations.html#3120" class="Function">executeStackCheckSig</a> <a id="3861" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2083" class="Postulate">msg₁</a> <a id="3866" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3800" class="Bound">stack₅</a>



<a id="3876" class="Comment">{- in imperative programming we would write

   stack₂ := executeStackDup stack₁;
   stack₃ := executeOpHash stack₂;
   stack₄ := executeStackEquality (pbkh ∷ stack₃);
   stack₅ := executeStackVerify stack₄;
   executeStackCheckSig msg₁ stack₅;

-}</a>


<a id="4127" class="Comment">{-
If we execute the first line
(executeStackDup stack₁)

we see it will give
nothing if stack₁ = []
just something if stack₁ is nonempty

So let&#39;s check what happens if stack₁ = []
-}</a>


<a id="testP2PKHscriptEmpty"></a><a id="4314" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4314" class="Function">testP2PKHscriptEmpty</a> <a id="4335" class="Symbol">:</a> <a id="4337" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4343" href="stack.html#690" class="Function">Stack</a>
<a id="4349" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4314" class="Function">testP2PKHscriptEmpty</a> <a id="4370" class="Symbol">=</a>
 <a id="4373" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1838" class="Function Operator">⟦</a> <a id="4375" href="verificationStackScripts.stackVerificationP2PKH.html#6137" class="Function">scriptP2PKHᵇ</a> <a id="4388" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2133" class="Postulate">pbkh</a> <a id="4393" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1838" class="Function Operator">⟧ˢ</a> <a id="4396" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2058" class="Postulate">time₁</a> <a id="4402" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2083" class="Postulate">msg₁</a> <a id="4407" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>




<a id="4414" class="Comment">{- if we evaluate testP2PKHscriptEmpty we get:

nothing

So now get the first (trivial) theorem
(without the postulated parameters)
-}</a>



<a id="stackfunP2PKHemptyIsNothing"></a><a id="4552" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4552" class="Function">stackfunP2PKHemptyIsNothing</a> <a id="4580" class="Symbol">:</a> <a id="4582" class="Symbol">(</a><a id="4583" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4583" class="Bound">pubKeyHash</a> <a id="4594" class="Symbol">:</a> <a id="4596" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="4597" class="Symbol">)(</a><a id="4599" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4599" class="Bound">time₁</a> <a id="4605" class="Symbol">:</a> <a id="4607" href="basicBitcoinDataType.html#650" class="Function">Time</a><a id="4611" class="Symbol">)(</a><a id="4613" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4613" class="Bound">msg₁</a> <a id="4618" class="Symbol">:</a> <a id="4620" href="basicBitcoinDataType.html#842" class="Datatype">Msg</a><a id="4623" class="Symbol">)</a>
                              <a id="4655" class="Symbol">→</a> <a id="4657" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1838" class="Function Operator">⟦</a> <a id="4659" href="verificationStackScripts.stackVerificationP2PKH.html#6137" class="Function">scriptP2PKHᵇ</a> <a id="4672" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4583" class="Bound">pubKeyHash</a> <a id="4683" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1838" class="Function Operator">⟧ˢ</a> <a id="4686" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4599" class="Bound">time₁</a> <a id="4692" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4613" class="Bound">msg₁</a> <a id="4697" class="InductiveConstructor">[]</a> <a id="4700" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4702" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
<a id="4710" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4552" class="Function">stackfunP2PKHemptyIsNothing</a> <a id="4738" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4738" class="Bound">pubKeyHash</a> <a id="4749" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4749" class="Bound">time₁</a> <a id="4755" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4755" class="Bound">msg₁</a> <a id="4760" class="Symbol">=</a> <a id="4762" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>




<a id="4771" class="Comment">{- Now we look at what happens if the stack is non empty

lets a test for symbolic execution -}</a>


<a id="teststackfunP2PKHNonEmptyStack"></a><a id="4869" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4869" class="Function">teststackfunP2PKHNonEmptyStack</a> <a id="4900" class="Symbol">:</a>  <a id="4903" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4909" href="stack.html#690" class="Function">Stack</a>
<a id="4915" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4869" class="Function">teststackfunP2PKHNonEmptyStack</a> <a id="4946" class="Symbol">=</a>
  <a id="4950" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1838" class="Function Operator">⟦</a> <a id="4952" href="verificationStackScripts.stackVerificationP2PKH.html#6137" class="Function">scriptP2PKHᵇ</a> <a id="4965" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2133" class="Postulate">pbkh</a> <a id="4970" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1838" class="Function Operator">⟧ˢ</a> <a id="4973" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2058" class="Postulate">time₁</a> <a id="4979" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2083" class="Postulate">msg₁</a> <a id="4984" class="Symbol">(</a><a id="4985" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2154" class="Postulate">pbk</a> <a id="4989" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4991" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2106" class="Postulate">stack₁</a><a id="4997" class="Symbol">)</a>

<a id="5000" class="Comment">{- If we evaluate teststackfunP2PKHNonEmptyStack we get
executeStackVerify (compareNaturals pbkh (param .hash pbk) ∷ pbk ∷ stack₁)
&gt;&gt;= (λ stack₂ → executeStackCheckSig msg₁ stack₂)
-}</a>

<a id="stackfunP2PKHNonEmptyStackNormalForm"></a><a id="5185" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5185" class="Function">stackfunP2PKHNonEmptyStackNormalForm</a> <a id="5222" class="Symbol">:</a>  <a id="5225" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="5231" href="stack.html#690" class="Function">Stack</a>
<a id="5237" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5185" class="Function">stackfunP2PKHNonEmptyStackNormalForm</a> <a id="5274" class="Symbol">=</a>
 <a id="5277" href="semanticBasicOperations.html#1140" class="Function">executeStackVerify</a> <a id="5296" class="Symbol">(</a><a id="5297" href="libraries.natLib.html#1047" class="Function">compareNaturals</a> <a id="5313" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2133" class="Postulate">pbkh</a> <a id="5318" class="Symbol">(</a><a id="5319" href="semanticBasicOperations.html#766" class="Function">hashFun</a> <a id="5327" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2154" class="Postulate">pbk</a><a id="5330" class="Symbol">)</a> <a id="5332" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5334" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2154" class="Postulate">pbk</a> <a id="5338" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5340" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2106" class="Postulate">stack₁</a><a id="5346" class="Symbol">)</a> <a id="5348" href="Data.Maybe.Base.html#2256" class="Function Operator">&gt;&gt;=</a>
 <a id="5353" href="semanticBasicOperations.html#3120" class="Function">executeStackCheckSig</a> <a id="5374" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2083" class="Postulate">msg₁</a>


<a id="stackfunP2PKHNonEmptyStackNormalFormDo"></a><a id="5381" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5381" class="Function">stackfunP2PKHNonEmptyStackNormalFormDo</a> <a id="5420" class="Symbol">:</a>  <a id="5423" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="5429" href="stack.html#690" class="Function">Stack</a>
<a id="5435" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5381" class="Function">stackfunP2PKHNonEmptyStackNormalFormDo</a> <a id="5474" class="Symbol">=</a>
 <a id="5477" class="Keyword">do</a>   <a id="5482" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5482" class="Bound">stack₅</a> <a id="5489" href="Data.Maybe.Base.html#2256" class="Function Operator">←</a> <a id="5491" href="semanticBasicOperations.html#1140" class="Function">executeStackVerify</a> <a id="5510" class="Symbol">(</a><a id="5511" href="libraries.natLib.html#1047" class="Function">compareNaturals</a> <a id="5527" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2133" class="Postulate">pbkh</a> <a id="5532" class="Symbol">(</a><a id="5533" href="semanticBasicOperations.html#766" class="Function">hashFun</a> <a id="5541" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2154" class="Postulate">pbk</a><a id="5544" class="Symbol">)</a> <a id="5546" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5548" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2154" class="Postulate">pbk</a> <a id="5552" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5554" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2106" class="Postulate">stack₁</a><a id="5560" class="Symbol">)</a>
      <a id="5568" href="semanticBasicOperations.html#3120" class="Function">executeStackCheckSig</a> <a id="5589" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2083" class="Postulate">msg₁</a> <a id="5594" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5482" class="Bound">stack₅</a>





<a id="stackfunP2PKHNonEmptyStackNormalFormFirstPart"></a><a id="5606" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5606" class="Function">stackfunP2PKHNonEmptyStackNormalFormFirstPart</a> <a id="5652" class="Symbol">:</a>  <a id="5655" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="5661" href="stack.html#690" class="Function">Stack</a>
<a id="5667" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5606" class="Function">stackfunP2PKHNonEmptyStackNormalFormFirstPart</a> <a id="5713" class="Symbol">=</a>
 <a id="5716" href="semanticBasicOperations.html#1140" class="Function">executeStackVerify</a> <a id="5735" class="Symbol">(</a><a id="5736" href="libraries.natLib.html#1047" class="Function">compareNaturals</a> <a id="5752" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2133" class="Postulate">pbkh</a> <a id="5757" class="Symbol">(</a><a id="5758" href="semanticBasicOperations.html#766" class="Function">hashFun</a> <a id="5766" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2154" class="Postulate">pbk</a><a id="5769" class="Symbol">)</a> <a id="5771" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5773" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2154" class="Postulate">pbk</a> <a id="5777" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5779" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2106" class="Postulate">stack₁</a><a id="5785" class="Symbol">)</a>


<a id="stackfunP2PKHNonEmptyStackNormalFormFirstPartZoomedIn"></a><a id="5789" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5789" class="Function">stackfunP2PKHNonEmptyStackNormalFormFirstPartZoomedIn</a> <a id="5843" class="Symbol">:</a>  <a id="5846" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="5848" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5789" class="Function">stackfunP2PKHNonEmptyStackNormalFormFirstPartZoomedIn</a> <a id="5902" class="Symbol">=</a>
 <a id="5905" href="libraries.natLib.html#1047" class="Function">compareNaturals</a> <a id="5921" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2133" class="Postulate">pbkh</a> <a id="5926" class="Symbol">(</a><a id="5927" href="semanticBasicOperations.html#766" class="Function">hashFun</a> <a id="5935" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2154" class="Postulate">pbk</a><a id="5938" class="Symbol">)</a>





<a id="5945" class="Comment">{-
We see that

(λ stack₂ → executeStackCheckSig msg₁ stack₂) = executeStackCheckSig msg₁

and can therefore use

executeStackVerify (compareNaturals pbkh (param .hash pbk) ∷ pbk ∷ stack₁)
&gt;&gt;= executeStackCheckSig msg₁

 -}</a>




<a id="stackfunP2PKHNonEmptyStack"></a><a id="6173" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6173" class="Function">stackfunP2PKHNonEmptyStack</a> <a id="6200" class="Symbol">:</a> <a id="6202" class="Symbol">(</a><a id="6203" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6203" class="Bound">pubKeyHash</a> <a id="6214" class="Symbol">:</a> <a id="6216" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="6217" class="Symbol">)(</a><a id="6219" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6219" class="Bound">msg₁</a> <a id="6224" class="Symbol">:</a> <a id="6226" href="basicBitcoinDataType.html#842" class="Datatype">Msg</a><a id="6229" class="Symbol">)(</a><a id="6231" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6231" class="Bound">pbk</a> <a id="6235" class="Symbol">:</a> <a id="6237" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="6238" class="Symbol">)(</a><a id="6240" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6240" class="Bound">stack₂</a> <a id="6247" class="Symbol">:</a> <a id="6249" href="stack.html#690" class="Function">Stack</a><a id="6254" class="Symbol">)</a> <a id="6256" class="Symbol">→</a> <a id="6258" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="6264" href="stack.html#690" class="Function">Stack</a>
<a id="6270" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6173" class="Function">stackfunP2PKHNonEmptyStack</a> <a id="6297" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6297" class="Bound">pubKeyHash</a> <a id="6308" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6308" class="Bound">msg₁</a> <a id="6313" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6313" class="Bound">pbk</a> <a id="6317" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6317" class="Bound">stack₂</a>
              <a id="6338" class="Symbol">=</a> <a id="6340" href="semanticBasicOperations.html#1140" class="Function">executeStackVerify</a> <a id="6359" class="Symbol">(</a><a id="6360" href="libraries.natLib.html#1047" class="Function">compareNaturals</a> <a id="6376" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6297" class="Bound">pubKeyHash</a> <a id="6387" class="Symbol">(</a><a id="6388" href="semanticBasicOperations.html#766" class="Function">hashFun</a> <a id="6396" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6313" class="Bound">pbk</a><a id="6399" class="Symbol">)</a> <a id="6401" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6403" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6313" class="Bound">pbk</a> <a id="6407" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6409" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6317" class="Bound">stack₂</a><a id="6415" class="Symbol">)</a>
                 <a id="6434" href="Data.Maybe.Base.html#2256" class="Function Operator">&gt;&gt;=</a> <a id="6438" href="semanticBasicOperations.html#3120" class="Function">executeStackCheckSig</a> <a id="6459" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6308" class="Bound">msg₁</a>




<a id="6468" class="Comment">-- and check that this is correct</a>

<a id="stackfunP2PKHemptyNonEmptyStackCorrect"></a><a id="6503" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6503" class="Function">stackfunP2PKHemptyNonEmptyStackCorrect</a> <a id="6542" class="Symbol">:</a> <a id="6544" class="Symbol">(</a><a id="6545" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6545" class="Bound">pubKeyHash</a> <a id="6556" class="Symbol">:</a> <a id="6558" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="6559" class="Symbol">)(</a><a id="6561" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6561" class="Bound">time₁</a> <a id="6567" class="Symbol">:</a> <a id="6569" href="basicBitcoinDataType.html#650" class="Function">Time</a><a id="6573" class="Symbol">)(</a><a id="6575" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6575" class="Bound">msg₁</a> <a id="6580" class="Symbol">:</a> <a id="6582" href="basicBitcoinDataType.html#842" class="Datatype">Msg</a><a id="6585" class="Symbol">)(</a><a id="6587" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6587" class="Bound">pbk</a> <a id="6591" class="Symbol">:</a> <a id="6593" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="6594" class="Symbol">)(</a><a id="6596" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6596" class="Bound">stack₂</a> <a id="6603" class="Symbol">:</a> <a id="6605" href="stack.html#690" class="Function">Stack</a><a id="6610" class="Symbol">)</a>
        <a id="6620" class="Symbol">→</a> <a id="6622" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1838" class="Function Operator">⟦</a> <a id="6624" href="verificationStackScripts.stackVerificationP2PKH.html#6137" class="Function">scriptP2PKHᵇ</a> <a id="6637" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6545" class="Bound">pubKeyHash</a>  <a id="6649" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1838" class="Function Operator">⟧ˢ</a> <a id="6652" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6561" class="Bound">time₁</a> <a id="6658" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6575" class="Bound">msg₁</a> <a id="6663" class="Symbol">(</a><a id="6664" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6587" class="Bound">pbk</a> <a id="6668" class="InductiveConstructor Operator">∷</a> <a id="6670" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6596" class="Bound">stack₂</a><a id="6676" class="Symbol">)</a> <a id="6678" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6680" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6173" class="Function">stackfunP2PKHNonEmptyStack</a> <a id="6707" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6545" class="Bound">pubKeyHash</a> <a id="6718" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6575" class="Bound">msg₁</a>  <a id="6724" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6587" class="Bound">pbk</a> <a id="6728" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6596" class="Bound">stack₂</a>
<a id="6735" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6503" class="Function">stackfunP2PKHemptyNonEmptyStackCorrect</a> <a id="6774" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6774" class="Bound">pubKeyHash</a> <a id="6785" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6785" class="Bound">time₁</a> <a id="6791" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6791" class="Bound">msg₁</a> <a id="6796" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6796" class="Bound">pbk</a> <a id="6800" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6800" class="Bound">stack₂</a> <a id="6807" class="Symbol">=</a> <a id="6809" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>



<a id="6817" class="Comment">{- We see now the case distinction depends on
   compres := compareNaturals pbkh (hashFun pbk)

since

executeStackVerify    (compres ∷  pbk ∷ stack₁)

will depend on whether compres is 0 or  suc x&#39;

so we abstract from

compres = compareNaturals pubKeyHash (hashFun pbk)

-}</a>

<a id="7094" class="Comment">-- This function will be repeated in stackVerificationP2PKHextractedProgram.agda</a>
<a id="7175" class="Comment">-- and therefore is kept private in this section in order to avoid a conflict</a>
<a id="7253" class="Comment">-- \stackVerificationPtoPKHsymbolicExecutionabstract</a>

<a id="p2PKHNonEmptyStackAbstr&#39;"></a><a id="7307" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7307" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="7332" class="Symbol">:</a> <a id="7334" class="Symbol">(</a><a id="7335" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7335" class="Bound">msg₁</a> <a id="7340" class="Symbol">:</a> <a id="7342" href="basicBitcoinDataType.html#842" class="Datatype">Msg</a><a id="7345" class="Symbol">)(</a><a id="7347" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7347" class="Bound">pbk</a> <a id="7351" class="Symbol">:</a> <a id="7353" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="7354" class="Symbol">)(</a><a id="7356" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7356" class="Bound">stack₁</a> <a id="7363" class="Symbol">:</a> <a id="7365" href="stack.html#690" class="Function">Stack</a><a id="7370" class="Symbol">)(</a><a id="7372" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7372" class="Bound">cmp</a> <a id="7376" class="Symbol">:</a> <a id="7378" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="7379" class="Symbol">)</a> <a id="7381" class="Symbol">→</a> <a id="7383" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="7389" href="stack.html#690" class="Function">Stack</a>
<a id="7395" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7307" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="7420" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7420" class="Bound">msg₁</a> <a id="7425" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7425" class="Bound">pbk</a> <a id="7429" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7429" class="Bound">stack₁</a> <a id="7436" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7436" class="Bound">cmp</a> <a id="7440" class="Symbol">=</a>  <a id="7443" href="semanticBasicOperations.html#1140" class="Function">executeStackVerify</a> <a id="7462" class="Symbol">(</a><a id="7463" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7436" class="Bound">cmp</a> <a id="7467" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a>  <a id="7470" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7425" class="Bound">pbk</a> <a id="7474" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="7476" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7429" class="Bound">stack₁</a><a id="7482" class="Symbol">)</a> <a id="7484" href="Data.Maybe.Base.html#2256" class="Function Operator">&gt;&gt;=</a>
                                                <a id="7536" href="semanticBasicOperations.html#3120" class="Function">executeStackCheckSig</a> <a id="7557" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7420" class="Bound">msg₁</a>


<a id="abstrFun"></a><a id="7564" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7564" class="Function">abstrFun</a> <a id="7573" class="Symbol">:</a> <a id="7575" class="Symbol">(</a><a id="7576" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7576" class="Bound">stack₁</a> <a id="7583" class="Symbol">:</a> <a id="7585" href="stack.html#690" class="Function">Stack</a><a id="7590" class="Symbol">)(</a><a id="7592" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7592" class="Bound">cmp</a> <a id="7596" class="Symbol">:</a> <a id="7598" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="7599" class="Symbol">)</a> <a id="7601" class="Symbol">→</a> <a id="7603" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="7609" href="stack.html#690" class="Function">Stack</a>
<a id="7615" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7564" class="Function">abstrFun</a> <a id="7624" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7624" class="Bound">stack₁</a> <a id="7631" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7631" class="Bound">cmp</a> <a id="7635" class="Symbol">=</a>  <a id="7638" class="Keyword">do</a>  <a id="7642" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7642" class="Bound">stack₅</a> <a id="7649" href="Data.Maybe.Base.html#2256" class="Function Operator">←</a> <a id="7651" href="semanticBasicOperations.html#1140" class="Function">executeStackVerify</a> <a id="7670" class="Symbol">(</a><a id="7671" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7631" class="Bound">cmp</a> <a id="7675" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a>  <a id="7678" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2154" class="Postulate">pbk</a> <a id="7682" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="7684" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7624" class="Bound">stack₁</a><a id="7690" class="Symbol">)</a>
                           <a id="7719" href="semanticBasicOperations.html#3120" class="Function">executeStackCheckSig</a> <a id="7740" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2083" class="Postulate">msg₁</a> <a id="7745" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7642" class="Bound">stack₅</a>




<a id="stackfunP2PKHNonEmptyStackNormalFormUsingAbstractedFun"></a><a id="7756" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7756" class="Function">stackfunP2PKHNonEmptyStackNormalFormUsingAbstractedFun</a> <a id="7811" class="Symbol">:</a> <a id="7813" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="7819" href="stack.html#690" class="Function">Stack</a>
<a id="7825" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7756" class="Function">stackfunP2PKHNonEmptyStackNormalFormUsingAbstractedFun</a> <a id="7880" class="Symbol">=</a>
  <a id="7884" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7564" class="Function">abstrFun</a> <a id="7893" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2106" class="Postulate">stack₁</a> <a id="7900" class="Symbol">(</a><a id="7901" href="libraries.natLib.html#1047" class="Function">compareNaturals</a> <a id="7917" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2133" class="Postulate">pbkh</a> <a id="7922" class="Symbol">(</a><a id="7923" href="semanticBasicOperations.html#766" class="Function">hashFun</a> <a id="7931" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2154" class="Postulate">pbk</a><a id="7934" class="Symbol">))</a>


<a id="stackfunP2PKHNonEmptyStackNormalFormUsingAbstractedFunTest"></a><a id="7939" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7939" class="Function">stackfunP2PKHNonEmptyStackNormalFormUsingAbstractedFunTest</a> <a id="7998" class="Symbol">:</a>
    <a id="8004" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5185" class="Function">stackfunP2PKHNonEmptyStackNormalForm</a> <a id="8041" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8043" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7756" class="Function">stackfunP2PKHNonEmptyStackNormalFormUsingAbstractedFun</a>
<a id="8098" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7939" class="Function">stackfunP2PKHNonEmptyStackNormalFormUsingAbstractedFunTest</a>  <a id="8158" class="Symbol">=</a> <a id="8160" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="8166" class="Comment">-- and we show that this is the right function</a>


<a id="8215" class="Comment">-- This function will be repeated in stackVerificationP2PKHextractedProgram.agda</a>
<a id="8296" class="Comment">-- and therefore is kept private in this section in order to avoid a conflict</a>
<a id="8374" class="Keyword">private</a>
  <a id="stackfunP2PKHNonEmptyStackAbstractedCor"></a><a id="8384" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8384" class="Function">stackfunP2PKHNonEmptyStackAbstractedCor</a> <a id="8424" class="Symbol">:</a>  <a id="8427" class="Symbol">(</a><a id="8428" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8428" class="Bound">pubKeyHash</a> <a id="8439" class="Symbol">:</a> <a id="8441" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="8442" class="Symbol">)(</a><a id="8444" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8444" class="Bound">time₁</a> <a id="8450" class="Symbol">:</a> <a id="8452" href="basicBitcoinDataType.html#650" class="Function">Time</a><a id="8456" class="Symbol">)(</a><a id="8458" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8458" class="Bound">msg₁</a> <a id="8463" class="Symbol">:</a> <a id="8465" href="basicBitcoinDataType.html#842" class="Datatype">Msg</a><a id="8468" class="Symbol">)(</a><a id="8470" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8470" class="Bound">pbk</a> <a id="8474" class="Symbol">:</a> <a id="8476" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="8477" class="Symbol">)(</a><a id="8479" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8479" class="Bound">stack₂</a> <a id="8486" class="Symbol">:</a> <a id="8488" href="stack.html#690" class="Function">Stack</a><a id="8493" class="Symbol">)</a>
                  <a id="8513" class="Symbol">→</a> <a id="8515" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1838" class="Function Operator">⟦</a> <a id="8517" href="verificationStackScripts.stackVerificationP2PKH.html#6137" class="Function">scriptP2PKHᵇ</a> <a id="8530" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8428" class="Bound">pubKeyHash</a> <a id="8541" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1838" class="Function Operator">⟧ˢ</a> <a id="8544" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8444" class="Bound">time₁</a> <a id="8550" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8458" class="Bound">msg₁</a> <a id="8555" class="Symbol">(</a><a id="8556" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8470" class="Bound">pbk</a> <a id="8560" class="InductiveConstructor Operator">∷</a> <a id="8562" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8479" class="Bound">stack₂</a><a id="8568" class="Symbol">)</a>
                     <a id="8591" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8593" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7307" class="Function">p2PKHNonEmptyStackAbstr&#39;</a>  <a id="8619" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8458" class="Bound">msg₁</a> <a id="8624" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8470" class="Bound">pbk</a> <a id="8628" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8479" class="Bound">stack₂</a>
                             <a id="8664" class="Symbol">(</a><a id="8665" href="libraries.natLib.html#1047" class="Function">compareNaturals</a> <a id="8681" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8428" class="Bound">pubKeyHash</a> <a id="8692" class="Symbol">(</a><a id="8693" href="semanticBasicOperations.html#766" class="Function">hashFun</a> <a id="8701" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8470" class="Bound">pbk</a><a id="8704" class="Symbol">))</a>
  <a id="8709" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8384" class="Function">stackfunP2PKHNonEmptyStackAbstractedCor</a> <a id="8749" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8749" class="Bound">pubKeyHash</a> <a id="8760" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8760" class="Bound">time₁</a> <a id="8766" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8766" class="Bound">msg₁</a> <a id="8771" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8771" class="Bound">pbk</a> <a id="8775" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8775" class="Bound">stack₂</a> <a id="8782" class="Symbol">=</a> <a id="8784" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>


<a id="8791" class="Comment">{- Now we investigate what  p2PKHNonEmptyStackAbstr&#39;
When looking at it and see that

 p2PKHNonEmptyStackAbstr&#39; msg₁ pbk stack₂ cmp

will execute
executeStackVerify (cmp ∷  pbk ∷ stack₂)
which will in turn make a case disctintion on whether cmp is 0 or  not zero

(that corresponds to what the original function does because it makes this comparison
   compareNaturals pubKeyHash (hashFun pbk)
  which checks  whether the pbk provided  by the user hashes to the pubKeyHash of the locking script
    if it  is 0 it should fail, and if it is 1 it should succeed.

So lets make the test
-}</a>

<a id="testStackfunP2PKHNonEmptyStackAbstractedCompre0"></a><a id="9379" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9379" class="Function">testStackfunP2PKHNonEmptyStackAbstractedCompre0</a> <a id="9427" class="Symbol">:</a> <a id="9429" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="9435" href="stack.html#690" class="Function">Stack</a>
<a id="9441" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9379" class="Function">testStackfunP2PKHNonEmptyStackAbstractedCompre0</a> <a id="9489" class="Symbol">=</a> <a id="9491" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7307" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="9516" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2083" class="Postulate">msg₁</a> <a id="9521" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2154" class="Postulate">pbk</a> <a id="9525" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2106" class="Postulate">stack₁</a> <a id="9532" class="Number">0</a>

<a id="9535" class="Comment">{- if we evaluate testStackfunP2PKHNonEmptyStackAbstractedCompre0 we get

nothing
-}</a>

<a id="9621" class="Comment">-- we evaluate now</a>
<a id="abstrFunZeroCase"></a><a id="9640" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9640" class="Function">abstrFunZeroCase</a> <a id="9657" class="Symbol">:</a> <a id="9659" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="9665" href="stack.html#690" class="Function">Stack</a>
<a id="9671" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9640" class="Function">abstrFunZeroCase</a> <a id="9688" class="Symbol">=</a> <a id="9690" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7564" class="Function">abstrFun</a> <a id="9699" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2106" class="Postulate">stack₁</a> <a id="9706" class="Number">0</a>



<a id="9711" class="Comment">-- We  show now this is always the case</a>



<a id="9754" class="Comment">-- This function will be repeated in stackVerificationP2PKHextractedProgram.agda</a>
<a id="9835" class="Comment">-- and therefore is kept private in this section in order to avoid a conflict</a>
<a id="9913" class="Keyword">private</a>
  <a id="stackfunP2PKHNonEmptyStackAbstractedCorCompr0IsNothing"></a><a id="9923" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9923" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorCompr0IsNothing</a> <a id="9978" class="Symbol">:</a> <a id="9980" class="Symbol">(</a><a id="9981" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9981" class="Bound">msg₁</a> <a id="9986" class="Symbol">:</a> <a id="9988" href="basicBitcoinDataType.html#842" class="Datatype">Msg</a><a id="9991" class="Symbol">)(</a><a id="9993" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9993" class="Bound">pbk</a> <a id="9997" class="Symbol">:</a> <a id="9999" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="10000" class="Symbol">)(</a><a id="10002" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10002" class="Bound">stack₂</a> <a id="10009" class="Symbol">:</a> <a id="10011" href="stack.html#690" class="Function">Stack</a><a id="10016" class="Symbol">)</a>
        <a id="10026" class="Symbol">→</a>  <a id="10029" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7307" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="10054" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9981" class="Bound">msg₁</a> <a id="10059" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9993" class="Bound">pbk</a> <a id="10063" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10002" class="Bound">stack₂</a> <a id="10070" class="Number">0</a> <a id="10072" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="10074" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
  <a id="10084" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9923" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorCompr0IsNothing</a> <a id="10139" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10139" class="Bound">msg₁</a> <a id="10144" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10144" class="Bound">pbk</a> <a id="10148" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10148" class="Bound">stack₂</a> <a id="10155" class="Symbol">=</a> <a id="10157" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>


<a id="10164" class="Comment">{- Now we look at what happens  if the value is non zero -}</a>


<a id="testStackfunP2PKHNonEmptyStackAbstractedCompreSucCase"></a><a id="10226" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10226" class="Function">testStackfunP2PKHNonEmptyStackAbstractedCompreSucCase</a> <a id="10280" class="Symbol">:</a> <a id="10282" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="10288" href="stack.html#690" class="Function">Stack</a>
<a id="10294" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10226" class="Function">testStackfunP2PKHNonEmptyStackAbstractedCompreSucCase</a> <a id="10348" class="Symbol">=</a> <a id="10350" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7307" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="10375" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2083" class="Postulate">msg₁</a> <a id="10380" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2154" class="Postulate">pbk</a> <a id="10384" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2106" class="Postulate">stack₁</a> <a id="10391" class="Symbol">(</a><a id="10392" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="10396" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2174" class="Postulate">x₁</a><a id="10398" class="Symbol">)</a>




<a id="10404" class="Comment">-- we evaluate now</a>
<a id="abstrFunSucCase"></a><a id="10423" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10423" class="Function">abstrFunSucCase</a> <a id="10439" class="Symbol">:</a> <a id="10441" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="10447" href="stack.html#690" class="Function">Stack</a>
<a id="10453" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10423" class="Function">abstrFunSucCase</a> <a id="10469" class="Symbol">=</a> <a id="10471" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7564" class="Function">abstrFun</a> <a id="10480" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2106" class="Postulate">stack₁</a> <a id="10487" class="Symbol">(</a><a id="10488" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="10492" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2174" class="Postulate">x₁</a><a id="10494" class="Symbol">)</a>


<a id="10498" class="Comment">-- we obtain</a>

<a id="abstrFunSucCaseNormal"></a><a id="10512" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10512" class="Function">abstrFunSucCaseNormal</a> <a id="10534" class="Symbol">:</a> <a id="10536" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="10542" href="stack.html#690" class="Function">Stack</a>
<a id="10548" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10512" class="Function">abstrFunSucCaseNormal</a> <a id="10570" class="Symbol">=</a>
  <a id="10574" href="semanticBasicOperations.html#3120" class="Function">executeStackCheckSig</a> <a id="10595" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2083" class="Postulate">msg₁</a> <a id="10600" class="Symbol">(</a><a id="10601" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2154" class="Postulate">pbk</a> <a id="10605" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10607" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2106" class="Postulate">stack₁</a><a id="10613" class="Symbol">)</a>


<a id="10617" class="Comment">-- executeStackCheckSig msg₁ (pbk ∷ stack₁)</a>



<a id="10664" class="Comment">{- if we evalute
     testStackfunP2PKHNonEmptyStackAbstractedCompreSucCase
    we get

executeStackCheckSig msg₁ (pbk ∷ stack₁)


This corresponds to the situation where
the original stack₁ was non empty, and the comparision of the pbk with the pbkhash
got a result &gt; 0



If we look at
executeStackCheckSig

we see that it gives nothing when the stack has height &lt; 2
and otherwise does something,

so we can  make a case distinction on whether in

p2PKHNonEmptyStackAbstr&#39; msg₁ pbk stack₁ x

stack₁ is [] or nonempty

So lets look at the easy case []

    -}</a>


<a id="11227" class="Comment">-- we evaluate now</a>
<a id="abstrFunSucCaseEmpty"></a><a id="11246" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11246" class="Function">abstrFunSucCaseEmpty</a> <a id="11267" class="Symbol">:</a> <a id="11269" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="11275" href="stack.html#690" class="Function">Stack</a>
<a id="11281" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11246" class="Function">abstrFunSucCaseEmpty</a> <a id="11302" class="Symbol">=</a> <a id="11304" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7564" class="Function">abstrFun</a> <a id="11313" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="11316" class="Symbol">(</a><a id="11317" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="11321" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2174" class="Postulate">x₁</a><a id="11323" class="Symbol">)</a>


<a id="11327" class="Comment">-- and obtain nothing</a>
<a id="abstrFunSucCaseEmptyCheck"></a><a id="11349" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11349" class="Function">abstrFunSucCaseEmptyCheck</a> <a id="11375" class="Symbol">:</a>  <a id="11378" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11246" class="Function">abstrFunSucCaseEmpty</a> <a id="11399" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11401" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
<a id="11409" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11349" class="Function">abstrFunSucCaseEmptyCheck</a> <a id="11435" class="Symbol">=</a> <a id="11437" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="11443" class="Comment">-- we evaluate now</a>
<a id="abstrFunSucCaseNonEmpty"></a><a id="11462" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11462" class="Function">abstrFunSucCaseNonEmpty</a> <a id="11486" class="Symbol">:</a> <a id="11488" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="11494" href="stack.html#690" class="Function">Stack</a>
<a id="11500" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11462" class="Function">abstrFunSucCaseNonEmpty</a> <a id="11524" class="Symbol">=</a>
  <a id="11528" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7564" class="Function">abstrFun</a> <a id="11537" class="Symbol">(</a><a id="11538" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2193" class="Postulate">sig₁</a> <a id="11543" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11545" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2106" class="Postulate">stack₁</a><a id="11551" class="Symbol">)</a> <a id="11553" class="Symbol">(</a><a id="11554" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="11558" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2174" class="Postulate">x₁</a><a id="11560" class="Symbol">)</a>



<a id="abstrFunSucCaseNonEmptyNormal"></a><a id="11565" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11565" class="Function">abstrFunSucCaseNonEmptyNormal</a> <a id="11595" class="Symbol">:</a> <a id="11597" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="11603" href="stack.html#690" class="Function">Stack</a>
<a id="11609" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11565" class="Function">abstrFunSucCaseNonEmptyNormal</a> <a id="11639" class="Symbol">=</a>
  <a id="11643" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="11648" class="Symbol">(</a><a id="11649" href="libraries.natLib.html#877" class="Function">boolToNat</a> <a id="11659" class="Symbol">(</a><a id="11660" href="semanticBasicOperations.html#2906" class="Function">isSigned</a> <a id="11669" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2083" class="Postulate">msg₁</a> <a id="11674" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2193" class="Postulate">sig₁</a> <a id="11679" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2154" class="Postulate">pbk</a><a id="11682" class="Symbol">)</a> <a id="11684" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11686" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2106" class="Postulate">stack₁</a><a id="11692" class="Symbol">)</a>


<a id="abstrFunSucCaseNonEmptyCheck"></a><a id="11696" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11696" class="Function">abstrFunSucCaseNonEmptyCheck</a> <a id="11725" class="Symbol">:</a> <a id="11727" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11462" class="Function">abstrFunSucCaseNonEmpty</a> <a id="11751" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11753" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11565" class="Function">abstrFunSucCaseNonEmptyNormal</a>
<a id="11783" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11696" class="Function">abstrFunSucCaseNonEmptyCheck</a> <a id="11812" class="Symbol">=</a> <a id="11814" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>


<a id="testStackfunP2PKHNonEmptyStackAbstractedCompreSucEmpty"></a><a id="11821" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11821" class="Function">testStackfunP2PKHNonEmptyStackAbstractedCompreSucEmpty</a> <a id="11876" class="Symbol">:</a> <a id="11878" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="11884" href="stack.html#690" class="Function">Stack</a>
<a id="11890" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11821" class="Function">testStackfunP2PKHNonEmptyStackAbstractedCompreSucEmpty</a> <a id="11945" class="Symbol">=</a>
                           <a id="11974" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7307" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="11999" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2083" class="Postulate">msg₁</a> <a id="12004" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2154" class="Postulate">pbk</a> <a id="12008" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="12011" class="Symbol">(</a><a id="12012" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="12016" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2174" class="Postulate">x₁</a><a id="12018" class="Symbol">)</a>


<a id="12022" class="Comment">{- if we evaluate testStackfunP2PKHNonEmptyStackAbstractedCompreSucEmpty we get  result

nothing

we check that this always holds
-}</a>


<a id="stackfunP2PKHNonEmptyStackAbstractedCorComprSucStackEmpty"></a><a id="12157" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12157" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorComprSucStackEmpty</a> <a id="12215" class="Symbol">:</a> <a id="12217" class="Symbol">(</a><a id="12218" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12218" class="Bound">msg₁</a> <a id="12223" class="Symbol">:</a> <a id="12225" href="basicBitcoinDataType.html#842" class="Datatype">Msg</a><a id="12228" class="Symbol">)(</a><a id="12230" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12230" class="Bound">pbk</a> <a id="12234" class="Symbol">:</a> <a id="12236" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="12237" class="Symbol">)(</a><a id="12239" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12239" class="Bound">x</a> <a id="12241" class="Symbol">:</a> <a id="12243" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="12244" class="Symbol">)</a>
             <a id="12259" class="Symbol">→</a> <a id="12261" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7307" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="12286" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12218" class="Bound">msg₁</a> <a id="12291" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12230" class="Bound">pbk</a> <a id="12295" class="InductiveConstructor">[]</a> <a id="12298" class="Symbol">(</a><a id="12299" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="12303" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12239" class="Bound">x</a><a id="12304" class="Symbol">)</a> <a id="12306" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12308" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
<a id="12316" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12157" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorComprSucStackEmpty</a> <a id="12374" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12374" class="Bound">msg₁</a> <a id="12379" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12379" class="Bound">pbk</a> <a id="12383" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12383" class="Bound">x</a>  <a id="12386" class="Symbol">=</a> <a id="12388" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="12394" class="Comment">{-  Intermezzo: we can see that stackfunP2PKHNonEmptyStackAbstractedCorComprSucStackEmpty returns always nothing if the stack is empty
   independent of the result

But this result is not really needed 
   -}</a>

<a id="12604" class="Comment">-- This function will be repeated in stackVerificationP2PKHextractedProgram.agda</a>
<a id="12685" class="Comment">-- and therefore is kept private in this section in order to avoid a conflict</a>
<a id="12763" class="Keyword">private</a>
  <a id="stackfunP2PKHNonEmptyStackAbstractedCorEmptysNothing"></a><a id="12773" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12773" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorEmptysNothing</a> <a id="12826" class="Symbol">:</a> <a id="12828" class="Symbol">(</a><a id="12829" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12829" class="Bound">msg₁</a> <a id="12834" class="Symbol">:</a> <a id="12836" href="basicBitcoinDataType.html#842" class="Datatype">Msg</a><a id="12839" class="Symbol">)(</a><a id="12841" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12841" class="Bound">pbk</a> <a id="12845" class="Symbol">:</a> <a id="12847" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="12848" class="Symbol">)(</a><a id="12850" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12850" class="Bound">x</a> <a id="12852" class="Symbol">:</a> <a id="12854" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="12855" class="Symbol">)</a>
        <a id="12865" class="Symbol">→</a>  <a id="12868" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7307" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="12893" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12829" class="Bound">msg₁</a> <a id="12898" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12841" class="Bound">pbk</a> <a id="12902" class="InductiveConstructor">[]</a> <a id="12905" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12850" class="Bound">x</a> <a id="12907" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12909" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

  <a id="12920" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12773" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorEmptysNothing</a> <a id="12973" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12973" class="Bound">msg₁</a> <a id="12978" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12978" class="Bound">pbk₁</a> <a id="12983" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="12988" class="Symbol">=</a> <a id="12990" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="12997" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12773" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorEmptysNothing</a> <a id="13050" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13050" class="Bound">msg₁</a> <a id="13055" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13055" class="Bound">pbk₁</a> <a id="13060" class="Symbol">(</a><a id="13061" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="13065" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13065" class="Bound">x</a><a id="13066" class="Symbol">)</a> <a id="13068" class="Symbol">=</a> <a id="13070" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="13076" class="Comment">{- Now we look at what happens if we have non empty stack₁ and comparision &gt; 0
-}</a>

<a id="13159" class="Comment">{- if we evaluate stackfunP2PKHNonEmptyStackAbstractedCorEmptysNothing we get

just (boolToNat (isSigned  msg₁ sig₁ pbk) ∷ stack₁)



and we show that this is the case

-}</a>


<a id="testStackfunP2PKHNonEmptyStackAbstractedCompreSucNonEmpty"></a><a id="13333" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13333" class="Function">testStackfunP2PKHNonEmptyStackAbstractedCompreSucNonEmpty</a> <a id="13391" class="Symbol">:</a> <a id="13393" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="13399" href="stack.html#690" class="Function">Stack</a>
<a id="13405" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13333" class="Function">testStackfunP2PKHNonEmptyStackAbstractedCompreSucNonEmpty</a> <a id="13463" class="Symbol">=</a> <a id="13465" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7307" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="13490" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2083" class="Postulate">msg₁</a> <a id="13495" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2154" class="Postulate">pbk</a> <a id="13499" class="Symbol">(</a><a id="13500" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2193" class="Postulate">sig₁</a>  <a id="13506" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="13508" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2106" class="Postulate">stack₁</a><a id="13514" class="Symbol">)</a> <a id="13516" class="Symbol">(</a><a id="13517" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="13521" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2174" class="Postulate">x₁</a><a id="13523" class="Symbol">)</a>



<a id="stackfunP2PKHNonEmptyStackAbstractedCorComprSucStackNonEmptyCor"></a><a id="13528" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13528" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorComprSucStackNonEmptyCor</a> <a id="13592" class="Symbol">:</a>
       <a id="13601" class="Symbol">(</a><a id="13602" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13602" class="Bound">msg₁</a> <a id="13607" class="Symbol">:</a> <a id="13609" href="basicBitcoinDataType.html#842" class="Datatype">Msg</a><a id="13612" class="Symbol">)(</a><a id="13614" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13614" class="Bound">pbk</a> <a id="13618" class="Symbol">:</a> <a id="13620" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="13621" class="Symbol">)(</a><a id="13623" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13623" class="Bound">x</a> <a id="13625" class="Symbol">:</a> <a id="13627" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="13628" class="Symbol">)(</a><a id="13630" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13630" class="Bound">sig₁</a> <a id="13635" class="Symbol">:</a> <a id="13637" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="13638" class="Symbol">)(</a><a id="13640" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13640" class="Bound">stack₂</a> <a id="13647" class="Symbol">:</a> <a id="13649" href="stack.html#690" class="Function">Stack</a><a id="13654" class="Symbol">)</a>
       <a id="13663" class="Symbol">→</a> <a id="13665" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7307" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="13690" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13602" class="Bound">msg₁</a> <a id="13695" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13614" class="Bound">pbk</a> <a id="13699" class="Symbol">(</a><a id="13700" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13630" class="Bound">sig₁</a>  <a id="13706" class="InductiveConstructor Operator">∷</a> <a id="13708" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13640" class="Bound">stack₂</a><a id="13714" class="Symbol">)</a> <a id="13716" class="Symbol">(</a><a id="13717" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="13721" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13623" class="Bound">x</a><a id="13722" class="Symbol">)</a>
          <a id="13734" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a>  <a id="13737" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="13742" class="Symbol">(</a><a id="13743" href="libraries.natLib.html#877" class="Function">boolToNat</a> <a id="13753" class="Symbol">(</a><a id="13754" href="semanticBasicOperations.html#2906" class="Function">isSigned</a>  <a id="13764" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13602" class="Bound">msg₁</a> <a id="13769" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13630" class="Bound">sig₁</a> <a id="13774" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13614" class="Bound">pbk</a><a id="13777" class="Symbol">)</a> <a id="13779" class="InductiveConstructor Operator">∷</a> <a id="13781" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13640" class="Bound">stack₂</a><a id="13787" class="Symbol">)</a>
<a id="13789" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13528" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorComprSucStackNonEmptyCor</a> <a id="13853" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13853" class="Bound">msg₂</a> <a id="13858" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13858" class="Bound">pbk₁</a> <a id="13863" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13863" class="Bound">sig₁</a> <a id="13868" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13868" class="Bound">x</a> <a id="13870" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13870" class="Bound">stack₃</a> <a id="13877" class="Symbol">=</a> <a id="13879" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>



<a id="13887" class="Comment">{- this theorem is not needed but an interesting observation -}</a>

<a id="stackfunP2PKHemptySingleStackIsNothing"></a><a id="13952" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13952" class="Function">stackfunP2PKHemptySingleStackIsNothing</a> <a id="13991" class="Symbol">:</a> <a id="13993" class="Symbol">(</a><a id="13994" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13994" class="Bound">pubKeyHash</a> <a id="14005" class="Symbol">:</a> <a id="14007" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="14008" class="Symbol">)(</a><a id="14010" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14010" class="Bound">time₁</a> <a id="14016" class="Symbol">:</a> <a id="14018" href="basicBitcoinDataType.html#650" class="Function">Time</a><a id="14022" class="Symbol">)(</a><a id="14024" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14024" class="Bound">msg₁</a> <a id="14029" class="Symbol">:</a> <a id="14031" href="basicBitcoinDataType.html#842" class="Datatype">Msg</a><a id="14034" class="Symbol">)(</a><a id="14036" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14036" class="Bound">pbk</a> <a id="14040" class="Symbol">:</a> <a id="14042" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="14043" class="Symbol">)</a>
        <a id="14053" class="Symbol">→</a> <a id="14055" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1838" class="Function Operator">⟦</a> <a id="14057" href="verificationStackScripts.stackVerificationP2PKH.html#6137" class="Function">scriptP2PKHᵇ</a> <a id="14070" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13994" class="Bound">pubKeyHash</a> <a id="14081" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1838" class="Function Operator">⟧ˢ</a> <a id="14084" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14010" class="Bound">time₁</a> <a id="14090" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14024" class="Bound">msg₁</a> <a id="14095" class="Symbol">(</a><a id="14096" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14036" class="Bound">pbk</a> <a id="14100" class="InductiveConstructor Operator">∷</a> <a id="14102" class="InductiveConstructor">[]</a><a id="14104" class="Symbol">)</a> <a id="14106" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14108" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
<a id="14116" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13952" class="Function">stackfunP2PKHemptySingleStackIsNothing</a>  <a id="14156" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14156" class="Bound">pubKeyHash</a> <a id="14167" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14167" class="Bound">time₁</a> <a id="14173" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14173" class="Bound">msg₁</a> <a id="14178" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14178" class="Bound">pbk</a>
  <a id="14184" class="Symbol">=</a>  <a id="14187" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1838" class="Function Operator">⟦</a> <a id="14189" href="verificationStackScripts.stackVerificationP2PKH.html#6137" class="Function">scriptP2PKHᵇ</a> <a id="14202" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14156" class="Bound">pubKeyHash</a> <a id="14213" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1838" class="Function Operator">⟧ˢ</a> <a id="14216" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14167" class="Bound">time₁</a> <a id="14222" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14173" class="Bound">msg₁</a> <a id="14227" class="Symbol">(</a><a id="14228" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14178" class="Bound">pbk</a> <a id="14232" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="14234" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="14236" class="Symbol">)</a>
               <a id="14253" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="14256" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8384" class="Function">stackfunP2PKHNonEmptyStackAbstractedCor</a> <a id="14296" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14156" class="Bound">pubKeyHash</a> <a id="14307" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14167" class="Bound">time₁</a> <a id="14313" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14173" class="Bound">msg₁</a> <a id="14318" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14178" class="Bound">pbk</a> <a id="14322" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>   <a id="14327" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
     <a id="14334" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7307" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="14359" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14173" class="Bound">msg₁</a> <a id="14364" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14178" class="Bound">pbk</a> <a id="14368" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="14371" class="Symbol">(</a><a id="14372" href="libraries.natLib.html#1047" class="Function">compareNaturals</a> <a id="14388" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14156" class="Bound">pubKeyHash</a> <a id="14399" class="Symbol">(</a><a id="14400" href="semanticBasicOperations.html#766" class="Function">hashFun</a> <a id="14408" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14178" class="Bound">pbk</a><a id="14411" class="Symbol">))</a>
               <a id="14429" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="14432" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12773" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorEmptysNothing</a> <a id="14485" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14173" class="Bound">msg₁</a> <a id="14490" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14178" class="Bound">pbk</a> <a id="14494" class="Symbol">(</a><a id="14495" href="libraries.natLib.html#1047" class="Function">compareNaturals</a> <a id="14511" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14156" class="Bound">pubKeyHash</a> <a id="14522" class="Symbol">(</a><a id="14523" href="semanticBasicOperations.html#766" class="Function">hashFun</a> <a id="14531" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14178" class="Bound">pbk</a><a id="14534" class="Symbol">))</a>   <a id="14539" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
     <a id="14546" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
     <a id="14559" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a>

<a id="abstrFunSucCaseNonEmptyNormalSubTerm1"></a><a id="14562" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14562" class="Function">abstrFunSucCaseNonEmptyNormalSubTerm1</a> <a id="14600" class="Symbol">:</a> <a id="14602" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="14604" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14562" class="Function">abstrFunSucCaseNonEmptyNormalSubTerm1</a> <a id="14642" class="Symbol">=</a>
  <a id="14646" href="libraries.natLib.html#877" class="Function">boolToNat</a> <a id="14656" class="Symbol">(</a><a id="14657" href="semanticBasicOperations.html#2906" class="Function">isSigned</a> <a id="14666" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2083" class="Postulate">msg₁</a> <a id="14671" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2193" class="Postulate">sig₁</a> <a id="14676" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2154" class="Postulate">pbk</a><a id="14679" class="Symbol">)</a>


<a id="abstrFunSucCaseNonEmptyNormalSubTerm2"></a><a id="14683" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14683" class="Function">abstrFunSucCaseNonEmptyNormalSubTerm2</a> <a id="14721" class="Symbol">:</a> <a id="14723" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
<a id="14728" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14683" class="Function">abstrFunSucCaseNonEmptyNormalSubTerm2</a> <a id="14766" class="Symbol">=</a>
  <a id="14770" href="semanticBasicOperations.html#2906" class="Function">isSigned</a> <a id="14779" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2083" class="Postulate">msg₁</a> <a id="14784" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2193" class="Postulate">sig₁</a> <a id="14789" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2154" class="Postulate">pbk</a>
</pre></body></html>