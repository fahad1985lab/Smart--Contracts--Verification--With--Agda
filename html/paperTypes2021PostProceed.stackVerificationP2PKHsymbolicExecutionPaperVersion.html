<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="basicBitcoinDataType.html" class="Module">basicBitcoinDataType</a>

<a id="35" class="Keyword">module</a> <a id="42" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html" class="Module">paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion</a> <a id="120" class="Symbol">(</a><a id="121" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#121" class="Bound">param</a> <a id="127" class="Symbol">:</a> <a id="129" href="basicBitcoinDataType.html#1169" class="Record">GlobalParameters</a><a id="145" class="Symbol">)</a>  <a id="148" class="Keyword">where</a>

<a id="155" class="Keyword">open</a> <a id="160" class="Keyword">import</a> <a id="167" href="Data.Nat.html" class="Module">Data.Nat</a>  <a id="177" class="Keyword">hiding</a> <a id="184" class="Symbol">(</a><a id="185" href="Data.Nat.Base.html#1535" class="Datatype Operator">_≤_</a><a id="188" class="Symbol">)</a>
<a id="190" class="Keyword">open</a> <a id="195" class="Keyword">import</a> <a id="202" href="Data.List.html" class="Module">Data.List</a> <a id="212" class="Keyword">hiding</a> <a id="219" class="Symbol">(</a><a id="220" href="Data.List.Base.html#1810" class="Function Operator">_++_</a><a id="224" class="Symbol">)</a>
<a id="226" class="Keyword">open</a> <a id="231" class="Keyword">import</a> <a id="238" href="Data.Unit.html" class="Module">Data.Unit</a>  <a id="249" class="Keyword">hiding</a> <a id="256" class="Symbol">(</a><a id="257" href="Data.Unit.Base.html#1023" class="Record Operator">_≤_</a><a id="260" class="Symbol">)</a>
<a id="262" class="Keyword">open</a> <a id="267" class="Keyword">import</a> <a id="274" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="285" class="Keyword">open</a> <a id="290" class="Keyword">import</a> <a id="297" href="Data.Sum.html" class="Module">Data.Sum</a>
<a id="306" class="Keyword">open</a> <a id="311" class="Keyword">import</a> <a id="318" href="Data.Bool.html" class="Module">Data.Bool</a>  <a id="329" class="Keyword">hiding</a> <a id="336" class="Symbol">(</a><a id="337" href="Data.Bool.Base.html#672" class="Datatype Operator">_≤_</a> <a id="341" class="Symbol">;</a> <a id="343" href="Data.Bool.Base.html#1283" class="Function Operator">if_then_else_</a> <a id="357" class="Symbol">)</a> <a id="359" class="Keyword">renaming</a> <a id="368" class="Symbol">(</a><a id="369" href="Data.Bool.Base.html#986" class="Function Operator">_∧_</a> <a id="373" class="Symbol">to</a> <a id="376" class="Function Operator">_∧b_</a> <a id="381" class="Symbol">;</a> <a id="383" href="Data.Bool.Base.html#1044" class="Function Operator">_∨_</a> <a id="387" class="Symbol">to</a> <a id="390" class="Function Operator">_∨b_</a> <a id="395" class="Symbol">;</a> <a id="397" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="399" class="Symbol">to</a> <a id="402" class="Function">True</a><a id="406" class="Symbol">)</a>
<a id="408" class="Keyword">open</a> <a id="413" class="Keyword">import</a> <a id="420" href="Data.Product.html" class="Module">Data.Product</a> <a id="433" class="Keyword">renaming</a> <a id="442" class="Symbol">(</a><a id="443" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="447" class="Symbol">to</a> <a id="450" class="InductiveConstructor Operator">_,,_</a> <a id="455" class="Symbol">)</a>
<a id="457" class="Keyword">open</a> <a id="462" class="Keyword">import</a> <a id="469" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="483" class="Keyword">hiding</a> <a id="490" class="Symbol">(</a><a id="491" href="Data.Nat.Base.html#1535" class="Datatype Operator">_≤_</a><a id="494" class="Symbol">)</a>
<a id="496" class="Keyword">open</a> <a id="501" class="Keyword">import</a> <a id="508" href="Data.List.NonEmpty.html" class="Module">Data.List.NonEmpty</a> <a id="527" class="Keyword">hiding</a> <a id="534" class="Symbol">(</a><a id="535" href="Data.List.NonEmpty.Base.html#1141" class="Field">head</a> <a id="540" class="Symbol">;</a> <a id="542" href="Data.List.NonEmpty.Base.html#1268" class="Function Operator">[_]</a> <a id="546" class="Symbol">)</a>
<a id="548" class="Keyword">open</a> <a id="553" class="Keyword">import</a> <a id="560" href="Data.Maybe.html" class="Module">Data.Maybe</a>
<a id="571" class="Keyword">open</a> <a id="576" class="Keyword">import</a> <a id="583" href="Relation.Nullary.html" class="Module">Relation.Nullary</a>

<a id="601" class="Keyword">import</a> <a id="608" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="646" class="Symbol">as</a> <a id="649" class="Module">Eq</a>
<a id="652" class="Keyword">open</a> <a id="657" href="Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="660" class="Keyword">using</a> <a id="666" class="Symbol">(</a><a id="667" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="670" class="Symbol">;</a> <a id="672" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="676" class="Symbol">;</a> <a id="678" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a><a id="682" class="Symbol">;</a> <a id="684" class="Keyword">module</a> <a id="691" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a><a id="702" class="Symbol">;</a> <a id="704" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a><a id="707" class="Symbol">)</a>
<a id="709" class="Keyword">open</a> <a id="714" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a>
<a id="726" class="Keyword">open</a> <a id="731" class="Keyword">import</a> <a id="738" href="Agda.Builtin.Equality.html" class="Module">Agda.Builtin.Equality</a>


<a id="762" class="Comment">--our libraries</a>
<a id="778" class="Keyword">open</a> <a id="783" class="Keyword">import</a> <a id="790" href="libraries.listLib.html" class="Module">libraries.listLib</a>
<a id="808" class="Keyword">open</a> <a id="813" class="Keyword">import</a> <a id="820" href="libraries.equalityLib.html" class="Module">libraries.equalityLib</a>
<a id="842" class="Keyword">open</a> <a id="847" class="Keyword">import</a> <a id="854" href="libraries.natLib.html" class="Module">libraries.natLib</a>
<a id="871" class="Keyword">open</a> <a id="876" class="Keyword">import</a> <a id="883" href="libraries.boolLib.html" class="Module">libraries.boolLib</a>
<a id="901" class="Keyword">open</a> <a id="906" class="Keyword">import</a> <a id="913" href="libraries.emptyLib.html" class="Module">libraries.emptyLib</a>
<a id="932" class="Keyword">open</a> <a id="937" class="Keyword">import</a> <a id="944" href="libraries.andLib.html" class="Module">libraries.andLib</a>
<a id="961" class="Keyword">open</a> <a id="966" class="Keyword">import</a> <a id="973" href="libraries.maybeLib.html" class="Module">libraries.maybeLib</a>

<a id="993" class="Keyword">open</a> <a id="998" class="Keyword">import</a> <a id="1005" href="stack.html" class="Module">stack</a>
<a id="1011" class="Keyword">open</a> <a id="1016" class="Keyword">import</a> <a id="1023" href="stackPredicate.html" class="Module">stackPredicate</a>
<a id="1038" class="Keyword">open</a> <a id="1043" class="Keyword">import</a> <a id="1050" href="semanticBasicOperations.html" class="Module">semanticBasicOperations</a> <a id="1074" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#121" class="Bound">param</a>
<a id="1080" class="Keyword">open</a> <a id="1085" class="Keyword">import</a> <a id="1092" href="hoareTripleStack.html" class="Module">hoareTripleStack</a> <a id="1109" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#121" class="Bound">param</a>
<a id="1115" class="Keyword">open</a> <a id="1120" class="Keyword">import</a> <a id="1127" href="instruction.html" class="Module">instruction</a>
<a id="1139" class="Keyword">open</a> <a id="1144" class="Keyword">import</a> <a id="1151" href="verificationStackScripts.stackState.html" class="Module">verificationStackScripts.stackState</a>
<a id="1187" class="Keyword">open</a> <a id="1192" class="Keyword">import</a> <a id="1199" href="verificationStackScripts.sPredicate.html" class="Module">verificationStackScripts.sPredicate</a>
<a id="1235" class="Keyword">open</a> <a id="1240" class="Keyword">import</a> <a id="1247" href="verificationStackScripts.stackHoareTriple.html" class="Module">verificationStackScripts.stackHoareTriple</a> <a id="1289" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#121" class="Bound">param</a>
<a id="1295" class="Keyword">open</a> <a id="1300" class="Keyword">import</a> <a id="1307" href="verificationStackScripts.stackVerificationLemmas.html" class="Module">verificationStackScripts.stackVerificationLemmas</a> <a id="1356" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#121" class="Bound">param</a>
<a id="1362" class="Keyword">open</a> <a id="1367" class="Keyword">import</a> <a id="1374" href="verificationStackScripts.stackSemanticsInstructionsBasic.html" class="Module">verificationStackScripts.stackSemanticsInstructionsBasic</a> <a id="1431" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#121" class="Bound">param</a>
<a id="1437" class="Keyword">open</a> <a id="1442" class="Keyword">import</a> <a id="1449" href="verificationStackScripts.semanticsStackInstructions.html" class="Module">verificationStackScripts.semanticsStackInstructions</a> <a id="1501" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#121" class="Bound">param</a>
<a id="1507" class="Keyword">open</a> <a id="1512" class="Keyword">import</a> <a id="1519" href="verificationStackScripts.stackVerificationP2PKH.html" class="Module">verificationStackScripts.stackVerificationP2PKH</a> <a id="1567" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#121" class="Bound">param</a>
<a id="1573" class="Keyword">open</a> <a id="1578" class="Keyword">import</a> <a id="1585" href="verificationStackScripts.stackVerificationP2PKHindexed.html" class="Module">verificationStackScripts.stackVerificationP2PKHindexed</a> <a id="1640" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#121" class="Bound">param</a>

<a id="1647" class="Comment">-------------------------------------------------------------</a>
<a id="1709" class="Comment">--   This file explores the symoblic execution of the P2PKH program</a>
<a id="1777" class="Comment">--     in order to determine the case distinction</a>
<a id="1827" class="Comment">--     and extract a program from it</a>
<a id="1864" class="Comment">--</a>
<a id="1867" class="Comment">--   This is done by postulating parameters and applying ⟦ scriptP2PKHᵇ pbkh ⟧ˢ</a>
<a id="1947" class="Comment">--     to parameters</a>
<a id="1968" class="Comment">--------------------------------------------------------------------------------</a>

<a id="2050" class="Keyword">private</a>
  <a id="2060" class="Keyword">postulate</a> <a id="time₁"></a><a id="2070" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2070" class="Postulate">time₁</a> <a id="2076" class="Symbol">:</a> <a id="2078" href="basicBitcoinDataType.html#662" class="Function">Time</a>
  <a id="2085" class="Keyword">postulate</a> <a id="msg₁"></a><a id="2095" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2095" class="Postulate">msg₁</a> <a id="2100" class="Symbol">:</a> <a id="2102" href="basicBitcoinDataType.html#854" class="Datatype">Msg</a>
  <a id="2108" class="Keyword">postulate</a> <a id="stack₁"></a><a id="2118" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2118" class="Postulate">stack₁</a> <a id="2125" class="Symbol">:</a> <a id="2127" href="stack.html#702" class="Function">Stack</a>
  <a id="2135" class="Keyword">postulate</a> <a id="pbkh"></a><a id="2145" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2145" class="Postulate">pbkh</a> <a id="2150" class="Symbol">:</a> <a id="2152" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
  <a id="2156" class="Keyword">postulate</a> <a id="pbk"></a><a id="2166" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2166" class="Postulate">pbk</a> <a id="2170" class="Symbol">:</a> <a id="2172" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
  <a id="2176" class="Keyword">postulate</a> <a id="x₁"></a><a id="2186" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2186" class="Postulate">x₁</a> <a id="2189" class="Symbol">:</a> <a id="2191" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
  <a id="2195" class="Keyword">postulate</a> <a id="sig₁"></a><a id="2205" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2205" class="Postulate">sig₁</a> <a id="2210" class="Symbol">:</a> <a id="2212" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>


<a id="2216" class="Comment">{- We first create a symbolic execution of the scriptP2PKHᵇ pbkh to see what kind
   of case distinction happens -}</a>

<a id="check"></a><a id="2333" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2333" class="Function">check</a> <a id="2339" class="Symbol">=</a> <a id="2341" href="verificationStackScripts.stackVerificationP2PKH.html#6149" class="Function">scriptP2PKHᵇ</a>

<a id="testP2PKHscript"></a><a id="2355" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2355" class="Function">testP2PKHscript</a> <a id="2371" class="Symbol">:</a> <a id="2373" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="2379" href="stack.html#702" class="Function">Stack</a>
<a id="2385" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2355" class="Function">testP2PKHscript</a> <a id="2401" class="Symbol">=</a>
 <a id="2404" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟦</a> <a id="2406" href="verificationStackScripts.stackVerificationP2PKH.html#6149" class="Function">scriptP2PKHᵇ</a> <a id="2419" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2145" class="Postulate">pbkh</a> <a id="2424" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟧ˢ</a> <a id="2427" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2070" class="Postulate">time₁</a> <a id="2433" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2095" class="Postulate">msg₁</a> <a id="2438" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2118" class="Postulate">stack₁</a>




<a id="2449" class="Comment">--⟦ scriptP2PKHᵇ pbkh ⟧ˢ time₁ msg₁ stack</a>

<a id="2492" class="Comment">{- evaluation gives

executeStackDup stack₁ &gt;&gt;=
(λ stack₂ →
   executeOpHash stack₂ &gt;&gt;=
   (λ stack₃ →
      executeStackEquality (pbkh ∷ stack₃) &gt;&gt;=
      (λ stack₄ →
         executeStackVerify stack₄ &gt;&gt;=
         (λ stack₅ → executeStackCheckSig msg₁ stack₅))))

Improved layout
executeStackDup stack₁ &gt;&gt;= (λ stack₂ →  executeOpHash stack₂ &gt;&gt;=
   (λ stack₃ →  executeStackEquality (pbkh ∷ stack₃) &gt;&gt;=
   (λ stack₄ →  executeStackVerify stack₄ &gt;&gt;=
   (λ stack₅ → executeStackCheckSig msg₁ stack₅))))

-}</a>

<a id="2999" class="Comment">-- We define a term giving the result of the evaluation</a>

<a id="testP2PKHscript2"></a><a id="3056" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3056" class="Function">testP2PKHscript2</a> <a id="3073" class="Symbol">:</a> <a id="3075" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="3081" href="stack.html#702" class="Function">Stack</a>
<a id="3087" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3056" class="Function">testP2PKHscript2</a> <a id="3104" class="Symbol">=</a>
 <a id="3107" href="semanticBasicOperations.html#1944" class="Function">executeStackDup</a> <a id="3123" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2118" class="Postulate">stack₁</a>                <a id="3145" href="Data.Maybe.Base.html#2227" class="Function Operator">&gt;&gt;=</a>  <a id="3150" class="Symbol">λ</a> <a id="3152" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3152" class="Bound">stack₂</a> <a id="3159" class="Symbol">→</a>  <a id="3162" href="semanticBasicOperations.html#819" class="Function">executeOpHash</a> <a id="3176" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3152" class="Bound">stack₂</a>       <a id="3189" href="Data.Maybe.Base.html#2227" class="Function Operator">&gt;&gt;=</a> <a id="3193" class="Symbol">λ</a> <a id="3195" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3195" class="Bound">stack₃</a> <a id="3202" class="Symbol">→</a>
 <a id="3205" href="semanticBasicOperations.html#1342" class="Function">executeStackEquality</a> <a id="3226" class="Symbol">(</a><a id="3227" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2145" class="Postulate">pbkh</a> <a id="3232" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3234" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3195" class="Bound">stack₃</a><a id="3240" class="Symbol">)</a>  <a id="3243" href="Data.Maybe.Base.html#2227" class="Function Operator">&gt;&gt;=</a>  <a id="3248" class="Symbol">λ</a> <a id="3250" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3250" class="Bound">stack₄</a> <a id="3257" class="Symbol">→</a>  <a id="3260" href="semanticBasicOperations.html#1152" class="Function">executeStackVerify</a> <a id="3279" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3250" class="Bound">stack₄</a>  <a id="3287" href="Data.Maybe.Base.html#2227" class="Function Operator">&gt;&gt;=</a> <a id="3291" class="Symbol">λ</a> <a id="3293" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3293" class="Bound">stack₅</a> <a id="3300" class="Symbol">→</a>
 <a id="3303" href="semanticBasicOperations.html#3132" class="Function">executeStackCheckSig</a> <a id="3324" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2095" class="Postulate">msg₁</a> <a id="3329" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3293" class="Bound">stack₅</a>


<a id="testP2PKHscript2UsingMoreSpace"></a><a id="3338" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3338" class="Function">testP2PKHscript2UsingMoreSpace</a> <a id="3369" class="Symbol">=</a>
 <a id="3372" href="semanticBasicOperations.html#1944" class="Function">executeStackDup</a> <a id="3388" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2118" class="Postulate">stack₁</a>                             <a id="3423" href="Data.Maybe.Base.html#2227" class="Function Operator">&gt;&gt;=</a>
 <a id="3428" class="Symbol">λ</a> <a id="3430" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3430" class="Bound">stack₂</a> <a id="3437" class="Symbol">→</a>  <a id="3440" href="semanticBasicOperations.html#819" class="Function">executeOpHash</a> <a id="3454" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3430" class="Bound">stack₂</a>                   <a id="3479" href="Data.Maybe.Base.html#2227" class="Function Operator">&gt;&gt;=</a>
 <a id="3484" class="Symbol">λ</a> <a id="3486" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3486" class="Bound">stack₃</a> <a id="3493" class="Symbol">→</a>  <a id="3496" href="semanticBasicOperations.html#1342" class="Function">executeStackEquality</a> <a id="3517" class="Symbol">(</a><a id="3518" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2145" class="Postulate">pbkh</a> <a id="3523" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3525" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3486" class="Bound">stack₃</a><a id="3531" class="Symbol">)</a>   <a id="3535" href="Data.Maybe.Base.html#2227" class="Function Operator">&gt;&gt;=</a>
 <a id="3540" class="Symbol">λ</a> <a id="3542" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3542" class="Bound">stack₄</a> <a id="3549" class="Symbol">→</a>  <a id="3552" href="semanticBasicOperations.html#1152" class="Function">executeStackVerify</a> <a id="3571" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3542" class="Bound">stack₄</a>              <a id="3591" href="Data.Maybe.Base.html#2227" class="Function Operator">&gt;&gt;=</a>
 <a id="3596" class="Symbol">λ</a> <a id="3598" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3598" class="Bound">stack₅</a> <a id="3605" class="Symbol">→</a>  <a id="3608" href="semanticBasicOperations.html#3132" class="Function">executeStackCheckSig</a> <a id="3629" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2095" class="Postulate">msg₁</a> <a id="3634" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3598" class="Bound">stack₅</a>



<a id="testP2PKHscript2UsingMoreSpaceUsingDo"></a><a id="3644" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3644" class="Function">testP2PKHscript2UsingMoreSpaceUsingDo</a> <a id="3682" class="Symbol">=</a>
 <a id="3685" class="Keyword">do</a>  <a id="3689" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3689" class="Bound">stack₂</a> <a id="3696" href="Data.Maybe.Base.html#2227" class="Function Operator">←</a> <a id="3698" href="semanticBasicOperations.html#1944" class="Function">executeStackDup</a> <a id="3714" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2118" class="Postulate">stack₁</a>
     <a id="3726" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3726" class="Bound">stack₃</a> <a id="3733" href="Data.Maybe.Base.html#2227" class="Function Operator">←</a> <a id="3735" href="semanticBasicOperations.html#819" class="Function">executeOpHash</a> <a id="3749" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3689" class="Bound">stack₂</a>
     <a id="3761" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3761" class="Bound">stack₄</a> <a id="3768" href="Data.Maybe.Base.html#2227" class="Function Operator">←</a> <a id="3770" href="semanticBasicOperations.html#1342" class="Function">executeStackEquality</a> <a id="3791" class="Symbol">(</a><a id="3792" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2145" class="Postulate">pbkh</a> <a id="3797" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3799" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3726" class="Bound">stack₃</a><a id="3805" class="Symbol">)</a>
     <a id="3812" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3812" class="Bound">stack₅</a> <a id="3819" href="Data.Maybe.Base.html#2227" class="Function Operator">←</a> <a id="3821" href="semanticBasicOperations.html#1152" class="Function">executeStackVerify</a> <a id="3840" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3761" class="Bound">stack₄</a>
     <a id="3852" href="semanticBasicOperations.html#3132" class="Function">executeStackCheckSig</a> <a id="3873" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2095" class="Postulate">msg₁</a> <a id="3878" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3812" class="Bound">stack₅</a>



<a id="3888" class="Comment">{- in imperative programming we would write

   stack₂ := executeStackDup stack₁;
   stack₃ := executeOpHash stack₂;
   stack₄ := executeStackEquality (pbkh ∷ stack₃);
   stack₅ := executeStackVerify stack₄;
   executeStackCheckSig msg₁ stack₅;

-}</a>


<a id="4139" class="Comment">{-
If we execute the first line
(executeStackDup stack₁)

we see it will give
nothing if stack₁ = []
just something if stack₁ is nonempty

So let&#39;s check what happens if stack₁ = []
-}</a>


<a id="testP2PKHscriptEmpty"></a><a id="4326" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4326" class="Function">testP2PKHscriptEmpty</a> <a id="4347" class="Symbol">:</a> <a id="4349" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="4355" href="stack.html#702" class="Function">Stack</a>
<a id="4361" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4326" class="Function">testP2PKHscriptEmpty</a> <a id="4382" class="Symbol">=</a>
 <a id="4385" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟦</a> <a id="4387" href="verificationStackScripts.stackVerificationP2PKH.html#6149" class="Function">scriptP2PKHᵇ</a> <a id="4400" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2145" class="Postulate">pbkh</a> <a id="4405" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟧ˢ</a> <a id="4408" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2070" class="Postulate">time₁</a> <a id="4414" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2095" class="Postulate">msg₁</a> <a id="4419" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>




<a id="4426" class="Comment">{- if we evaluate testP2PKHscriptEmpty we get:

nothing

So now get the first (trivial) theorem
(without the postulated parameters)
-}</a>



<a id="stackfunP2PKHemptyIsNothing"></a><a id="4564" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4564" class="Function">stackfunP2PKHemptyIsNothing</a> <a id="4592" class="Symbol">:</a> <a id="4594" class="Symbol">(</a><a id="4595" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4595" class="Bound">pubKeyHash</a> <a id="4606" class="Symbol">:</a> <a id="4608" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="4609" class="Symbol">)(</a><a id="4611" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4611" class="Bound">time₁</a> <a id="4617" class="Symbol">:</a> <a id="4619" href="basicBitcoinDataType.html#662" class="Function">Time</a><a id="4623" class="Symbol">)(</a><a id="4625" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4625" class="Bound">msg₁</a> <a id="4630" class="Symbol">:</a> <a id="4632" href="basicBitcoinDataType.html#854" class="Datatype">Msg</a><a id="4635" class="Symbol">)</a>
                              <a id="4667" class="Symbol">→</a> <a id="4669" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟦</a> <a id="4671" href="verificationStackScripts.stackVerificationP2PKH.html#6149" class="Function">scriptP2PKHᵇ</a> <a id="4684" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4595" class="Bound">pubKeyHash</a> <a id="4695" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟧ˢ</a> <a id="4698" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4611" class="Bound">time₁</a> <a id="4704" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4625" class="Bound">msg₁</a> <a id="4709" class="InductiveConstructor">[]</a> <a id="4712" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4714" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>
<a id="4722" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4564" class="Function">stackfunP2PKHemptyIsNothing</a> <a id="4750" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4750" class="Bound">pubKeyHash</a> <a id="4761" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4761" class="Bound">time₁</a> <a id="4767" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4767" class="Bound">msg₁</a> <a id="4772" class="Symbol">=</a> <a id="4774" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>




<a id="4783" class="Comment">{- Now we look at what happens if the stack is non empty

lets a test for symbolic execution -}</a>


<a id="teststackfunP2PKHNonEmptyStack"></a><a id="4881" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4881" class="Function">teststackfunP2PKHNonEmptyStack</a> <a id="4912" class="Symbol">:</a>  <a id="4915" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="4921" href="stack.html#702" class="Function">Stack</a>
<a id="4927" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4881" class="Function">teststackfunP2PKHNonEmptyStack</a> <a id="4958" class="Symbol">=</a>
  <a id="4962" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟦</a> <a id="4964" href="verificationStackScripts.stackVerificationP2PKH.html#6149" class="Function">scriptP2PKHᵇ</a> <a id="4977" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2145" class="Postulate">pbkh</a> <a id="4982" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟧ˢ</a> <a id="4985" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2070" class="Postulate">time₁</a> <a id="4991" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2095" class="Postulate">msg₁</a> <a id="4996" class="Symbol">(</a><a id="4997" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2166" class="Postulate">pbk</a> <a id="5001" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="5003" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2118" class="Postulate">stack₁</a><a id="5009" class="Symbol">)</a>

<a id="5012" class="Comment">{- If we evaluate teststackfunP2PKHNonEmptyStack we get
executeStackVerify (compareNaturals pbkh (param .hash pbk) ∷ pbk ∷ stack₁)
&gt;&gt;= (λ stack₂ → executeStackCheckSig msg₁ stack₂)
-}</a>

<a id="stackfunP2PKHNonEmptyStackNormalForm"></a><a id="5197" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5197" class="Function">stackfunP2PKHNonEmptyStackNormalForm</a> <a id="5234" class="Symbol">:</a>  <a id="5237" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="5243" href="stack.html#702" class="Function">Stack</a>
<a id="5249" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5197" class="Function">stackfunP2PKHNonEmptyStackNormalForm</a> <a id="5286" class="Symbol">=</a>
 <a id="5289" href="semanticBasicOperations.html#1152" class="Function">executeStackVerify</a> <a id="5308" class="Symbol">(</a><a id="5309" href="libraries.natLib.html#1060" class="Function">compareNaturals</a> <a id="5325" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2145" class="Postulate">pbkh</a> <a id="5330" class="Symbol">(</a><a id="5331" href="semanticBasicOperations.html#778" class="Function">hashFun</a> <a id="5339" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2166" class="Postulate">pbk</a><a id="5342" class="Symbol">)</a> <a id="5344" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="5346" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2166" class="Postulate">pbk</a> <a id="5350" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="5352" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2118" class="Postulate">stack₁</a><a id="5358" class="Symbol">)</a> <a id="5360" href="Data.Maybe.Base.html#2227" class="Function Operator">&gt;&gt;=</a>
 <a id="5365" href="semanticBasicOperations.html#3132" class="Function">executeStackCheckSig</a> <a id="5386" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2095" class="Postulate">msg₁</a>


<a id="stackfunP2PKHNonEmptyStackNormalFormDo"></a><a id="5393" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5393" class="Function">stackfunP2PKHNonEmptyStackNormalFormDo</a> <a id="5432" class="Symbol">:</a>  <a id="5435" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="5441" href="stack.html#702" class="Function">Stack</a>
<a id="5447" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5393" class="Function">stackfunP2PKHNonEmptyStackNormalFormDo</a> <a id="5486" class="Symbol">=</a>
 <a id="5489" class="Keyword">do</a>   <a id="5494" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5494" class="Bound">stack₅</a> <a id="5501" href="Data.Maybe.Base.html#2227" class="Function Operator">←</a> <a id="5503" href="semanticBasicOperations.html#1152" class="Function">executeStackVerify</a> <a id="5522" class="Symbol">(</a><a id="5523" href="libraries.natLib.html#1060" class="Function">compareNaturals</a> <a id="5539" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2145" class="Postulate">pbkh</a> <a id="5544" class="Symbol">(</a><a id="5545" href="semanticBasicOperations.html#778" class="Function">hashFun</a> <a id="5553" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2166" class="Postulate">pbk</a><a id="5556" class="Symbol">)</a> <a id="5558" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="5560" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2166" class="Postulate">pbk</a> <a id="5564" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="5566" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2118" class="Postulate">stack₁</a><a id="5572" class="Symbol">)</a>
      <a id="5580" href="semanticBasicOperations.html#3132" class="Function">executeStackCheckSig</a> <a id="5601" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2095" class="Postulate">msg₁</a> <a id="5606" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5494" class="Bound">stack₅</a>





<a id="stackfunP2PKHNonEmptyStackNormalFormFirstPart"></a><a id="5618" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5618" class="Function">stackfunP2PKHNonEmptyStackNormalFormFirstPart</a> <a id="5664" class="Symbol">:</a>  <a id="5667" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="5673" href="stack.html#702" class="Function">Stack</a>
<a id="5679" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5618" class="Function">stackfunP2PKHNonEmptyStackNormalFormFirstPart</a> <a id="5725" class="Symbol">=</a>
 <a id="5728" href="semanticBasicOperations.html#1152" class="Function">executeStackVerify</a> <a id="5747" class="Symbol">(</a><a id="5748" href="libraries.natLib.html#1060" class="Function">compareNaturals</a> <a id="5764" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2145" class="Postulate">pbkh</a> <a id="5769" class="Symbol">(</a><a id="5770" href="semanticBasicOperations.html#778" class="Function">hashFun</a> <a id="5778" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2166" class="Postulate">pbk</a><a id="5781" class="Symbol">)</a> <a id="5783" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="5785" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2166" class="Postulate">pbk</a> <a id="5789" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="5791" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2118" class="Postulate">stack₁</a><a id="5797" class="Symbol">)</a>


<a id="stackfunP2PKHNonEmptyStackNormalFormFirstPartZoomedIn"></a><a id="5801" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5801" class="Function">stackfunP2PKHNonEmptyStackNormalFormFirstPartZoomedIn</a> <a id="5855" class="Symbol">:</a>  <a id="5858" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="5860" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5801" class="Function">stackfunP2PKHNonEmptyStackNormalFormFirstPartZoomedIn</a> <a id="5914" class="Symbol">=</a>
 <a id="5917" href="libraries.natLib.html#1060" class="Function">compareNaturals</a> <a id="5933" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2145" class="Postulate">pbkh</a> <a id="5938" class="Symbol">(</a><a id="5939" href="semanticBasicOperations.html#778" class="Function">hashFun</a> <a id="5947" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2166" class="Postulate">pbk</a><a id="5950" class="Symbol">)</a>





<a id="5957" class="Comment">{-
We see that

(λ stack₂ → executeStackCheckSig msg₁ stack₂) = executeStackCheckSig msg₁

and can therefore use

executeStackVerify (compareNaturals pbkh (param .hash pbk) ∷ pbk ∷ stack₁)
&gt;&gt;= executeStackCheckSig msg₁

 -}</a>




<a id="stackfunP2PKHNonEmptyStack"></a><a id="6185" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6185" class="Function">stackfunP2PKHNonEmptyStack</a> <a id="6212" class="Symbol">:</a> <a id="6214" class="Symbol">(</a><a id="6215" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6215" class="Bound">pubKeyHash</a> <a id="6226" class="Symbol">:</a> <a id="6228" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="6229" class="Symbol">)(</a><a id="6231" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6231" class="Bound">msg₁</a> <a id="6236" class="Symbol">:</a> <a id="6238" href="basicBitcoinDataType.html#854" class="Datatype">Msg</a><a id="6241" class="Symbol">)(</a><a id="6243" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6243" class="Bound">pbk</a> <a id="6247" class="Symbol">:</a> <a id="6249" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="6250" class="Symbol">)(</a><a id="6252" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6252" class="Bound">stack₂</a> <a id="6259" class="Symbol">:</a> <a id="6261" href="stack.html#702" class="Function">Stack</a><a id="6266" class="Symbol">)</a> <a id="6268" class="Symbol">→</a> <a id="6270" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="6276" href="stack.html#702" class="Function">Stack</a>
<a id="6282" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6185" class="Function">stackfunP2PKHNonEmptyStack</a> <a id="6309" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6309" class="Bound">pubKeyHash</a> <a id="6320" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6320" class="Bound">msg₁</a> <a id="6325" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6325" class="Bound">pbk</a> <a id="6329" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6329" class="Bound">stack₂</a>
              <a id="6350" class="Symbol">=</a> <a id="6352" href="semanticBasicOperations.html#1152" class="Function">executeStackVerify</a> <a id="6371" class="Symbol">(</a><a id="6372" href="libraries.natLib.html#1060" class="Function">compareNaturals</a> <a id="6388" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6309" class="Bound">pubKeyHash</a> <a id="6399" class="Symbol">(</a><a id="6400" href="semanticBasicOperations.html#778" class="Function">hashFun</a> <a id="6408" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6325" class="Bound">pbk</a><a id="6411" class="Symbol">)</a> <a id="6413" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6415" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6325" class="Bound">pbk</a> <a id="6419" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6421" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6329" class="Bound">stack₂</a><a id="6427" class="Symbol">)</a>
                 <a id="6446" href="Data.Maybe.Base.html#2227" class="Function Operator">&gt;&gt;=</a> <a id="6450" href="semanticBasicOperations.html#3132" class="Function">executeStackCheckSig</a> <a id="6471" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6320" class="Bound">msg₁</a>




<a id="6480" class="Comment">-- and check that this is correct</a>

<a id="stackfunP2PKHemptyNonEmptyStackCorrect"></a><a id="6515" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6515" class="Function">stackfunP2PKHemptyNonEmptyStackCorrect</a> <a id="6554" class="Symbol">:</a> <a id="6556" class="Symbol">(</a><a id="6557" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6557" class="Bound">pubKeyHash</a> <a id="6568" class="Symbol">:</a> <a id="6570" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="6571" class="Symbol">)(</a><a id="6573" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6573" class="Bound">time₁</a> <a id="6579" class="Symbol">:</a> <a id="6581" href="basicBitcoinDataType.html#662" class="Function">Time</a><a id="6585" class="Symbol">)(</a><a id="6587" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6587" class="Bound">msg₁</a> <a id="6592" class="Symbol">:</a> <a id="6594" href="basicBitcoinDataType.html#854" class="Datatype">Msg</a><a id="6597" class="Symbol">)(</a><a id="6599" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6599" class="Bound">pbk</a> <a id="6603" class="Symbol">:</a> <a id="6605" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="6606" class="Symbol">)(</a><a id="6608" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6608" class="Bound">stack₂</a> <a id="6615" class="Symbol">:</a> <a id="6617" href="stack.html#702" class="Function">Stack</a><a id="6622" class="Symbol">)</a>
        <a id="6632" class="Symbol">→</a> <a id="6634" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟦</a> <a id="6636" href="verificationStackScripts.stackVerificationP2PKH.html#6149" class="Function">scriptP2PKHᵇ</a> <a id="6649" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6557" class="Bound">pubKeyHash</a>  <a id="6661" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟧ˢ</a> <a id="6664" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6573" class="Bound">time₁</a> <a id="6670" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6587" class="Bound">msg₁</a> <a id="6675" class="Symbol">(</a><a id="6676" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6599" class="Bound">pbk</a> <a id="6680" class="InductiveConstructor Operator">∷</a> <a id="6682" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6608" class="Bound">stack₂</a><a id="6688" class="Symbol">)</a> <a id="6690" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="6692" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6185" class="Function">stackfunP2PKHNonEmptyStack</a> <a id="6719" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6557" class="Bound">pubKeyHash</a> <a id="6730" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6587" class="Bound">msg₁</a>  <a id="6736" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6599" class="Bound">pbk</a> <a id="6740" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6608" class="Bound">stack₂</a>
<a id="6747" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6515" class="Function">stackfunP2PKHemptyNonEmptyStackCorrect</a> <a id="6786" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6786" class="Bound">pubKeyHash</a> <a id="6797" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6797" class="Bound">time₁</a> <a id="6803" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6803" class="Bound">msg₁</a> <a id="6808" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6808" class="Bound">pbk</a> <a id="6812" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6812" class="Bound">stack₂</a> <a id="6819" class="Symbol">=</a> <a id="6821" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>



<a id="6829" class="Comment">{- We see now the case distinction depends on
   compres := compareNaturals pbkh (hashFun pbk)

since

executeStackVerify    (compres ∷  pbk ∷ stack₁)

will depend on whether compres is 0 or  suc x&#39;

so we abstract from

compres = compareNaturals pubKeyHash (hashFun pbk)

-}</a>

<a id="7106" class="Comment">-- This function will be repeated in stackVerificationP2PKHextractedProgram.agda</a>
<a id="7187" class="Comment">-- and therefore is kept private in this section in order to avoid a conflict</a>
<a id="7265" class="Comment">-- \stackVerificationPtoPKHsymbolicExecutionabstract</a>

<a id="p2PKHNonEmptyStackAbstr&#39;"></a><a id="7319" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7319" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="7344" class="Symbol">:</a> <a id="7346" class="Symbol">(</a><a id="7347" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7347" class="Bound">msg₁</a> <a id="7352" class="Symbol">:</a> <a id="7354" href="basicBitcoinDataType.html#854" class="Datatype">Msg</a><a id="7357" class="Symbol">)(</a><a id="7359" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7359" class="Bound">pbk</a> <a id="7363" class="Symbol">:</a> <a id="7365" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="7366" class="Symbol">)(</a><a id="7368" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7368" class="Bound">stack₁</a> <a id="7375" class="Symbol">:</a> <a id="7377" href="stack.html#702" class="Function">Stack</a><a id="7382" class="Symbol">)(</a><a id="7384" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7384" class="Bound">cmp</a> <a id="7388" class="Symbol">:</a> <a id="7390" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="7391" class="Symbol">)</a> <a id="7393" class="Symbol">→</a> <a id="7395" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="7401" href="stack.html#702" class="Function">Stack</a>
<a id="7407" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7319" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="7432" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7432" class="Bound">msg₁</a> <a id="7437" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7437" class="Bound">pbk</a> <a id="7441" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7441" class="Bound">stack₁</a> <a id="7448" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7448" class="Bound">cmp</a> <a id="7452" class="Symbol">=</a>  <a id="7455" href="semanticBasicOperations.html#1152" class="Function">executeStackVerify</a> <a id="7474" class="Symbol">(</a><a id="7475" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7448" class="Bound">cmp</a> <a id="7479" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>  <a id="7482" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7437" class="Bound">pbk</a> <a id="7486" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7488" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7441" class="Bound">stack₁</a><a id="7494" class="Symbol">)</a> <a id="7496" href="Data.Maybe.Base.html#2227" class="Function Operator">&gt;&gt;=</a>
                                                <a id="7548" href="semanticBasicOperations.html#3132" class="Function">executeStackCheckSig</a> <a id="7569" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7432" class="Bound">msg₁</a>


<a id="abstrFun"></a><a id="7576" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7576" class="Function">abstrFun</a> <a id="7585" class="Symbol">:</a> <a id="7587" class="Symbol">(</a><a id="7588" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7588" class="Bound">stack₁</a> <a id="7595" class="Symbol">:</a> <a id="7597" href="stack.html#702" class="Function">Stack</a><a id="7602" class="Symbol">)(</a><a id="7604" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7604" class="Bound">cmp</a> <a id="7608" class="Symbol">:</a> <a id="7610" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="7611" class="Symbol">)</a> <a id="7613" class="Symbol">→</a> <a id="7615" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="7621" href="stack.html#702" class="Function">Stack</a>
<a id="7627" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7576" class="Function">abstrFun</a> <a id="7636" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7636" class="Bound">stack₁</a> <a id="7643" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7643" class="Bound">cmp</a> <a id="7647" class="Symbol">=</a>  <a id="7650" class="Keyword">do</a>  <a id="7654" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7654" class="Bound">stack₅</a> <a id="7661" href="Data.Maybe.Base.html#2227" class="Function Operator">←</a> <a id="7663" href="semanticBasicOperations.html#1152" class="Function">executeStackVerify</a> <a id="7682" class="Symbol">(</a><a id="7683" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7643" class="Bound">cmp</a> <a id="7687" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>  <a id="7690" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2166" class="Postulate">pbk</a> <a id="7694" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7696" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7636" class="Bound">stack₁</a><a id="7702" class="Symbol">)</a>
                           <a id="7731" href="semanticBasicOperations.html#3132" class="Function">executeStackCheckSig</a> <a id="7752" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2095" class="Postulate">msg₁</a> <a id="7757" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7654" class="Bound">stack₅</a>




<a id="stackfunP2PKHNonEmptyStackNormalFormUsingAbstractedFun"></a><a id="7768" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7768" class="Function">stackfunP2PKHNonEmptyStackNormalFormUsingAbstractedFun</a> <a id="7823" class="Symbol">:</a> <a id="7825" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="7831" href="stack.html#702" class="Function">Stack</a>
<a id="7837" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7768" class="Function">stackfunP2PKHNonEmptyStackNormalFormUsingAbstractedFun</a> <a id="7892" class="Symbol">=</a>
  <a id="7896" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7576" class="Function">abstrFun</a> <a id="7905" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2118" class="Postulate">stack₁</a> <a id="7912" class="Symbol">(</a><a id="7913" href="libraries.natLib.html#1060" class="Function">compareNaturals</a> <a id="7929" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2145" class="Postulate">pbkh</a> <a id="7934" class="Symbol">(</a><a id="7935" href="semanticBasicOperations.html#778" class="Function">hashFun</a> <a id="7943" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2166" class="Postulate">pbk</a><a id="7946" class="Symbol">))</a>


<a id="stackfunP2PKHNonEmptyStackNormalFormUsingAbstractedFunTest"></a><a id="7951" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7951" class="Function">stackfunP2PKHNonEmptyStackNormalFormUsingAbstractedFunTest</a> <a id="8010" class="Symbol">:</a>
    <a id="8016" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5197" class="Function">stackfunP2PKHNonEmptyStackNormalForm</a> <a id="8053" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="8055" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7768" class="Function">stackfunP2PKHNonEmptyStackNormalFormUsingAbstractedFun</a>
<a id="8110" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7951" class="Function">stackfunP2PKHNonEmptyStackNormalFormUsingAbstractedFunTest</a>  <a id="8170" class="Symbol">=</a> <a id="8172" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="8178" class="Comment">-- and we show that this is the right function</a>


<a id="8227" class="Comment">-- This function will be repeated in stackVerificationP2PKHextractedProgram.agda</a>
<a id="8308" class="Comment">-- and therefore is kept private in this section in order to avoid a conflict</a>
<a id="8386" class="Keyword">private</a>
  <a id="stackfunP2PKHNonEmptyStackAbstractedCor"></a><a id="8396" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8396" class="Function">stackfunP2PKHNonEmptyStackAbstractedCor</a> <a id="8436" class="Symbol">:</a>  <a id="8439" class="Symbol">(</a><a id="8440" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8440" class="Bound">pubKeyHash</a> <a id="8451" class="Symbol">:</a> <a id="8453" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="8454" class="Symbol">)(</a><a id="8456" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8456" class="Bound">time₁</a> <a id="8462" class="Symbol">:</a> <a id="8464" href="basicBitcoinDataType.html#662" class="Function">Time</a><a id="8468" class="Symbol">)(</a><a id="8470" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8470" class="Bound">msg₁</a> <a id="8475" class="Symbol">:</a> <a id="8477" href="basicBitcoinDataType.html#854" class="Datatype">Msg</a><a id="8480" class="Symbol">)(</a><a id="8482" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8482" class="Bound">pbk</a> <a id="8486" class="Symbol">:</a> <a id="8488" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="8489" class="Symbol">)(</a><a id="8491" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8491" class="Bound">stack₂</a> <a id="8498" class="Symbol">:</a> <a id="8500" href="stack.html#702" class="Function">Stack</a><a id="8505" class="Symbol">)</a>
                  <a id="8525" class="Symbol">→</a> <a id="8527" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟦</a> <a id="8529" href="verificationStackScripts.stackVerificationP2PKH.html#6149" class="Function">scriptP2PKHᵇ</a> <a id="8542" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8440" class="Bound">pubKeyHash</a> <a id="8553" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟧ˢ</a> <a id="8556" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8456" class="Bound">time₁</a> <a id="8562" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8470" class="Bound">msg₁</a> <a id="8567" class="Symbol">(</a><a id="8568" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8482" class="Bound">pbk</a> <a id="8572" class="InductiveConstructor Operator">∷</a> <a id="8574" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8491" class="Bound">stack₂</a><a id="8580" class="Symbol">)</a>
                     <a id="8603" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="8605" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7319" class="Function">p2PKHNonEmptyStackAbstr&#39;</a>  <a id="8631" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8470" class="Bound">msg₁</a> <a id="8636" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8482" class="Bound">pbk</a> <a id="8640" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8491" class="Bound">stack₂</a>
                             <a id="8676" class="Symbol">(</a><a id="8677" href="libraries.natLib.html#1060" class="Function">compareNaturals</a> <a id="8693" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8440" class="Bound">pubKeyHash</a> <a id="8704" class="Symbol">(</a><a id="8705" href="semanticBasicOperations.html#778" class="Function">hashFun</a> <a id="8713" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8482" class="Bound">pbk</a><a id="8716" class="Symbol">))</a>
  <a id="8721" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8396" class="Function">stackfunP2PKHNonEmptyStackAbstractedCor</a> <a id="8761" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8761" class="Bound">pubKeyHash</a> <a id="8772" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8772" class="Bound">time₁</a> <a id="8778" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8778" class="Bound">msg₁</a> <a id="8783" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8783" class="Bound">pbk</a> <a id="8787" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8787" class="Bound">stack₂</a> <a id="8794" class="Symbol">=</a> <a id="8796" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>


<a id="8803" class="Comment">{- Now we investigate what  p2PKHNonEmptyStackAbstr&#39;
When looking at it and see that

 p2PKHNonEmptyStackAbstr&#39; msg₁ pbk stack₂ cmp

will execute
executeStackVerify (cmp ∷  pbk ∷ stack₂)
which will in turn make a case disctintion on whether cmp is 0 or  not zero

(that corresponds to what the original function does because it makes this comparison
   compareNaturals pubKeyHash (hashFun pbk)
  which checks  whether the pbk provided  by the user hashes to the pubKeyHash of the locking script
    if it  is 0 it should fail, and if it is 1 it should succeed.

So lets make the test
-}</a>

<a id="testStackfunP2PKHNonEmptyStackAbstractedCompre0"></a><a id="9391" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9391" class="Function">testStackfunP2PKHNonEmptyStackAbstractedCompre0</a> <a id="9439" class="Symbol">:</a> <a id="9441" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="9447" href="stack.html#702" class="Function">Stack</a>
<a id="9453" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9391" class="Function">testStackfunP2PKHNonEmptyStackAbstractedCompre0</a> <a id="9501" class="Symbol">=</a> <a id="9503" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7319" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="9528" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2095" class="Postulate">msg₁</a> <a id="9533" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2166" class="Postulate">pbk</a> <a id="9537" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2118" class="Postulate">stack₁</a> <a id="9544" class="Number">0</a>

<a id="9547" class="Comment">{- if we evaluate testStackfunP2PKHNonEmptyStackAbstractedCompre0 we get

nothing
-}</a>

<a id="9633" class="Comment">-- we evaluate now</a>
<a id="abstrFunZeroCase"></a><a id="9652" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9652" class="Function">abstrFunZeroCase</a> <a id="9669" class="Symbol">:</a> <a id="9671" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="9677" href="stack.html#702" class="Function">Stack</a>
<a id="9683" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9652" class="Function">abstrFunZeroCase</a> <a id="9700" class="Symbol">=</a> <a id="9702" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7576" class="Function">abstrFun</a> <a id="9711" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2118" class="Postulate">stack₁</a> <a id="9718" class="Number">0</a>



<a id="9723" class="Comment">-- We  show now this is always the case</a>



<a id="9766" class="Comment">-- This function will be repeated in stackVerificationP2PKHextractedProgram.agda</a>
<a id="9847" class="Comment">-- and therefore is kept private in this section in order to avoid a conflict</a>
<a id="9925" class="Keyword">private</a>
  <a id="stackfunP2PKHNonEmptyStackAbstractedCorCompr0IsNothing"></a><a id="9935" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9935" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorCompr0IsNothing</a> <a id="9990" class="Symbol">:</a> <a id="9992" class="Symbol">(</a><a id="9993" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9993" class="Bound">msg₁</a> <a id="9998" class="Symbol">:</a> <a id="10000" href="basicBitcoinDataType.html#854" class="Datatype">Msg</a><a id="10003" class="Symbol">)(</a><a id="10005" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10005" class="Bound">pbk</a> <a id="10009" class="Symbol">:</a> <a id="10011" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="10012" class="Symbol">)(</a><a id="10014" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10014" class="Bound">stack₂</a> <a id="10021" class="Symbol">:</a> <a id="10023" href="stack.html#702" class="Function">Stack</a><a id="10028" class="Symbol">)</a>
        <a id="10038" class="Symbol">→</a>  <a id="10041" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7319" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="10066" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9993" class="Bound">msg₁</a> <a id="10071" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10005" class="Bound">pbk</a> <a id="10075" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10014" class="Bound">stack₂</a> <a id="10082" class="Number">0</a> <a id="10084" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="10086" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>
  <a id="10096" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9935" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorCompr0IsNothing</a> <a id="10151" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10151" class="Bound">msg₁</a> <a id="10156" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10156" class="Bound">pbk</a> <a id="10160" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10160" class="Bound">stack₂</a> <a id="10167" class="Symbol">=</a> <a id="10169" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>


<a id="10176" class="Comment">{- Now we look at what happens  if the value is non zero -}</a>


<a id="testStackfunP2PKHNonEmptyStackAbstractedCompreSucCase"></a><a id="10238" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10238" class="Function">testStackfunP2PKHNonEmptyStackAbstractedCompreSucCase</a> <a id="10292" class="Symbol">:</a> <a id="10294" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="10300" href="stack.html#702" class="Function">Stack</a>
<a id="10306" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10238" class="Function">testStackfunP2PKHNonEmptyStackAbstractedCompreSucCase</a> <a id="10360" class="Symbol">=</a> <a id="10362" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7319" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="10387" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2095" class="Postulate">msg₁</a> <a id="10392" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2166" class="Postulate">pbk</a> <a id="10396" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2118" class="Postulate">stack₁</a> <a id="10403" class="Symbol">(</a><a id="10404" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="10408" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2186" class="Postulate">x₁</a><a id="10410" class="Symbol">)</a>




<a id="10416" class="Comment">-- we evaluate now</a>
<a id="abstrFunSucCase"></a><a id="10435" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10435" class="Function">abstrFunSucCase</a> <a id="10451" class="Symbol">:</a> <a id="10453" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="10459" href="stack.html#702" class="Function">Stack</a>
<a id="10465" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10435" class="Function">abstrFunSucCase</a> <a id="10481" class="Symbol">=</a> <a id="10483" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7576" class="Function">abstrFun</a> <a id="10492" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2118" class="Postulate">stack₁</a> <a id="10499" class="Symbol">(</a><a id="10500" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="10504" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2186" class="Postulate">x₁</a><a id="10506" class="Symbol">)</a>


<a id="10510" class="Comment">-- we obtain</a>

<a id="abstrFunSucCaseNormal"></a><a id="10524" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10524" class="Function">abstrFunSucCaseNormal</a> <a id="10546" class="Symbol">:</a> <a id="10548" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="10554" href="stack.html#702" class="Function">Stack</a>
<a id="10560" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10524" class="Function">abstrFunSucCaseNormal</a> <a id="10582" class="Symbol">=</a>
  <a id="10586" href="semanticBasicOperations.html#3132" class="Function">executeStackCheckSig</a> <a id="10607" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2095" class="Postulate">msg₁</a> <a id="10612" class="Symbol">(</a><a id="10613" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2166" class="Postulate">pbk</a> <a id="10617" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10619" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2118" class="Postulate">stack₁</a><a id="10625" class="Symbol">)</a>


<a id="10629" class="Comment">-- executeStackCheckSig msg₁ (pbk ∷ stack₁)</a>



<a id="10676" class="Comment">{- if we evalute
     testStackfunP2PKHNonEmptyStackAbstractedCompreSucCase
    we get

executeStackCheckSig msg₁ (pbk ∷ stack₁)


This corresponds to the situation where
the original stack₁ was non empty, and the comparision of the pbk with the pbkhash
got a result &gt; 0



If we look at
executeStackCheckSig

we see that it gives nothing when the stack has height &lt; 2
and otherwise does something,

so we can  make a case distinction on whether in

p2PKHNonEmptyStackAbstr&#39; msg₁ pbk stack₁ x

stack₁ is [] or nonempty

So lets look at the easy case []

    -}</a>


<a id="11239" class="Comment">-- we evaluate now</a>
<a id="abstrFunSucCaseEmpty"></a><a id="11258" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11258" class="Function">abstrFunSucCaseEmpty</a> <a id="11279" class="Symbol">:</a> <a id="11281" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="11287" href="stack.html#702" class="Function">Stack</a>
<a id="11293" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11258" class="Function">abstrFunSucCaseEmpty</a> <a id="11314" class="Symbol">=</a> <a id="11316" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7576" class="Function">abstrFun</a> <a id="11325" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="11328" class="Symbol">(</a><a id="11329" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="11333" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2186" class="Postulate">x₁</a><a id="11335" class="Symbol">)</a>


<a id="11339" class="Comment">-- and obtain nothing</a>
<a id="abstrFunSucCaseEmptyCheck"></a><a id="11361" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11361" class="Function">abstrFunSucCaseEmptyCheck</a> <a id="11387" class="Symbol">:</a>  <a id="11390" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11258" class="Function">abstrFunSucCaseEmpty</a> <a id="11411" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="11413" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>
<a id="11421" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11361" class="Function">abstrFunSucCaseEmptyCheck</a> <a id="11447" class="Symbol">=</a> <a id="11449" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="11455" class="Comment">-- we evaluate now</a>
<a id="abstrFunSucCaseNonEmpty"></a><a id="11474" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11474" class="Function">abstrFunSucCaseNonEmpty</a> <a id="11498" class="Symbol">:</a> <a id="11500" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="11506" href="stack.html#702" class="Function">Stack</a>
<a id="11512" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11474" class="Function">abstrFunSucCaseNonEmpty</a> <a id="11536" class="Symbol">=</a>
  <a id="11540" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7576" class="Function">abstrFun</a> <a id="11549" class="Symbol">(</a><a id="11550" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2205" class="Postulate">sig₁</a> <a id="11555" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11557" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2118" class="Postulate">stack₁</a><a id="11563" class="Symbol">)</a> <a id="11565" class="Symbol">(</a><a id="11566" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="11570" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2186" class="Postulate">x₁</a><a id="11572" class="Symbol">)</a>



<a id="abstrFunSucCaseNonEmptyNormal"></a><a id="11577" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11577" class="Function">abstrFunSucCaseNonEmptyNormal</a> <a id="11607" class="Symbol">:</a> <a id="11609" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="11615" href="stack.html#702" class="Function">Stack</a>
<a id="11621" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11577" class="Function">abstrFunSucCaseNonEmptyNormal</a> <a id="11651" class="Symbol">=</a>
  <a id="11655" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="11660" class="Symbol">(</a><a id="11661" href="libraries.natLib.html#890" class="Function">boolToNat</a> <a id="11671" class="Symbol">(</a><a id="11672" href="semanticBasicOperations.html#2918" class="Function">isSigned</a> <a id="11681" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2095" class="Postulate">msg₁</a> <a id="11686" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2205" class="Postulate">sig₁</a> <a id="11691" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2166" class="Postulate">pbk</a><a id="11694" class="Symbol">)</a> <a id="11696" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11698" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2118" class="Postulate">stack₁</a><a id="11704" class="Symbol">)</a>


<a id="abstrFunSucCaseNonEmptyCheck"></a><a id="11708" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11708" class="Function">abstrFunSucCaseNonEmptyCheck</a> <a id="11737" class="Symbol">:</a> <a id="11739" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11474" class="Function">abstrFunSucCaseNonEmpty</a> <a id="11763" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="11765" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11577" class="Function">abstrFunSucCaseNonEmptyNormal</a>
<a id="11795" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11708" class="Function">abstrFunSucCaseNonEmptyCheck</a> <a id="11824" class="Symbol">=</a> <a id="11826" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>


<a id="testStackfunP2PKHNonEmptyStackAbstractedCompreSucEmpty"></a><a id="11833" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11833" class="Function">testStackfunP2PKHNonEmptyStackAbstractedCompreSucEmpty</a> <a id="11888" class="Symbol">:</a> <a id="11890" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="11896" href="stack.html#702" class="Function">Stack</a>
<a id="11902" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11833" class="Function">testStackfunP2PKHNonEmptyStackAbstractedCompreSucEmpty</a> <a id="11957" class="Symbol">=</a>
                           <a id="11986" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7319" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="12011" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2095" class="Postulate">msg₁</a> <a id="12016" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2166" class="Postulate">pbk</a> <a id="12020" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="12023" class="Symbol">(</a><a id="12024" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="12028" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2186" class="Postulate">x₁</a><a id="12030" class="Symbol">)</a>


<a id="12034" class="Comment">{- if we evaluate testStackfunP2PKHNonEmptyStackAbstractedCompreSucEmpty we get  result

nothing

we check that this always holds
-}</a>


<a id="stackfunP2PKHNonEmptyStackAbstractedCorComprSucStackEmpty"></a><a id="12169" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12169" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorComprSucStackEmpty</a> <a id="12227" class="Symbol">:</a> <a id="12229" class="Symbol">(</a><a id="12230" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12230" class="Bound">msg₁</a> <a id="12235" class="Symbol">:</a> <a id="12237" href="basicBitcoinDataType.html#854" class="Datatype">Msg</a><a id="12240" class="Symbol">)(</a><a id="12242" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12242" class="Bound">pbk</a> <a id="12246" class="Symbol">:</a> <a id="12248" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="12249" class="Symbol">)(</a><a id="12251" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12251" class="Bound">x</a> <a id="12253" class="Symbol">:</a> <a id="12255" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="12256" class="Symbol">)</a>
             <a id="12271" class="Symbol">→</a> <a id="12273" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7319" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="12298" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12230" class="Bound">msg₁</a> <a id="12303" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12242" class="Bound">pbk</a> <a id="12307" class="InductiveConstructor">[]</a> <a id="12310" class="Symbol">(</a><a id="12311" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="12315" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12251" class="Bound">x</a><a id="12316" class="Symbol">)</a> <a id="12318" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="12320" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>
<a id="12328" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12169" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorComprSucStackEmpty</a> <a id="12386" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12386" class="Bound">msg₁</a> <a id="12391" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12391" class="Bound">pbk</a> <a id="12395" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12395" class="Bound">x</a>  <a id="12398" class="Symbol">=</a> <a id="12400" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="12406" class="Comment">{-  Intermezzo: we can see that stackfunP2PKHNonEmptyStackAbstractedCorComprSucStackEmpty returns always nothing if the stack is empty
   independent of the result

But this result is not really needed 
   -}</a>

<a id="12616" class="Comment">-- This function will be repeated in stackVerificationP2PKHextractedProgram.agda</a>
<a id="12697" class="Comment">-- and therefore is kept private in this section in order to avoid a conflict</a>
<a id="12775" class="Keyword">private</a>
  <a id="stackfunP2PKHNonEmptyStackAbstractedCorEmptysNothing"></a><a id="12785" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12785" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorEmptysNothing</a> <a id="12838" class="Symbol">:</a> <a id="12840" class="Symbol">(</a><a id="12841" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12841" class="Bound">msg₁</a> <a id="12846" class="Symbol">:</a> <a id="12848" href="basicBitcoinDataType.html#854" class="Datatype">Msg</a><a id="12851" class="Symbol">)(</a><a id="12853" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12853" class="Bound">pbk</a> <a id="12857" class="Symbol">:</a> <a id="12859" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="12860" class="Symbol">)(</a><a id="12862" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12862" class="Bound">x</a> <a id="12864" class="Symbol">:</a> <a id="12866" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="12867" class="Symbol">)</a>
        <a id="12877" class="Symbol">→</a>  <a id="12880" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7319" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="12905" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12841" class="Bound">msg₁</a> <a id="12910" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12853" class="Bound">pbk</a> <a id="12914" class="InductiveConstructor">[]</a> <a id="12917" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12862" class="Bound">x</a> <a id="12919" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="12921" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>

  <a id="12932" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12785" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorEmptysNothing</a> <a id="12985" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12985" class="Bound">msg₁</a> <a id="12990" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12990" class="Bound">pbk₁</a> <a id="12995" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a> <a id="13000" class="Symbol">=</a> <a id="13002" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="13009" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12785" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorEmptysNothing</a> <a id="13062" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13062" class="Bound">msg₁</a> <a id="13067" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13067" class="Bound">pbk₁</a> <a id="13072" class="Symbol">(</a><a id="13073" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="13077" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13077" class="Bound">x</a><a id="13078" class="Symbol">)</a> <a id="13080" class="Symbol">=</a> <a id="13082" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="13088" class="Comment">{- Now we look at what happens if we have non empty stack₁ and comparision &gt; 0
-}</a>

<a id="13171" class="Comment">{- if we evaluate stackfunP2PKHNonEmptyStackAbstractedCorEmptysNothing we get

just (boolToNat (isSigned  msg₁ sig₁ pbk) ∷ stack₁)



and we show that this is the case

-}</a>


<a id="testStackfunP2PKHNonEmptyStackAbstractedCompreSucNonEmpty"></a><a id="13345" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13345" class="Function">testStackfunP2PKHNonEmptyStackAbstractedCompreSucNonEmpty</a> <a id="13403" class="Symbol">:</a> <a id="13405" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="13411" href="stack.html#702" class="Function">Stack</a>
<a id="13417" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13345" class="Function">testStackfunP2PKHNonEmptyStackAbstractedCompreSucNonEmpty</a> <a id="13475" class="Symbol">=</a> <a id="13477" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7319" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="13502" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2095" class="Postulate">msg₁</a> <a id="13507" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2166" class="Postulate">pbk</a> <a id="13511" class="Symbol">(</a><a id="13512" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2205" class="Postulate">sig₁</a>  <a id="13518" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="13520" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2118" class="Postulate">stack₁</a><a id="13526" class="Symbol">)</a> <a id="13528" class="Symbol">(</a><a id="13529" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="13533" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2186" class="Postulate">x₁</a><a id="13535" class="Symbol">)</a>



<a id="stackfunP2PKHNonEmptyStackAbstractedCorComprSucStackNonEmptyCor"></a><a id="13540" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13540" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorComprSucStackNonEmptyCor</a> <a id="13604" class="Symbol">:</a>
       <a id="13613" class="Symbol">(</a><a id="13614" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13614" class="Bound">msg₁</a> <a id="13619" class="Symbol">:</a> <a id="13621" href="basicBitcoinDataType.html#854" class="Datatype">Msg</a><a id="13624" class="Symbol">)(</a><a id="13626" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13626" class="Bound">pbk</a> <a id="13630" class="Symbol">:</a> <a id="13632" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="13633" class="Symbol">)(</a><a id="13635" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13635" class="Bound">x</a> <a id="13637" class="Symbol">:</a> <a id="13639" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="13640" class="Symbol">)(</a><a id="13642" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13642" class="Bound">sig₁</a> <a id="13647" class="Symbol">:</a> <a id="13649" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="13650" class="Symbol">)(</a><a id="13652" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13652" class="Bound">stack₂</a> <a id="13659" class="Symbol">:</a> <a id="13661" href="stack.html#702" class="Function">Stack</a><a id="13666" class="Symbol">)</a>
       <a id="13675" class="Symbol">→</a> <a id="13677" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7319" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="13702" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13614" class="Bound">msg₁</a> <a id="13707" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13626" class="Bound">pbk</a> <a id="13711" class="Symbol">(</a><a id="13712" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13642" class="Bound">sig₁</a>  <a id="13718" class="InductiveConstructor Operator">∷</a> <a id="13720" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13652" class="Bound">stack₂</a><a id="13726" class="Symbol">)</a> <a id="13728" class="Symbol">(</a><a id="13729" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="13733" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13635" class="Bound">x</a><a id="13734" class="Symbol">)</a>
          <a id="13746" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a>  <a id="13749" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="13754" class="Symbol">(</a><a id="13755" href="libraries.natLib.html#890" class="Function">boolToNat</a> <a id="13765" class="Symbol">(</a><a id="13766" href="semanticBasicOperations.html#2918" class="Function">isSigned</a>  <a id="13776" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13614" class="Bound">msg₁</a> <a id="13781" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13642" class="Bound">sig₁</a> <a id="13786" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13626" class="Bound">pbk</a><a id="13789" class="Symbol">)</a> <a id="13791" class="InductiveConstructor Operator">∷</a> <a id="13793" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13652" class="Bound">stack₂</a><a id="13799" class="Symbol">)</a>
<a id="13801" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13540" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorComprSucStackNonEmptyCor</a> <a id="13865" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13865" class="Bound">msg₂</a> <a id="13870" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13870" class="Bound">pbk₁</a> <a id="13875" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13875" class="Bound">sig₁</a> <a id="13880" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13880" class="Bound">x</a> <a id="13882" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13882" class="Bound">stack₃</a> <a id="13889" class="Symbol">=</a> <a id="13891" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>



<a id="13899" class="Comment">{- this theorem is not needed but an interesting observation -}</a>

<a id="stackfunP2PKHemptySingleStackIsNothing"></a><a id="13964" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13964" class="Function">stackfunP2PKHemptySingleStackIsNothing</a> <a id="14003" class="Symbol">:</a> <a id="14005" class="Symbol">(</a><a id="14006" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14006" class="Bound">pubKeyHash</a> <a id="14017" class="Symbol">:</a> <a id="14019" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="14020" class="Symbol">)(</a><a id="14022" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14022" class="Bound">time₁</a> <a id="14028" class="Symbol">:</a> <a id="14030" href="basicBitcoinDataType.html#662" class="Function">Time</a><a id="14034" class="Symbol">)(</a><a id="14036" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14036" class="Bound">msg₁</a> <a id="14041" class="Symbol">:</a> <a id="14043" href="basicBitcoinDataType.html#854" class="Datatype">Msg</a><a id="14046" class="Symbol">)(</a><a id="14048" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14048" class="Bound">pbk</a> <a id="14052" class="Symbol">:</a> <a id="14054" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="14055" class="Symbol">)</a>
        <a id="14065" class="Symbol">→</a> <a id="14067" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟦</a> <a id="14069" href="verificationStackScripts.stackVerificationP2PKH.html#6149" class="Function">scriptP2PKHᵇ</a> <a id="14082" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14006" class="Bound">pubKeyHash</a> <a id="14093" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟧ˢ</a> <a id="14096" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14022" class="Bound">time₁</a> <a id="14102" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14036" class="Bound">msg₁</a> <a id="14107" class="Symbol">(</a><a id="14108" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14048" class="Bound">pbk</a> <a id="14112" class="InductiveConstructor Operator">∷</a> <a id="14114" class="InductiveConstructor">[]</a><a id="14116" class="Symbol">)</a> <a id="14118" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="14120" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>
<a id="14128" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13964" class="Function">stackfunP2PKHemptySingleStackIsNothing</a>  <a id="14168" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14168" class="Bound">pubKeyHash</a> <a id="14179" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14179" class="Bound">time₁</a> <a id="14185" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14185" class="Bound">msg₁</a> <a id="14190" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14190" class="Bound">pbk</a>
  <a id="14196" class="Symbol">=</a>  <a id="14199" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟦</a> <a id="14201" href="verificationStackScripts.stackVerificationP2PKH.html#6149" class="Function">scriptP2PKHᵇ</a> <a id="14214" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14168" class="Bound">pubKeyHash</a> <a id="14225" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟧ˢ</a> <a id="14228" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14179" class="Bound">time₁</a> <a id="14234" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14185" class="Bound">msg₁</a> <a id="14239" class="Symbol">(</a><a id="14240" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14190" class="Bound">pbk</a> <a id="14244" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="14246" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="14248" class="Symbol">)</a>
               <a id="14265" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="14268" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8396" class="Function">stackfunP2PKHNonEmptyStackAbstractedCor</a> <a id="14308" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14168" class="Bound">pubKeyHash</a> <a id="14319" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14179" class="Bound">time₁</a> <a id="14325" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14185" class="Bound">msg₁</a> <a id="14330" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14190" class="Bound">pbk</a> <a id="14334" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>   <a id="14339" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
     <a id="14346" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7319" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="14371" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14185" class="Bound">msg₁</a> <a id="14376" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14190" class="Bound">pbk</a> <a id="14380" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="14383" class="Symbol">(</a><a id="14384" href="libraries.natLib.html#1060" class="Function">compareNaturals</a> <a id="14400" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14168" class="Bound">pubKeyHash</a> <a id="14411" class="Symbol">(</a><a id="14412" href="semanticBasicOperations.html#778" class="Function">hashFun</a> <a id="14420" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14190" class="Bound">pbk</a><a id="14423" class="Symbol">))</a>
               <a id="14441" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="14444" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12785" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorEmptysNothing</a> <a id="14497" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14185" class="Bound">msg₁</a> <a id="14502" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14190" class="Bound">pbk</a> <a id="14506" class="Symbol">(</a><a id="14507" href="libraries.natLib.html#1060" class="Function">compareNaturals</a> <a id="14523" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14168" class="Bound">pubKeyHash</a> <a id="14534" class="Symbol">(</a><a id="14535" href="semanticBasicOperations.html#778" class="Function">hashFun</a> <a id="14543" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14190" class="Bound">pbk</a><a id="14546" class="Symbol">))</a>   <a id="14551" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
     <a id="14558" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>
     <a id="14571" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>

<a id="abstrFunSucCaseNonEmptyNormalSubTerm1"></a><a id="14574" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14574" class="Function">abstrFunSucCaseNonEmptyNormalSubTerm1</a> <a id="14612" class="Symbol">:</a> <a id="14614" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="14616" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14574" class="Function">abstrFunSucCaseNonEmptyNormalSubTerm1</a> <a id="14654" class="Symbol">=</a>
  <a id="14658" href="libraries.natLib.html#890" class="Function">boolToNat</a> <a id="14668" class="Symbol">(</a><a id="14669" href="semanticBasicOperations.html#2918" class="Function">isSigned</a> <a id="14678" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2095" class="Postulate">msg₁</a> <a id="14683" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2205" class="Postulate">sig₁</a> <a id="14688" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2166" class="Postulate">pbk</a><a id="14691" class="Symbol">)</a>


<a id="abstrFunSucCaseNonEmptyNormalSubTerm2"></a><a id="14695" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14695" class="Function">abstrFunSucCaseNonEmptyNormalSubTerm2</a> <a id="14733" class="Symbol">:</a> <a id="14735" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
<a id="14740" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14695" class="Function">abstrFunSucCaseNonEmptyNormalSubTerm2</a> <a id="14778" class="Symbol">=</a>
  <a id="14782" href="semanticBasicOperations.html#2918" class="Function">isSigned</a> <a id="14791" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2095" class="Postulate">msg₁</a> <a id="14796" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2205" class="Postulate">sig₁</a> <a id="14801" href="paperTypes2021PostProceed.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2166" class="Postulate">pbk</a>
</pre></body></html>