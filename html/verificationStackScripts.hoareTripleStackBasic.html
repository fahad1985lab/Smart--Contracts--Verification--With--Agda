<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>verificationStackScripts.hoareTripleStackBasic</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="basicBitcoinDataType.html" class="Module">basicBitcoinDataType</a>

<a id="35" class="Keyword">module</a> <a id="42" href="verificationStackScripts.hoareTripleStackBasic.html" class="Module">verificationStackScripts.hoareTripleStackBasic</a> <a id="89" class="Symbol">(</a><a id="90" href="verificationStackScripts.hoareTripleStackBasic.html#90" class="Bound">param</a> <a id="96" class="Symbol">:</a> <a id="98" href="basicBitcoinDataType.html#1157" class="Record">GlobalParameters</a><a id="114" class="Symbol">)</a> <a id="116" class="Keyword">where</a>

<a id="123" class="Keyword">open</a> <a id="128" class="Keyword">import</a> <a id="135" href="Data.Nat.html" class="Module">Data.Nat</a>  <a id="145" class="Keyword">renaming</a> <a id="154" class="Symbol">(</a><a id="155" href="Data.Nat.Base.html#1691" class="Datatype Operator">_≤_</a> <a id="159" class="Symbol">to</a> <a id="162" class="Datatype Operator">_≤&#39;_</a> <a id="167" class="Symbol">;</a> <a id="169" href="Data.Nat.Base.html#1801" class="Function Operator">_&lt;_</a> <a id="173" class="Symbol">to</a> <a id="176" class="Function Operator">_&lt;&#39;_</a><a id="180" class="Symbol">)</a>
<a id="182" class="Keyword">open</a> <a id="187" class="Keyword">import</a> <a id="194" href="Data.List.html" class="Module">Data.List</a> <a id="204" class="Keyword">hiding</a> <a id="211" class="Symbol">(</a><a id="212" href="Data.List.Base.html#1954" class="Function Operator">_++_</a><a id="216" class="Symbol">)</a>
<a id="218" class="Keyword">open</a> <a id="223" class="Keyword">import</a> <a id="230" href="Data.Sum.html" class="Module">Data.Sum</a>
<a id="239" class="Keyword">open</a> <a id="244" class="Keyword">import</a> <a id="251" href="Data.Maybe.html" class="Module">Data.Maybe</a>
<a id="262" class="Keyword">open</a> <a id="267" class="Keyword">import</a> <a id="274" href="Data.Unit.html" class="Module">Data.Unit</a>  
<a id="286" class="Keyword">open</a> <a id="291" class="Keyword">import</a> <a id="298" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="309" class="Keyword">open</a> <a id="314" class="Keyword">import</a> <a id="321" href="Data.Bool.html" class="Module">Data.Bool</a>  <a id="332" class="Keyword">hiding</a> <a id="339" class="Symbol">(</a><a id="340" href="Data.Bool.Base.html#681" class="Datatype Operator">_≤_</a> <a id="344" class="Symbol">;</a> <a id="346" href="Data.Bool.Base.html#1505" class="Function Operator">if_then_else_</a> <a id="360" class="Symbol">)</a> <a id="362" class="Keyword">renaming</a> <a id="371" class="Symbol">(</a><a id="372" href="Data.Bool.Base.html#995" class="Function Operator">_∧_</a> <a id="376" class="Symbol">to</a> <a id="379" class="Function Operator">_∧b_</a> <a id="384" class="Symbol">;</a> <a id="386" href="Data.Bool.Base.html#1053" class="Function Operator">_∨_</a> <a id="390" class="Symbol">to</a> <a id="393" class="Function Operator">_∨b_</a> <a id="398" class="Symbol">;</a> <a id="400" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="402" class="Symbol">to</a> <a id="405" class="Function">True</a><a id="409" class="Symbol">)</a>
<a id="411" class="Keyword">open</a> <a id="416" class="Keyword">import</a> <a id="423" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="438" class="Keyword">hiding</a> <a id="445" class="Symbol">(</a><a id="446" href="Data.Bool.Base.html#681" class="Datatype Operator">_≤_</a> <a id="450" class="Symbol">;</a> <a id="452" href="Data.Bool.Base.html#1505" class="Function Operator">if_then_else_</a> <a id="466" class="Symbol">)</a> <a id="468" class="Keyword">renaming</a> <a id="477" class="Symbol">(</a><a id="478" href="Data.Bool.Base.html#995" class="Function Operator">_∧_</a> <a id="482" class="Symbol">to</a> <a id="485" class="Function Operator">_∧b_</a> <a id="490" class="Symbol">;</a> <a id="492" href="Data.Bool.Base.html#1053" class="Function Operator">_∨_</a> <a id="496" class="Symbol">to</a> <a id="499" class="Function Operator">_∨b_</a> <a id="504" class="Symbol">;</a> <a id="506" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="508" class="Symbol">to</a> <a id="511" class="Function">True</a><a id="515" class="Symbol">)</a>
<a id="517" class="Keyword">open</a> <a id="522" class="Keyword">import</a> <a id="529" href="Data.Product.html" class="Module">Data.Product</a> <a id="542" class="Keyword">renaming</a> <a id="551" class="Symbol">(</a><a id="552" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a> <a id="556" class="Symbol">to</a> <a id="559" class="InductiveConstructor Operator">_,,_</a> <a id="564" class="Symbol">)</a>
<a id="566" class="Keyword">open</a> <a id="571" class="Keyword">import</a> <a id="578" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="592" class="Keyword">hiding</a> <a id="599" class="Symbol">(</a><a id="600" href="Data.Nat.Base.html#1691" class="Datatype Operator">_≤_</a><a id="603" class="Symbol">)</a>
<a id="605" class="Keyword">import</a> <a id="612" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="650" class="Symbol">as</a> <a id="653" class="Module">Eq</a>
<a id="656" class="Keyword">open</a> <a id="661" href="Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="664" class="Keyword">using</a> <a id="670" class="Symbol">(</a><a id="671" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="674" class="Symbol">;</a> <a id="676" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="680" class="Symbol">;</a> <a id="682" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a><a id="686" class="Symbol">;</a> <a id="688" class="Keyword">module</a> <a id="695" href="Relation.Binary.PropositionalEquality.Properties.html#6744" class="Module">≡-Reasoning</a><a id="706" class="Symbol">;</a> <a id="708" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a><a id="711" class="Symbol">)</a>
<a id="713" class="Keyword">open</a> <a id="718" href="Relation.Binary.PropositionalEquality.Properties.html#6744" class="Module">≡-Reasoning</a>
<a id="730" class="Keyword">open</a> <a id="735" class="Keyword">import</a> <a id="742" href="Agda.Builtin.Equality.html" class="Module">Agda.Builtin.Equality</a>


<a id="766" class="Comment">-- our libraries</a>
<a id="783" class="Keyword">open</a> <a id="788" class="Keyword">import</a> <a id="795" href="libraries.listLib.html" class="Module">libraries.listLib</a>
<a id="813" class="Keyword">open</a> <a id="818" class="Keyword">import</a> <a id="825" href="libraries.natLib.html" class="Module">libraries.natLib</a>
<a id="842" class="Keyword">open</a> <a id="847" class="Keyword">import</a> <a id="854" href="libraries.boolLib.html" class="Module">libraries.boolLib</a>
<a id="872" class="Keyword">open</a> <a id="877" class="Keyword">import</a> <a id="884" href="libraries.andLib.html" class="Module">libraries.andLib</a>
<a id="901" class="Keyword">open</a> <a id="906" class="Keyword">import</a> <a id="913" href="libraries.maybeLib.html" class="Module">libraries.maybeLib</a>
<a id="932" class="Keyword">open</a> <a id="937" class="Keyword">import</a> <a id="944" href="libraries.emptyLib.html" class="Module">libraries.emptyLib</a>


<a id="965" class="Keyword">open</a> <a id="970" class="Keyword">import</a> <a id="977" href="stack.html" class="Module">stack</a>
<a id="983" class="Keyword">open</a> <a id="988" class="Keyword">import</a> <a id="995" href="stackPredicate.html" class="Module">stackPredicate</a>
<a id="1010" class="Keyword">open</a> <a id="1015" class="Keyword">import</a> <a id="1022" href="instructionBasic.html" class="Module">instructionBasic</a>
<a id="1039" class="Keyword">open</a> <a id="1044" class="Keyword">import</a> <a id="1051" href="hoareTripleStack.html" class="Module">hoareTripleStack</a> <a id="1068" href="verificationStackScripts.hoareTripleStackBasic.html#90" class="Bound">param</a>
<a id="1074" class="Keyword">open</a> <a id="1079" class="Keyword">import</a> <a id="1086" href="verificationStackScripts.stackState.html" class="Module">verificationStackScripts.stackState</a>
<a id="1122" class="Keyword">open</a> <a id="1127" class="Keyword">import</a> <a id="1134" href="verificationStackScripts.sPredicate.html" class="Module">verificationStackScripts.sPredicate</a>
<a id="1170" class="Keyword">open</a> <a id="1175" class="Keyword">import</a> <a id="1182" href="verificationStackScripts.semanticsStackInstructions.html" class="Module">verificationStackScripts.semanticsStackInstructions</a> <a id="1234" href="verificationStackScripts.hoareTripleStackBasic.html#90" class="Bound">param</a>
<a id="1240" class="Keyword">open</a> <a id="1245" class="Keyword">import</a> <a id="1252" href="verificationStackScripts.stackSemanticsInstructionsBasic.html" class="Module">verificationStackScripts.stackSemanticsInstructionsBasic</a> <a id="1309" href="verificationStackScripts.hoareTripleStackBasic.html#90" class="Bound">param</a>
<a id="1315" class="Keyword">open</a> <a id="1320" class="Keyword">import</a> <a id="1327" href="verificationStackScripts.stackVerificationLemmas.html" class="Module">verificationStackScripts.stackVerificationLemmas</a> <a id="1376" href="verificationStackScripts.hoareTripleStackBasic.html#90" class="Bound">param</a>
<a id="1382" class="Keyword">open</a> <a id="1387" class="Keyword">import</a> <a id="1394" href="verificationStackScripts.stackHoareTriple.html" class="Module">verificationStackScripts.stackHoareTriple</a> <a id="1436" href="verificationStackScripts.hoareTripleStackBasic.html#90" class="Bound">param</a>


<a id="1444" class="Comment">--------------------------------------------------------------------------</a>
<a id="1519" class="Comment">--   defines hoare triples for stack functions</a>
<a id="1566" class="Comment">--   and that their correspondence to the full hoare triples for nonif instructions</a>
<a id="1650" class="Comment">---------------------------------------------------------------------------------------</a>


<a id="1740" class="Comment">-- Hoare triple  with stack instructions</a>
<a id="&lt;_&gt;stackb_&lt;_&gt;"></a><a id="1781" href="verificationStackScripts.hoareTripleStackBasic.html#1781" class="Function Operator">&lt;_&gt;stackb_&lt;_&gt;</a> <a id="1795" class="Symbol">:</a> <a id="1797" href="stackPredicate.html#897" class="Function">StackPredicate</a> <a id="1812" class="Symbol">→</a> <a id="1814" href="instructionBasic.html#1030" class="Function">BitcoinScriptBasic</a> <a id="1833" class="Symbol">→</a> <a id="1835" href="stackPredicate.html#897" class="Function">StackPredicate</a> <a id="1850" class="Symbol">→</a> <a id="1852" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="1856" href="verificationStackScripts.hoareTripleStackBasic.html#1781" class="Function Operator">&lt;</a> <a id="1858" href="verificationStackScripts.hoareTripleStackBasic.html#1858" class="Bound">φ</a> <a id="1860" href="verificationStackScripts.hoareTripleStackBasic.html#1781" class="Function Operator">&gt;stackb</a> <a id="1868" href="verificationStackScripts.hoareTripleStackBasic.html#1868" class="Bound">prog</a> <a id="1873" href="verificationStackScripts.hoareTripleStackBasic.html#1781" class="Function Operator">&lt;</a> <a id="1875" href="verificationStackScripts.hoareTripleStackBasic.html#1875" class="Bound">ψ</a> <a id="1877" href="verificationStackScripts.hoareTripleStackBasic.html#1781" class="Function Operator">&gt;</a> <a id="1879" class="Symbol">=</a> <a id="1881" href="hoareTripleStack.html#1342" class="Record Operator">&lt;</a> <a id="1883" href="verificationStackScripts.hoareTripleStackBasic.html#1858" class="Bound">φ</a> <a id="1885" href="hoareTripleStack.html#1342" class="Record Operator">&gt;gˢ</a> <a id="1889" class="Symbol">(</a><a id="1890" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1838" class="Function Operator">⟦</a> <a id="1892" href="verificationStackScripts.hoareTripleStackBasic.html#1868" class="Bound">prog</a>  <a id="1898" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1838" class="Function Operator">⟧ˢ</a> <a id="1901" class="Symbol">)</a> <a id="1903" href="hoareTripleStack.html#1342" class="Record Operator">&lt;</a> <a id="1905" href="verificationStackScripts.hoareTripleStackBasic.html#1875" class="Bound">ψ</a> <a id="1907" href="hoareTripleStack.html#1342" class="Record Operator">&gt;</a>

<a id="1910" class="Comment">-- Generalisation of &lt;_&gt;_&lt;_&gt;   by referring instead of Bitcoin Scripts</a>
<a id="1981" class="Comment">--                to functions of type StackState → Maybe StackState</a>
<a id="2050" class="Comment">-- Note that there is a version &lt;_&gt;gˢ_&lt;_&gt; in module hoareTripleStack for StackPredicate</a>
<a id="2138" class="Comment">--      which refers to StackPredicate instead of StackStatePred</a>


<a id="2205" class="Keyword">record</a> <a id="&lt;_&gt;g_&lt;_&gt;"></a><a id="2212" href="verificationStackScripts.hoareTripleStackBasic.html#2212" class="Record Operator">&lt;_&gt;g_&lt;_&gt;</a>  <a id="2222" class="Symbol">(</a><a id="2223" href="verificationStackScripts.hoareTripleStackBasic.html#2223" class="Bound">φ</a> <a id="2225" class="Symbol">:</a> <a id="2227" href="verificationStackScripts.sPredicate.html#1174" class="Function">StackStatePred</a><a id="2241" class="Symbol">)</a> <a id="2243" class="Symbol">(</a><a id="2244" href="verificationStackScripts.hoareTripleStackBasic.html#2244" class="Bound">stackfun</a> <a id="2253" class="Symbol">:</a> <a id="2255" href="verificationStackScripts.stackState.html#919" class="Record">StackState</a> <a id="2266" class="Symbol">→</a> <a id="2268" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2274" href="verificationStackScripts.stackState.html#919" class="Record">StackState</a><a id="2284" class="Symbol">)</a>
                 <a id="2303" class="Symbol">(</a><a id="2304" href="verificationStackScripts.hoareTripleStackBasic.html#2304" class="Bound">ψ</a> <a id="2306" class="Symbol">:</a> <a id="2308" href="verificationStackScripts.sPredicate.html#1174" class="Function">StackStatePred</a><a id="2322" class="Symbol">)</a> <a id="2324" class="Symbol">:</a> <a id="2326" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2330" class="Keyword">where</a>
  <a id="2338" class="Keyword">constructor</a> <a id="hoareTripleStackGenStackState"></a><a id="2350" href="verificationStackScripts.hoareTripleStackBasic.html#2350" class="InductiveConstructor">hoareTripleStackGenStackState</a>
  <a id="2382" class="Keyword">field</a>
    <a id="&lt;_&gt;g_&lt;_&gt;.==&gt;stg"></a><a id="2392" href="verificationStackScripts.hoareTripleStackBasic.html#2392" class="Field">==&gt;stg</a> <a id="2399" class="Symbol">:</a> <a id="2401" class="Symbol">(</a><a id="2402" href="verificationStackScripts.hoareTripleStackBasic.html#2402" class="Bound">s</a> <a id="2404" class="Symbol">:</a> <a id="2406" href="verificationStackScripts.stackState.html#919" class="Record">StackState</a><a id="2416" class="Symbol">)</a>
            <a id="2430" class="Symbol">→</a> <a id="2432" href="verificationStackScripts.hoareTripleStackBasic.html#2223" class="Bound">φ</a> <a id="2434" href="verificationStackScripts.hoareTripleStackBasic.html#2402" class="Bound">s</a>
            <a id="2448" class="Symbol">→</a> <a id="2450" href="libraries.maybeLib.html#614" class="Function">liftPred2Maybe</a> <a id="2465" href="verificationStackScripts.hoareTripleStackBasic.html#2304" class="Bound">ψ</a> <a id="2467" class="Symbol">(</a><a id="2468" href="verificationStackScripts.hoareTripleStackBasic.html#2244" class="Bound">stackfun</a> <a id="2477" href="verificationStackScripts.hoareTripleStackBasic.html#2402" class="Bound">s</a><a id="2478" class="Symbol">)</a>
    <a id="&lt;_&gt;g_&lt;_&gt;.&lt;==stg"></a><a id="2484" href="verificationStackScripts.hoareTripleStackBasic.html#2484" class="Field">&lt;==stg</a> <a id="2491" class="Symbol">:</a> <a id="2493" class="Symbol">(</a><a id="2494" href="verificationStackScripts.hoareTripleStackBasic.html#2494" class="Bound">s</a> <a id="2496" class="Symbol">:</a> <a id="2498" href="verificationStackScripts.stackState.html#919" class="Record">StackState</a><a id="2508" class="Symbol">)</a>
            <a id="2522" class="Symbol">→</a> <a id="2524" href="libraries.maybeLib.html#614" class="Function">liftPred2Maybe</a> <a id="2539" href="verificationStackScripts.hoareTripleStackBasic.html#2304" class="Bound">ψ</a> <a id="2541" class="Symbol">(</a><a id="2542" href="verificationStackScripts.hoareTripleStackBasic.html#2244" class="Bound">stackfun</a> <a id="2551" href="verificationStackScripts.hoareTripleStackBasic.html#2494" class="Bound">s</a><a id="2552" class="Symbol">)</a>
            <a id="2566" class="Symbol">→</a> <a id="2568" href="verificationStackScripts.hoareTripleStackBasic.html#2223" class="Bound">φ</a> <a id="2570" href="verificationStackScripts.hoareTripleStackBasic.html#2494" class="Bound">s</a>
<a id="2572" class="Keyword">open</a> <a id="2577" href="verificationStackScripts.hoareTripleStackBasic.html#2212" class="Module Operator">&lt;_&gt;g_&lt;_&gt;</a> <a id="2586" class="Keyword">public</a>





<a id="2598" class="Comment">-- Proof that the generic Hoare triple implies the standard one for an instruction</a>
<a id="lemmaGenericHoareTripleImpliesHoareTriple"></a><a id="2681" href="verificationStackScripts.hoareTripleStackBasic.html#2681" class="Function">lemmaGenericHoareTripleImpliesHoareTriple</a> <a id="2723" class="Symbol">:</a> <a id="2725" class="Symbol">(</a><a id="2726" href="verificationStackScripts.hoareTripleStackBasic.html#2726" class="Bound">instr</a> <a id="2732" class="Symbol">:</a> <a id="2734" href="instructionBasic.html#733" class="Datatype">InstructionBasic</a><a id="2750" class="Symbol">)</a>
                                            <a id="2796" class="Symbol">(</a><a id="2797" href="verificationStackScripts.hoareTripleStackBasic.html#2797" class="Bound">φ</a> <a id="2799" href="verificationStackScripts.hoareTripleStackBasic.html#2799" class="Bound">ψ</a> <a id="2801" class="Symbol">:</a> <a id="2803" href="verificationStackScripts.sPredicate.html#1174" class="Function">StackStatePred</a><a id="2817" class="Symbol">)</a>
                                            <a id="2863" class="Symbol">→</a> <a id="2865" href="verificationStackScripts.stackHoareTriple.html#8158" class="Record Operator">&lt;</a> <a id="2867" href="verificationStackScripts.hoareTripleStackBasic.html#2797" class="Bound">φ</a> <a id="2869" href="verificationStackScripts.stackHoareTriple.html#8158" class="Record Operator">&gt;ssgen</a> <a id="2876" href="verificationStackScripts.semanticsStackInstructions.html#1051" class="Function Operator">⟦</a> <a id="2878" href="verificationStackScripts.hoareTripleStackBasic.html#2726" class="Bound">instr</a> <a id="2884" href="verificationStackScripts.semanticsStackInstructions.html#1051" class="Function Operator">⟧ₛ</a>  <a id="2888" href="verificationStackScripts.stackHoareTriple.html#8158" class="Record Operator">&lt;</a> <a id="2890" href="verificationStackScripts.hoareTripleStackBasic.html#2799" class="Bound">ψ</a> <a id="2892" href="verificationStackScripts.stackHoareTriple.html#8158" class="Record Operator">&gt;</a>
                                            <a id="2938" class="Symbol">→</a> <a id="2940" href="verificationStackScripts.stackHoareTriple.html#1577" class="Record Operator">&lt;</a> <a id="2942" href="verificationStackScripts.hoareTripleStackBasic.html#2797" class="Bound">φ</a> <a id="2944" href="verificationStackScripts.stackHoareTriple.html#1577" class="Record Operator">&gt;ⁱᶠᶠ</a> <a id="2949" href="Data.List.Base.html#5244" class="Function Operator">[</a> <a id="2951" href="verificationStackScripts.hoareTripleStackBasic.html#2726" class="Bound">instr</a> <a id="2957" href="Data.List.Base.html#5244" class="Function Operator">]</a> <a id="2959" href="verificationStackScripts.stackHoareTriple.html#1577" class="Record Operator">&lt;</a> <a id="2961" href="verificationStackScripts.hoareTripleStackBasic.html#2799" class="Bound">ψ</a> <a id="2963" href="verificationStackScripts.stackHoareTriple.html#1577" class="Record Operator">&gt;</a>
<a id="2965" href="verificationStackScripts.hoareTripleStackBasic.html#2681" class="Function">lemmaGenericHoareTripleImpliesHoareTriple</a> <a id="3007" href="verificationStackScripts.hoareTripleStackBasic.html#3007" class="Bound">instr</a> <a id="3013" href="verificationStackScripts.hoareTripleStackBasic.html#3013" class="Bound">φ</a> <a id="3015" href="verificationStackScripts.hoareTripleStackBasic.html#3015" class="Bound">ψ</a> <a id="3017" href="verificationStackScripts.hoareTripleStackBasic.html#3017" class="Bound">prog</a> <a id="3022" class="Symbol">.</a><a id="3023" href="verificationStackScripts.stackHoareTriple.html#1699" class="Field">==&gt;</a> <a id="3027" class="Symbol">=</a> <a id="3029" href="verificationStackScripts.hoareTripleStackBasic.html#3017" class="Bound">prog</a> <a id="3034" class="Symbol">.</a><a id="3035" href="verificationStackScripts.stackHoareTriple.html#8302" class="Field">==&gt;g</a>
<a id="3040" href="verificationStackScripts.hoareTripleStackBasic.html#2681" class="Function">lemmaGenericHoareTripleImpliesHoareTriple</a> <a id="3082" href="verificationStackScripts.hoareTripleStackBasic.html#3082" class="Bound">instr</a> <a id="3088" href="verificationStackScripts.hoareTripleStackBasic.html#3088" class="Bound">φ</a> <a id="3090" href="verificationStackScripts.hoareTripleStackBasic.html#3090" class="Bound">ψ</a> <a id="3092" href="verificationStackScripts.hoareTripleStackBasic.html#3092" class="Bound">prog</a> <a id="3097" class="Symbol">.</a><a id="3098" href="verificationStackScripts.stackHoareTriple.html#1751" class="Field">&lt;==</a> <a id="3102" class="Symbol">=</a> <a id="3104" href="verificationStackScripts.hoareTripleStackBasic.html#3092" class="Bound">prog</a> <a id="3109" class="Symbol">.</a><a id="3110" href="verificationStackScripts.stackHoareTriple.html#8351" class="Field">&lt;==g</a>


<a id="lemmaGenericHoareTripleImpliesHoareTriple&#39;&#39;"></a><a id="3117" href="verificationStackScripts.hoareTripleStackBasic.html#3117" class="Function">lemmaGenericHoareTripleImpliesHoareTriple&#39;&#39;</a> <a id="3161" class="Symbol">:</a> <a id="3163" class="Symbol">(</a><a id="3164" href="verificationStackScripts.hoareTripleStackBasic.html#3164" class="Bound">prog</a> <a id="3169" class="Symbol">:</a> <a id="3171" href="instructionBasic.html#1030" class="Function">BitcoinScriptBasic</a><a id="3189" class="Symbol">)</a>
                                            <a id="3235" class="Symbol">(</a><a id="3236" href="verificationStackScripts.hoareTripleStackBasic.html#3236" class="Bound">φ</a> <a id="3238" href="verificationStackScripts.hoareTripleStackBasic.html#3238" class="Bound">ψ</a> <a id="3240" class="Symbol">:</a> <a id="3242" href="verificationStackScripts.sPredicate.html#1174" class="Function">StackStatePred</a><a id="3256" class="Symbol">)</a>
                                            <a id="3302" class="Symbol">→</a> <a id="3304" href="verificationStackScripts.stackHoareTriple.html#8158" class="Record Operator">&lt;</a> <a id="3306" href="verificationStackScripts.hoareTripleStackBasic.html#3236" class="Bound">φ</a> <a id="3308" href="verificationStackScripts.stackHoareTriple.html#8158" class="Record Operator">&gt;ssgen</a> <a id="3315" href="verificationStackScripts.semanticsStackInstructions.html#1248" class="Function Operator">⟦</a> <a id="3317" href="verificationStackScripts.hoareTripleStackBasic.html#3164" class="Bound">prog</a> <a id="3322" href="verificationStackScripts.semanticsStackInstructions.html#1248" class="Function Operator">⟧</a>  <a id="3325" href="verificationStackScripts.stackHoareTriple.html#8158" class="Record Operator">&lt;</a> <a id="3327" href="verificationStackScripts.hoareTripleStackBasic.html#3238" class="Bound">ψ</a> <a id="3329" href="verificationStackScripts.stackHoareTriple.html#8158" class="Record Operator">&gt;</a>
                                            <a id="3375" class="Symbol">→</a> <a id="3377" href="verificationStackScripts.stackHoareTriple.html#1577" class="Record Operator">&lt;</a> <a id="3379" href="verificationStackScripts.hoareTripleStackBasic.html#3236" class="Bound">φ</a> <a id="3381" href="verificationStackScripts.stackHoareTriple.html#1577" class="Record Operator">&gt;ⁱᶠᶠ</a> <a id="3386" href="verificationStackScripts.hoareTripleStackBasic.html#3164" class="Bound">prog</a> <a id="3391" href="verificationStackScripts.stackHoareTriple.html#1577" class="Record Operator">&lt;</a> <a id="3393" href="verificationStackScripts.hoareTripleStackBasic.html#3238" class="Bound">ψ</a> <a id="3395" href="verificationStackScripts.stackHoareTriple.html#1577" class="Record Operator">&gt;</a>
<a id="3397" href="verificationStackScripts.hoareTripleStackBasic.html#3117" class="Function">lemmaGenericHoareTripleImpliesHoareTriple&#39;&#39;</a> <a id="3441" href="verificationStackScripts.hoareTripleStackBasic.html#3441" class="Bound">prog</a> <a id="3446" href="verificationStackScripts.hoareTripleStackBasic.html#3446" class="Bound">φ</a> <a id="3448" href="verificationStackScripts.hoareTripleStackBasic.html#3448" class="Bound">ψ</a> <a id="3450" href="verificationStackScripts.hoareTripleStackBasic.html#3450" class="Bound">prog₁</a> <a id="3456" class="Symbol">.</a><a id="3457" href="verificationStackScripts.stackHoareTriple.html#1699" class="Field">==&gt;</a> <a id="3461" class="Symbol">=</a> <a id="3463" href="verificationStackScripts.hoareTripleStackBasic.html#3450" class="Bound">prog₁</a> <a id="3469" class="Symbol">.</a><a id="3470" href="verificationStackScripts.stackHoareTriple.html#8302" class="Field">==&gt;g</a>
<a id="3475" href="verificationStackScripts.hoareTripleStackBasic.html#3117" class="Function">lemmaGenericHoareTripleImpliesHoareTriple&#39;&#39;</a> <a id="3519" href="verificationStackScripts.hoareTripleStackBasic.html#3519" class="Bound">prog</a> <a id="3524" href="verificationStackScripts.hoareTripleStackBasic.html#3524" class="Bound">φ</a> <a id="3526" href="verificationStackScripts.hoareTripleStackBasic.html#3526" class="Bound">ψ</a> <a id="3528" href="verificationStackScripts.hoareTripleStackBasic.html#3528" class="Bound">prog₁</a> <a id="3534" class="Symbol">.</a><a id="3535" href="verificationStackScripts.stackHoareTriple.html#1751" class="Field">&lt;==</a> <a id="3539" class="Symbol">=</a> <a id="3541" href="verificationStackScripts.hoareTripleStackBasic.html#3528" class="Bound">prog₁</a> <a id="3547" class="Symbol">.</a><a id="3548" href="verificationStackScripts.stackHoareTriple.html#8351" class="Field">&lt;==g</a>



<a id="3556" class="Comment">-- intermediate step towards showing that the</a>
<a id="3602" class="Comment">--   Hoare triple of a stack function implies</a>
<a id="3648" class="Comment">--   the Hoare triple of the instruction</a>
<a id="lemmaNonIfInstrGenericCondImpliesTripleaux"></a><a id="3689" href="verificationStackScripts.hoareTripleStackBasic.html#3689" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="3732" class="Symbol">:</a>
          <a id="3744" class="Symbol">(</a><a id="3745" href="verificationStackScripts.hoareTripleStackBasic.html#3745" class="Bound">op</a> <a id="3748" class="Symbol">:</a> <a id="3750" href="instructionBasic.html#733" class="Datatype">InstructionBasic</a><a id="3766" class="Symbol">)</a>
          <a id="3778" class="Symbol">(</a><a id="3779" href="verificationStackScripts.hoareTripleStackBasic.html#3779" class="Bound">φ</a> <a id="3781" href="verificationStackScripts.hoareTripleStackBasic.html#3781" class="Bound">ψ</a> <a id="3783" class="Symbol">:</a> <a id="3785" href="verificationStackScripts.sPredicate.html#1174" class="Function">StackStatePred</a><a id="3799" class="Symbol">)</a>
          <a id="3811" class="Symbol">→</a> <a id="3813" href="verificationStackScripts.stackHoareTriple.html#8158" class="Record Operator">&lt;</a> <a id="3815" href="verificationStackScripts.hoareTripleStackBasic.html#3779" class="Bound">φ</a> <a id="3817" href="verificationStackScripts.stackHoareTriple.html#8158" class="Record Operator">&gt;ssgen</a> <a id="3824" href="verificationStackScripts.stackState.html#2054" class="Function">stackTransform2StackStateTransform</a> <a id="3859" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1838" class="Function Operator">⟦</a> <a id="3861" href="Data.List.Base.html#5244" class="Function Operator">[</a> <a id="3863" href="verificationStackScripts.hoareTripleStackBasic.html#3745" class="Bound">op</a> <a id="3866" href="Data.List.Base.html#5244" class="Function Operator">]</a> <a id="3868" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1838" class="Function Operator">⟧ˢ</a> <a id="3871" href="verificationStackScripts.stackHoareTriple.html#8158" class="Record Operator">&lt;</a> <a id="3873" href="verificationStackScripts.hoareTripleStackBasic.html#3781" class="Bound">ψ</a> <a id="3875" href="verificationStackScripts.stackHoareTriple.html#8158" class="Record Operator">&gt;</a>
          <a id="3887" class="Symbol">→</a> <a id="3889" href="verificationStackScripts.stackHoareTriple.html#8158" class="Record Operator">&lt;</a> <a id="3891" href="verificationStackScripts.hoareTripleStackBasic.html#3779" class="Bound">φ</a> <a id="3893" href="verificationStackScripts.stackHoareTriple.html#8158" class="Record Operator">&gt;ssgen</a> <a id="3900" href="verificationStackScripts.semanticsStackInstructions.html#1051" class="Function Operator">⟦</a> <a id="3902" href="verificationStackScripts.hoareTripleStackBasic.html#3745" class="Bound">op</a> <a id="3905" href="verificationStackScripts.semanticsStackInstructions.html#1051" class="Function Operator">⟧ₛ</a>  <a id="3909" href="verificationStackScripts.stackHoareTriple.html#8158" class="Record Operator">&lt;</a> <a id="3911" href="verificationStackScripts.hoareTripleStackBasic.html#3781" class="Bound">ψ</a> <a id="3913" href="verificationStackScripts.stackHoareTriple.html#8158" class="Record Operator">&gt;</a>
<a id="3915" href="verificationStackScripts.hoareTripleStackBasic.html#3689" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="3958" href="instructionBasic.html#764" class="InductiveConstructor">opEqual</a>  <a id="3967" href="verificationStackScripts.hoareTripleStackBasic.html#3967" class="Bound">φ</a> <a id="3969" href="verificationStackScripts.hoareTripleStackBasic.html#3969" class="Bound">ψ</a> <a id="3971" href="verificationStackScripts.hoareTripleStackBasic.html#3971" class="Bound">x</a> <a id="3973" class="Symbol">=</a> <a id="3975" href="verificationStackScripts.hoareTripleStackBasic.html#3971" class="Bound">x</a>
<a id="3977" href="verificationStackScripts.hoareTripleStackBasic.html#3689" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4020" href="instructionBasic.html#772" class="InductiveConstructor">opAdd</a>  <a id="4027" href="verificationStackScripts.hoareTripleStackBasic.html#4027" class="Bound">φ</a> <a id="4029" href="verificationStackScripts.hoareTripleStackBasic.html#4029" class="Bound">ψ</a> <a id="4031" href="verificationStackScripts.hoareTripleStackBasic.html#4031" class="Bound">x</a> <a id="4033" class="Symbol">=</a> <a id="4035" href="verificationStackScripts.hoareTripleStackBasic.html#4031" class="Bound">x</a>
<a id="4037" href="verificationStackScripts.hoareTripleStackBasic.html#3689" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4080" class="Symbol">(</a><a id="4081" href="instructionBasic.html#938" class="InductiveConstructor">opPush</a> <a id="4088" href="verificationStackScripts.hoareTripleStackBasic.html#4088" class="Bound">x₁</a><a id="4090" class="Symbol">)</a>  <a id="4093" href="verificationStackScripts.hoareTripleStackBasic.html#4093" class="Bound">φ</a> <a id="4095" href="verificationStackScripts.hoareTripleStackBasic.html#4095" class="Bound">ψ</a> <a id="4097" href="verificationStackScripts.hoareTripleStackBasic.html#4097" class="Bound">x</a> <a id="4099" class="Symbol">=</a> <a id="4101" href="verificationStackScripts.hoareTripleStackBasic.html#4097" class="Bound">x</a>
<a id="4103" href="verificationStackScripts.hoareTripleStackBasic.html#3689" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4146" href="instructionBasic.html#778" class="InductiveConstructor">opSub</a>  <a id="4153" href="verificationStackScripts.hoareTripleStackBasic.html#4153" class="Bound">φ</a> <a id="4155" href="verificationStackScripts.hoareTripleStackBasic.html#4155" class="Bound">ψ</a> <a id="4157" href="verificationStackScripts.hoareTripleStackBasic.html#4157" class="Bound">x</a> <a id="4159" class="Symbol">=</a> <a id="4161" href="verificationStackScripts.hoareTripleStackBasic.html#4157" class="Bound">x</a>
<a id="4163" href="verificationStackScripts.hoareTripleStackBasic.html#3689" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4206" href="instructionBasic.html#784" class="InductiveConstructor">opVerify</a>  <a id="4216" href="verificationStackScripts.hoareTripleStackBasic.html#4216" class="Bound">φ</a> <a id="4218" href="verificationStackScripts.hoareTripleStackBasic.html#4218" class="Bound">ψ</a> <a id="4220" href="verificationStackScripts.hoareTripleStackBasic.html#4220" class="Bound">x</a> <a id="4222" class="Symbol">=</a> <a id="4224" href="verificationStackScripts.hoareTripleStackBasic.html#4220" class="Bound">x</a>
<a id="4226" href="verificationStackScripts.hoareTripleStackBasic.html#3689" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4269" href="instructionBasic.html#903" class="InductiveConstructor">opCheckSig</a>  <a id="4281" href="verificationStackScripts.hoareTripleStackBasic.html#4281" class="Bound">φ</a> <a id="4283" href="verificationStackScripts.hoareTripleStackBasic.html#4283" class="Bound">ψ</a> <a id="4285" href="verificationStackScripts.hoareTripleStackBasic.html#4285" class="Bound">x</a> <a id="4287" class="Symbol">=</a> <a id="4289" href="verificationStackScripts.hoareTripleStackBasic.html#4285" class="Bound">x</a>
<a id="4291" href="verificationStackScripts.hoareTripleStackBasic.html#3689" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4334" href="instructionBasic.html#793" class="InductiveConstructor">opEqualVerify</a>  <a id="4349" href="verificationStackScripts.hoareTripleStackBasic.html#4349" class="Bound">φ</a> <a id="4351" href="verificationStackScripts.hoareTripleStackBasic.html#4351" class="Bound">ψ</a> <a id="4353" href="verificationStackScripts.hoareTripleStackBasic.html#4353" class="Bound">x</a> <a id="4355" class="Symbol">=</a> <a id="4357" href="verificationStackScripts.hoareTripleStackBasic.html#4353" class="Bound">x</a>
<a id="4359" href="verificationStackScripts.hoareTripleStackBasic.html#3689" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4402" href="instructionBasic.html#821" class="InductiveConstructor">opDup</a>  <a id="4409" href="verificationStackScripts.hoareTripleStackBasic.html#4409" class="Bound">φ</a> <a id="4411" href="verificationStackScripts.hoareTripleStackBasic.html#4411" class="Bound">ψ</a> <a id="4413" href="verificationStackScripts.hoareTripleStackBasic.html#4413" class="Bound">x</a> <a id="4415" class="Symbol">=</a> <a id="4417" href="verificationStackScripts.hoareTripleStackBasic.html#4413" class="Bound">x</a>
<a id="4419" href="verificationStackScripts.hoareTripleStackBasic.html#3689" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4462" href="instructionBasic.html#807" class="InductiveConstructor">opDrop</a>  <a id="4470" href="verificationStackScripts.hoareTripleStackBasic.html#4470" class="Bound">φ</a> <a id="4472" href="verificationStackScripts.hoareTripleStackBasic.html#4472" class="Bound">ψ</a> <a id="4474" href="verificationStackScripts.hoareTripleStackBasic.html#4474" class="Bound">x</a> <a id="4476" class="Symbol">=</a> <a id="4478" href="verificationStackScripts.hoareTripleStackBasic.html#4474" class="Bound">x</a>
<a id="4480" href="verificationStackScripts.hoareTripleStackBasic.html#3689" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4523" href="instructionBasic.html#814" class="InductiveConstructor">opSwap</a>  <a id="4531" href="verificationStackScripts.hoareTripleStackBasic.html#4531" class="Bound">φ</a> <a id="4533" href="verificationStackScripts.hoareTripleStackBasic.html#4533" class="Bound">ψ</a> <a id="4535" href="verificationStackScripts.hoareTripleStackBasic.html#4535" class="Bound">x</a> <a id="4537" class="Symbol">=</a> <a id="4539" href="verificationStackScripts.hoareTripleStackBasic.html#4535" class="Bound">x</a>
<a id="4541" href="verificationStackScripts.hoareTripleStackBasic.html#3689" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4584" href="instructionBasic.html#851" class="InductiveConstructor">opHash</a>  <a id="4592" href="verificationStackScripts.hoareTripleStackBasic.html#4592" class="Bound">φ</a> <a id="4594" href="verificationStackScripts.hoareTripleStackBasic.html#4594" class="Bound">ψ</a> <a id="4596" href="verificationStackScripts.hoareTripleStackBasic.html#4596" class="Bound">x</a> <a id="4598" class="Symbol">=</a> <a id="4600" href="verificationStackScripts.hoareTripleStackBasic.html#4596" class="Bound">x</a>
<a id="4602" href="verificationStackScripts.hoareTripleStackBasic.html#3689" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4645" href="instructionBasic.html#869" class="InductiveConstructor">opCHECKLOCKTIMEVERIFY</a>  <a id="4668" href="verificationStackScripts.hoareTripleStackBasic.html#4668" class="Bound">φ</a> <a id="4670" href="verificationStackScripts.hoareTripleStackBasic.html#4670" class="Bound">ψ</a> <a id="4672" href="verificationStackScripts.hoareTripleStackBasic.html#4672" class="Bound">x</a> <a id="4674" class="Symbol">=</a> <a id="4676" href="verificationStackScripts.hoareTripleStackBasic.html#4672" class="Bound">x</a>
<a id="4678" href="verificationStackScripts.hoareTripleStackBasic.html#3689" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4721" href="instructionBasic.html#891" class="InductiveConstructor">opCheckSig3</a>  <a id="4734" href="verificationStackScripts.hoareTripleStackBasic.html#4734" class="Bound">φ</a> <a id="4736" href="verificationStackScripts.hoareTripleStackBasic.html#4736" class="Bound">ψ</a> <a id="4738" href="verificationStackScripts.hoareTripleStackBasic.html#4738" class="Bound">x</a> <a id="4740" class="Symbol">=</a> <a id="4742" href="verificationStackScripts.hoareTripleStackBasic.html#4738" class="Bound">x</a>
<a id="4744" href="verificationStackScripts.hoareTripleStackBasic.html#3689" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4787" href="instructionBasic.html#858" class="InductiveConstructor">opMultiSig</a>  <a id="4799" href="verificationStackScripts.hoareTripleStackBasic.html#4799" class="Bound">φ</a> <a id="4801" href="verificationStackScripts.hoareTripleStackBasic.html#4801" class="Bound">ψ</a> <a id="4803" href="verificationStackScripts.hoareTripleStackBasic.html#4803" class="Bound">x</a> <a id="4805" class="Symbol">=</a> <a id="4807" href="verificationStackScripts.hoareTripleStackBasic.html#4803" class="Bound">x</a>


<a id="lemmaNonIfInstrGenericCondImpliesHoareTriple"></a><a id="4811" href="verificationStackScripts.hoareTripleStackBasic.html#4811" class="Function">lemmaNonIfInstrGenericCondImpliesHoareTriple</a> <a id="4856" class="Symbol">:</a>
          <a id="4868" class="Symbol">(</a><a id="4869" href="verificationStackScripts.hoareTripleStackBasic.html#4869" class="Bound">op</a> <a id="4872" class="Symbol">:</a> <a id="4874" href="instructionBasic.html#733" class="Datatype">InstructionBasic</a><a id="4890" class="Symbol">)</a>
          <a id="4902" class="Symbol">(</a><a id="4903" href="verificationStackScripts.hoareTripleStackBasic.html#4903" class="Bound">φ</a> <a id="4905" href="verificationStackScripts.hoareTripleStackBasic.html#4905" class="Bound">ψ</a> <a id="4907" class="Symbol">:</a> <a id="4909" href="verificationStackScripts.sPredicate.html#1174" class="Function">StackStatePred</a><a id="4923" class="Symbol">)</a>
          <a id="4935" class="Symbol">→</a> <a id="4937" href="verificationStackScripts.stackHoareTriple.html#8158" class="Record Operator">&lt;</a> <a id="4939" href="verificationStackScripts.hoareTripleStackBasic.html#4903" class="Bound">φ</a> <a id="4941" href="verificationStackScripts.stackHoareTriple.html#8158" class="Record Operator">&gt;ssgen</a> <a id="4948" href="verificationStackScripts.stackState.html#2054" class="Function">stackTransform2StackStateTransform</a> <a id="4983" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1838" class="Function Operator">⟦</a> <a id="4985" href="Data.List.Base.html#5244" class="Function Operator">[</a> <a id="4987" href="verificationStackScripts.hoareTripleStackBasic.html#4869" class="Bound">op</a> <a id="4990" href="Data.List.Base.html#5244" class="Function Operator">]</a> <a id="4992" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1838" class="Function Operator">⟧ˢ</a> <a id="4995" href="verificationStackScripts.stackHoareTriple.html#8158" class="Record Operator">&lt;</a> <a id="4997" href="verificationStackScripts.hoareTripleStackBasic.html#4905" class="Bound">ψ</a> <a id="4999" href="verificationStackScripts.stackHoareTriple.html#8158" class="Record Operator">&gt;</a>
          <a id="5011" class="Symbol">→</a> <a id="5013" href="verificationStackScripts.stackHoareTriple.html#1577" class="Record Operator">&lt;</a> <a id="5015" href="verificationStackScripts.hoareTripleStackBasic.html#4903" class="Bound">φ</a> <a id="5017" href="verificationStackScripts.stackHoareTriple.html#1577" class="Record Operator">&gt;ⁱᶠᶠ</a> <a id="5022" href="Data.List.Base.html#5244" class="Function Operator">[</a> <a id="5024" href="verificationStackScripts.hoareTripleStackBasic.html#4869" class="Bound">op</a> <a id="5027" href="Data.List.Base.html#5244" class="Function Operator">]</a>  <a id="5030" href="verificationStackScripts.stackHoareTriple.html#1577" class="Record Operator">&lt;</a> <a id="5032" href="verificationStackScripts.hoareTripleStackBasic.html#4905" class="Bound">ψ</a> <a id="5034" href="verificationStackScripts.stackHoareTriple.html#1577" class="Record Operator">&gt;</a>
<a id="5036" href="verificationStackScripts.hoareTripleStackBasic.html#4811" class="Function">lemmaNonIfInstrGenericCondImpliesHoareTriple</a> <a id="5081" href="verificationStackScripts.hoareTripleStackBasic.html#5081" class="Bound">op</a> <a id="5084" href="verificationStackScripts.hoareTripleStackBasic.html#5084" class="Bound">φ</a> <a id="5086" href="verificationStackScripts.hoareTripleStackBasic.html#5086" class="Bound">ψ</a> <a id="5088" href="verificationStackScripts.hoareTripleStackBasic.html#5088" class="Bound">p</a>
  <a id="5092" class="Symbol">=</a> <a id="5094" href="verificationStackScripts.hoareTripleStackBasic.html#2681" class="Function">lemmaGenericHoareTripleImpliesHoareTriple</a> <a id="5136" href="verificationStackScripts.hoareTripleStackBasic.html#5081" class="Bound">op</a> <a id="5139" href="verificationStackScripts.hoareTripleStackBasic.html#5084" class="Bound">φ</a> <a id="5141" href="verificationStackScripts.hoareTripleStackBasic.html#5086" class="Bound">ψ</a>
      <a id="5149" class="Symbol">(</a><a id="5150" href="verificationStackScripts.hoareTripleStackBasic.html#3689" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="5193" href="verificationStackScripts.hoareTripleStackBasic.html#5081" class="Bound">op</a> <a id="5196" href="verificationStackScripts.hoareTripleStackBasic.html#5084" class="Bound">φ</a> <a id="5198" href="verificationStackScripts.hoareTripleStackBasic.html#5086" class="Bound">ψ</a> <a id="5200" href="verificationStackScripts.hoareTripleStackBasic.html#5088" class="Bound">p</a><a id="5201" class="Symbol">)</a>



<a id="5206" class="Comment">-- auxiliary function used for proving lemmaLift2StateCorrectnessStackFun=&gt;</a>
<a id="lemmaLift2StateCorrectnessStackFun=&gt;aux"></a><a id="5282" href="verificationStackScripts.hoareTripleStackBasic.html#5282" class="Function">lemmaLift2StateCorrectnessStackFun=&gt;aux</a> <a id="5322" class="Symbol">:</a> <a id="5324" class="Symbol">(</a><a id="5325" href="verificationStackScripts.hoareTripleStackBasic.html#5325" class="Bound">ψ</a> <a id="5327" class="Symbol">:</a> <a id="5329" href="stackPredicate.html#897" class="Function">StackPredicate</a><a id="5343" class="Symbol">)</a>
                                          <a id="5387" class="Symbol">(</a><a id="5388" href="verificationStackScripts.hoareTripleStackBasic.html#5388" class="Bound">funRes</a> <a id="5395" class="Symbol">:</a> <a id="5397" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="5403" href="stack.html#690" class="Function">Stack</a><a id="5408" class="Symbol">)</a>
                                          <a id="5452" class="Symbol">(</a><a id="5453" href="verificationStackScripts.hoareTripleStackBasic.html#5453" class="Bound">currentTime₁</a> <a id="5466" class="Symbol">:</a> <a id="5468" href="basicBitcoinDataType.html#650" class="Function">Time</a><a id="5472" class="Symbol">)</a>
                                          <a id="5516" class="Symbol">(</a><a id="5517" href="verificationStackScripts.hoareTripleStackBasic.html#5517" class="Bound">msg₁</a> <a id="5522" class="Symbol">:</a> <a id="5524" href="basicBitcoinDataType.html#842" class="Datatype">Msg</a><a id="5527" class="Symbol">)</a>
                                          <a id="5571" class="Symbol">(</a><a id="5572" href="verificationStackScripts.hoareTripleStackBasic.html#5572" class="Bound">p</a> <a id="5574" class="Symbol">:</a> <a id="5576" href="libraries.maybeLib.html#614" class="Function">liftPred2Maybe</a> <a id="5591" class="Symbol">(</a><a id="5592" href="verificationStackScripts.hoareTripleStackBasic.html#5325" class="Bound">ψ</a> <a id="5594" href="verificationStackScripts.hoareTripleStackBasic.html#5453" class="Bound">currentTime₁</a> <a id="5607" href="verificationStackScripts.hoareTripleStackBasic.html#5517" class="Bound">msg₁</a><a id="5611" class="Symbol">)</a> <a id="5613" href="verificationStackScripts.hoareTripleStackBasic.html#5388" class="Bound">funRes</a><a id="5619" class="Symbol">)</a>
                                          <a id="5663" class="Symbol">→</a> <a id="5665" class="Symbol">((</a><a id="5667" href="verificationStackScripts.sPredicate.html#2316" class="Function">stackPred2SPred</a> <a id="5683" href="verificationStackScripts.hoareTripleStackBasic.html#5325" class="Bound">ψ</a> <a id="5685" class="Symbol">)</a> <a id="5687" href="libraries.maybeLib.html#1221" class="Function Operator">⁺</a><a id="5688" class="Symbol">)</a>
                                             <a id="5735" class="Symbol">(</a><a id="5736" href="verificationStackScripts.stackState.html#1465" class="Function">stackState2WithMaybe</a>
                                               <a id="5804" class="InductiveConstructor Operator">⟨</a> <a id="5806" href="verificationStackScripts.hoareTripleStackBasic.html#5453" class="Bound">currentTime₁</a> <a id="5819" class="InductiveConstructor Operator">,</a> <a id="5821" href="verificationStackScripts.hoareTripleStackBasic.html#5517" class="Bound">msg₁</a> <a id="5826" class="InductiveConstructor Operator">,</a> <a id="5828" href="verificationStackScripts.hoareTripleStackBasic.html#5388" class="Bound">funRes</a> <a id="5835" class="InductiveConstructor Operator">⟩</a><a id="5836" class="Symbol">)</a>
<a id="5838" href="verificationStackScripts.hoareTripleStackBasic.html#5282" class="Function">lemmaLift2StateCorrectnessStackFun=&gt;aux</a> <a id="5878" href="verificationStackScripts.hoareTripleStackBasic.html#5878" class="Bound">ψ</a> <a id="5880" class="Symbol">(</a><a id="5881" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5886" href="verificationStackScripts.hoareTripleStackBasic.html#5886" class="Bound">x</a><a id="5887" class="Symbol">)</a> <a id="5889" href="verificationStackScripts.hoareTripleStackBasic.html#5889" class="Bound">currentTime₁</a> <a id="5902" href="verificationStackScripts.hoareTripleStackBasic.html#5902" class="Bound">msg₁</a> <a id="5907" href="verificationStackScripts.hoareTripleStackBasic.html#5907" class="Bound">p</a> <a id="5909" class="Symbol">=</a> <a id="5911" href="verificationStackScripts.hoareTripleStackBasic.html#5907" class="Bound">p</a>


<a id="5915" class="Comment">-- Stack correctness implies correctness of the hoare triple</a>
<a id="5976" class="Comment">--   here direction =&gt;</a>
<a id="lift2StateCorrectnessStackFun=&gt;"></a><a id="5999" href="verificationStackScripts.hoareTripleStackBasic.html#5999" class="Function">lift2StateCorrectnessStackFun=&gt;</a> <a id="6031" class="Symbol">:</a> <a id="6033" class="Symbol">(</a><a id="6034" href="verificationStackScripts.hoareTripleStackBasic.html#6034" class="Bound">φ</a> <a id="6036" href="verificationStackScripts.hoareTripleStackBasic.html#6036" class="Bound">ψ</a> <a id="6038" class="Symbol">:</a> <a id="6040" href="stackPredicate.html#897" class="Function">StackPredicate</a><a id="6054" class="Symbol">)</a>
                                  <a id="6090" class="Symbol">(</a><a id="6091" href="verificationStackScripts.hoareTripleStackBasic.html#6091" class="Bound">stackfun</a> <a id="6100" class="Symbol">:</a> <a id="6102" href="stack.html#1140" class="Function">StackTransformer</a><a id="6118" class="Symbol">)</a>
                                  <a id="6154" class="Symbol">(</a><a id="6155" href="verificationStackScripts.hoareTripleStackBasic.html#6155" class="Bound">stackCorrectness</a> <a id="6172" class="Symbol">:</a> <a id="6174" class="Symbol">(</a><a id="6175" href="verificationStackScripts.hoareTripleStackBasic.html#6175" class="Bound">time</a> <a id="6180" class="Symbol">:</a> <a id="6182" href="basicBitcoinDataType.html#650" class="Function">Time</a><a id="6186" class="Symbol">)(</a><a id="6188" href="verificationStackScripts.hoareTripleStackBasic.html#6188" class="Bound">msg</a> <a id="6192" class="Symbol">:</a> <a id="6194" href="basicBitcoinDataType.html#842" class="Datatype">Msg</a><a id="6197" class="Symbol">)(</a><a id="6199" href="verificationStackScripts.hoareTripleStackBasic.html#6199" class="Bound">s</a> <a id="6201" class="Symbol">:</a> <a id="6203" href="stack.html#690" class="Function">Stack</a><a id="6208" class="Symbol">)</a>
                                  <a id="6244" class="Symbol">→</a> <a id="6246" href="verificationStackScripts.hoareTripleStackBasic.html#6034" class="Bound">φ</a> <a id="6248" href="verificationStackScripts.hoareTripleStackBasic.html#6175" class="Bound">time</a> <a id="6253" href="verificationStackScripts.hoareTripleStackBasic.html#6188" class="Bound">msg</a> <a id="6257" href="verificationStackScripts.hoareTripleStackBasic.html#6199" class="Bound">s</a> <a id="6259" class="Symbol">→</a> <a id="6261" href="libraries.maybeLib.html#614" class="Function">liftPred2Maybe</a> <a id="6276" class="Symbol">(</a><a id="6277" href="verificationStackScripts.hoareTripleStackBasic.html#6036" class="Bound">ψ</a> <a id="6279" href="verificationStackScripts.hoareTripleStackBasic.html#6175" class="Bound">time</a> <a id="6284" href="verificationStackScripts.hoareTripleStackBasic.html#6188" class="Bound">msg</a><a id="6287" class="Symbol">)</a> <a id="6289" class="Symbol">(</a><a id="6290" href="verificationStackScripts.hoareTripleStackBasic.html#6091" class="Bound">stackfun</a> <a id="6299" href="verificationStackScripts.hoareTripleStackBasic.html#6175" class="Bound">time</a> <a id="6304" href="verificationStackScripts.hoareTripleStackBasic.html#6188" class="Bound">msg</a> <a id="6308" href="verificationStackScripts.hoareTripleStackBasic.html#6199" class="Bound">s</a><a id="6309" class="Symbol">))</a>
                                  <a id="6346" class="Symbol">(</a><a id="6347" href="verificationStackScripts.hoareTripleStackBasic.html#6347" class="Bound">s</a> <a id="6349" class="Symbol">:</a> <a id="6351" href="verificationStackScripts.stackState.html#919" class="Record">StackState</a><a id="6361" class="Symbol">)</a>
                                  <a id="6397" class="Symbol">→</a> <a id="6399" href="verificationStackScripts.sPredicate.html#2316" class="Function">stackPred2SPred</a> <a id="6415" href="verificationStackScripts.hoareTripleStackBasic.html#6034" class="Bound">φ</a> <a id="6417" href="verificationStackScripts.hoareTripleStackBasic.html#6347" class="Bound">s</a>
                                  <a id="6453" class="Symbol">→</a> <a id="6455" class="Symbol">((</a><a id="6457" href="verificationStackScripts.sPredicate.html#2316" class="Function">stackPred2SPred</a> <a id="6473" href="verificationStackScripts.hoareTripleStackBasic.html#6036" class="Bound">ψ</a><a id="6474" class="Symbol">)</a> <a id="6476" href="libraries.maybeLib.html#1221" class="Function Operator">⁺</a><a id="6477" class="Symbol">)</a>
                                                    <a id="6531" class="Symbol">(</a><a id="6532" href="verificationStackScripts.stackState.html#2054" class="Function">stackTransform2StackStateTransform</a> <a id="6567" href="verificationStackScripts.hoareTripleStackBasic.html#6091" class="Bound">stackfun</a> <a id="6576" href="verificationStackScripts.hoareTripleStackBasic.html#6347" class="Bound">s</a><a id="6577" class="Symbol">)</a>
<a id="6579" href="verificationStackScripts.hoareTripleStackBasic.html#5999" class="Function">lift2StateCorrectnessStackFun=&gt;</a> <a id="6611" href="verificationStackScripts.hoareTripleStackBasic.html#6611" class="Bound">φ</a> <a id="6613" href="verificationStackScripts.hoareTripleStackBasic.html#6613" class="Bound">ψ</a> <a id="6615" href="verificationStackScripts.hoareTripleStackBasic.html#6615" class="Bound">stackfun</a> <a id="6624" href="verificationStackScripts.hoareTripleStackBasic.html#6624" class="Bound">stackCorrectness</a> <a id="6641" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">⟨</a> <a id="6643" href="verificationStackScripts.hoareTripleStackBasic.html#6643" class="Bound">currentTime₁</a> <a id="6656" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">,</a> <a id="6658" href="verificationStackScripts.hoareTripleStackBasic.html#6658" class="Bound">msg₁</a> <a id="6663" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">,</a> <a id="6665" href="verificationStackScripts.hoareTripleStackBasic.html#6665" class="Bound">stack₁</a> <a id="6672" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">⟩</a>  <a id="6675" href="verificationStackScripts.hoareTripleStackBasic.html#6675" class="Bound">and3</a>
      <a id="6686" class="Symbol">=</a> <a id="6688" href="verificationStackScripts.hoareTripleStackBasic.html#5282" class="Function">lemmaLift2StateCorrectnessStackFun=&gt;aux</a> <a id="6728" href="verificationStackScripts.hoareTripleStackBasic.html#6613" class="Bound">ψ</a>  <a id="6731" class="Symbol">(</a><a id="6732" href="verificationStackScripts.hoareTripleStackBasic.html#6615" class="Bound">stackfun</a> <a id="6741" href="verificationStackScripts.hoareTripleStackBasic.html#6643" class="Bound">currentTime₁</a> <a id="6754" href="verificationStackScripts.hoareTripleStackBasic.html#6658" class="Bound">msg₁</a> <a id="6759" href="verificationStackScripts.hoareTripleStackBasic.html#6665" class="Bound">stack₁</a><a id="6765" class="Symbol">)</a> <a id="6767" href="verificationStackScripts.hoareTripleStackBasic.html#6643" class="Bound">currentTime₁</a> <a id="6780" href="verificationStackScripts.hoareTripleStackBasic.html#6658" class="Bound">msg₁</a>
                   <a id="6804" class="Symbol">(</a><a id="6805" href="verificationStackScripts.hoareTripleStackBasic.html#6624" class="Bound">stackCorrectness</a> <a id="6822" href="verificationStackScripts.hoareTripleStackBasic.html#6643" class="Bound">currentTime₁</a> <a id="6835" href="verificationStackScripts.hoareTripleStackBasic.html#6658" class="Bound">msg₁</a> <a id="6840" href="verificationStackScripts.hoareTripleStackBasic.html#6665" class="Bound">stack₁</a> <a id="6847" href="verificationStackScripts.hoareTripleStackBasic.html#6675" class="Bound">and3</a><a id="6851" class="Symbol">)</a>


<a id="lemmaLift2StateCorrectnessStackFun&lt;=aux"></a><a id="6855" href="verificationStackScripts.hoareTripleStackBasic.html#6855" class="Function">lemmaLift2StateCorrectnessStackFun&lt;=aux</a> <a id="6895" class="Symbol">:</a>
     <a id="6902" class="Symbol">(</a><a id="6903" href="verificationStackScripts.hoareTripleStackBasic.html#6903" class="Bound">φ</a> <a id="6905" href="verificationStackScripts.hoareTripleStackBasic.html#6905" class="Bound">ψ</a> <a id="6907" class="Symbol">:</a> <a id="6909" href="stackPredicate.html#897" class="Function">StackPredicate</a><a id="6923" class="Symbol">)</a>
     <a id="6930" class="Symbol">(</a><a id="6931" href="verificationStackScripts.hoareTripleStackBasic.html#6931" class="Bound">funRes</a> <a id="6938" class="Symbol">:</a> <a id="6940" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="6946" href="stack.html#690" class="Function">Stack</a><a id="6951" class="Symbol">)</a>
     <a id="6958" class="Symbol">(</a><a id="6959" href="verificationStackScripts.hoareTripleStackBasic.html#6959" class="Bound">currentTime₁</a> <a id="6972" class="Symbol">:</a> <a id="6974" href="basicBitcoinDataType.html#650" class="Function">Time</a><a id="6978" class="Symbol">)</a>
     <a id="6985" class="Symbol">(</a><a id="6986" href="verificationStackScripts.hoareTripleStackBasic.html#6986" class="Bound">msg₁</a> <a id="6991" class="Symbol">:</a> <a id="6993" href="basicBitcoinDataType.html#842" class="Datatype">Msg</a><a id="6996" class="Symbol">)</a>
     <a id="7003" class="Symbol">(</a><a id="7004" href="verificationStackScripts.hoareTripleStackBasic.html#7004" class="Bound">stack₁</a> <a id="7011" class="Symbol">:</a> <a id="7013" href="stack.html#690" class="Function">Stack</a><a id="7018" class="Symbol">)</a>
     <a id="7025" class="Symbol">(</a><a id="7026" href="verificationStackScripts.hoareTripleStackBasic.html#7026" class="Bound">p</a> <a id="7028" class="Symbol">:</a> <a id="7030" class="Symbol">((λ</a> <a id="7034" href="verificationStackScripts.hoareTripleStackBasic.html#7034" class="Bound">s</a> <a id="7036" class="Symbol">→</a> <a id="7038" href="verificationStackScripts.hoareTripleStackBasic.html#6905" class="Bound">ψ</a> <a id="7040" class="Symbol">(</a><a id="7041" class="Field">currentTime</a> <a id="7053" href="verificationStackScripts.hoareTripleStackBasic.html#7034" class="Bound">s</a><a id="7054" class="Symbol">)</a> <a id="7056" class="Symbol">(</a><a id="7057" class="Field">msg</a> <a id="7061" href="verificationStackScripts.hoareTripleStackBasic.html#7034" class="Bound">s</a><a id="7062" class="Symbol">)</a> <a id="7064" class="Symbol">(</a><a id="7065" href="verificationStackScripts.stackState.html#1120" class="Field">stack</a> <a id="7071" href="verificationStackScripts.hoareTripleStackBasic.html#7034" class="Bound">s</a><a id="7072" class="Symbol">)</a> <a id="7074" class="Symbol">)</a> <a id="7076" href="libraries.maybeLib.html#1221" class="Function Operator">⁺</a><a id="7077" class="Symbol">)</a>
            <a id="7091" class="Symbol">(</a><a id="7092" href="verificationStackScripts.stackState.html#1895" class="Function">exeTransformerDepIfStack&#39;</a>
             <a id="7131" class="Symbol">(</a><a id="7132" href="verificationStackScripts.stackState.html#1697" class="Function">liftStackToStateTransformerAux&#39;</a> <a id="7164" href="verificationStackScripts.hoareTripleStackBasic.html#6931" class="Bound">funRes</a><a id="7170" class="Symbol">)</a>
              <a id="7186" class="InductiveConstructor Operator">⟨</a> <a id="7188" href="verificationStackScripts.hoareTripleStackBasic.html#6959" class="Bound">currentTime₁</a> <a id="7201" class="InductiveConstructor Operator">,</a> <a id="7203" href="verificationStackScripts.hoareTripleStackBasic.html#6986" class="Bound">msg₁</a> <a id="7208" class="InductiveConstructor Operator">,</a> <a id="7210" href="verificationStackScripts.hoareTripleStackBasic.html#7004" class="Bound">stack₁</a>  <a id="7218" class="InductiveConstructor Operator">⟩</a><a id="7219" class="Symbol">))</a>
     <a id="7227" class="Symbol">(</a><a id="7228" href="verificationStackScripts.hoareTripleStackBasic.html#7228" class="Bound">q</a> <a id="7230" class="Symbol">:</a> <a id="7232" href="libraries.maybeLib.html#614" class="Function">liftPred2Maybe</a> <a id="7247" class="Symbol">(</a><a id="7248" href="verificationStackScripts.hoareTripleStackBasic.html#6905" class="Bound">ψ</a> <a id="7250" href="verificationStackScripts.hoareTripleStackBasic.html#6959" class="Bound">currentTime₁</a> <a id="7263" href="verificationStackScripts.hoareTripleStackBasic.html#6986" class="Bound">msg₁</a><a id="7267" class="Symbol">)</a> <a id="7269" href="verificationStackScripts.hoareTripleStackBasic.html#6931" class="Bound">funRes</a> <a id="7276" class="Symbol">→</a> <a id="7278" href="verificationStackScripts.hoareTripleStackBasic.html#6903" class="Bound">φ</a> <a id="7280" href="verificationStackScripts.hoareTripleStackBasic.html#6959" class="Bound">currentTime₁</a> <a id="7293" href="verificationStackScripts.hoareTripleStackBasic.html#6986" class="Bound">msg₁</a> <a id="7298" href="verificationStackScripts.hoareTripleStackBasic.html#7004" class="Bound">stack₁</a><a id="7304" class="Symbol">)</a>
     <a id="7311" class="Symbol">→</a> <a id="7313" href="verificationStackScripts.hoareTripleStackBasic.html#6903" class="Bound">φ</a> <a id="7315" href="verificationStackScripts.hoareTripleStackBasic.html#6959" class="Bound">currentTime₁</a> <a id="7328" href="verificationStackScripts.hoareTripleStackBasic.html#6986" class="Bound">msg₁</a> <a id="7333" href="verificationStackScripts.hoareTripleStackBasic.html#7004" class="Bound">stack₁</a>
<a id="7340" href="verificationStackScripts.hoareTripleStackBasic.html#6855" class="Function">lemmaLift2StateCorrectnessStackFun&lt;=aux</a> <a id="7380" href="verificationStackScripts.hoareTripleStackBasic.html#7380" class="Bound">φ</a> <a id="7382" href="verificationStackScripts.hoareTripleStackBasic.html#7382" class="Bound">ψ</a> <a id="7384" class="Symbol">(</a><a id="7385" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="7390" href="verificationStackScripts.hoareTripleStackBasic.html#7390" class="Bound">x</a><a id="7391" class="Symbol">)</a> <a id="7393" href="verificationStackScripts.hoareTripleStackBasic.html#7393" class="Bound">currentTime₁</a> <a id="7406" href="verificationStackScripts.hoareTripleStackBasic.html#7406" class="Bound">msg₁</a> <a id="7411" href="verificationStackScripts.hoareTripleStackBasic.html#7411" class="Bound">stack₁</a> <a id="7418" href="verificationStackScripts.hoareTripleStackBasic.html#7418" class="Bound">p</a> <a id="7420" href="verificationStackScripts.hoareTripleStackBasic.html#7420" class="Bound">q</a> <a id="7422" class="Symbol">=</a> <a id="7424" href="verificationStackScripts.hoareTripleStackBasic.html#7420" class="Bound">q</a> <a id="7426" href="verificationStackScripts.hoareTripleStackBasic.html#7418" class="Bound">p</a>


<a id="7430" class="Comment">-- Stack correctness implies correctness of the hoare triple</a>
<a id="7491" class="Comment">--   here direction &lt;=</a>
<a id="lift2StateCorrectnessStackFun&lt;="></a><a id="7514" href="verificationStackScripts.hoareTripleStackBasic.html#7514" class="Function">lift2StateCorrectnessStackFun&lt;=</a> <a id="7546" class="Symbol">:</a> <a id="7548" class="Symbol">(</a><a id="7549" href="verificationStackScripts.hoareTripleStackBasic.html#7549" class="Bound">φ</a> <a id="7551" href="verificationStackScripts.hoareTripleStackBasic.html#7551" class="Bound">ψ</a> <a id="7553" class="Symbol">:</a> <a id="7555" href="stackPredicate.html#897" class="Function">StackPredicate</a><a id="7569" class="Symbol">)</a>
                                  <a id="7605" class="Symbol">(</a><a id="7606" href="verificationStackScripts.hoareTripleStackBasic.html#7606" class="Bound">stackfun</a> <a id="7615" class="Symbol">:</a> <a id="7617" href="stack.html#1140" class="Function">StackTransformer</a><a id="7633" class="Symbol">)(</a><a id="7635" href="verificationStackScripts.hoareTripleStackBasic.html#7635" class="Bound">stackCorrectness</a> <a id="7652" class="Symbol">:</a> <a id="7654" class="Symbol">(</a><a id="7655" href="verificationStackScripts.hoareTripleStackBasic.html#7655" class="Bound">time</a> <a id="7660" class="Symbol">:</a> <a id="7662" href="basicBitcoinDataType.html#650" class="Function">Time</a><a id="7666" class="Symbol">)(</a><a id="7668" href="verificationStackScripts.hoareTripleStackBasic.html#7668" class="Bound">msg</a> <a id="7672" class="Symbol">:</a> <a id="7674" href="basicBitcoinDataType.html#842" class="Datatype">Msg</a><a id="7677" class="Symbol">)(</a><a id="7679" href="verificationStackScripts.hoareTripleStackBasic.html#7679" class="Bound">s</a> <a id="7681" class="Symbol">:</a> <a id="7683" href="stack.html#690" class="Function">Stack</a><a id="7688" class="Symbol">)</a>
                                  <a id="7724" class="Symbol">→</a> <a id="7726" href="libraries.maybeLib.html#614" class="Function">liftPred2Maybe</a> <a id="7741" class="Symbol">(</a><a id="7742" href="verificationStackScripts.hoareTripleStackBasic.html#7551" class="Bound">ψ</a> <a id="7744" href="verificationStackScripts.hoareTripleStackBasic.html#7655" class="Bound">time</a> <a id="7749" href="verificationStackScripts.hoareTripleStackBasic.html#7668" class="Bound">msg</a><a id="7752" class="Symbol">)</a> <a id="7754" class="Symbol">(</a><a id="7755" href="verificationStackScripts.hoareTripleStackBasic.html#7606" class="Bound">stackfun</a> <a id="7764" href="verificationStackScripts.hoareTripleStackBasic.html#7655" class="Bound">time</a> <a id="7769" href="verificationStackScripts.hoareTripleStackBasic.html#7668" class="Bound">msg</a> <a id="7773" href="verificationStackScripts.hoareTripleStackBasic.html#7679" class="Bound">s</a><a id="7774" class="Symbol">)</a> <a id="7776" class="Symbol">→</a> <a id="7778" href="verificationStackScripts.hoareTripleStackBasic.html#7549" class="Bound">φ</a> <a id="7780" href="verificationStackScripts.hoareTripleStackBasic.html#7655" class="Bound">time</a> <a id="7785" href="verificationStackScripts.hoareTripleStackBasic.html#7668" class="Bound">msg</a> <a id="7789" href="verificationStackScripts.hoareTripleStackBasic.html#7679" class="Bound">s</a><a id="7790" class="Symbol">)</a>
                                  <a id="7826" class="Symbol">(</a><a id="7827" href="verificationStackScripts.hoareTripleStackBasic.html#7827" class="Bound">s</a> <a id="7829" class="Symbol">:</a> <a id="7831" href="verificationStackScripts.stackState.html#919" class="Record">StackState</a><a id="7841" class="Symbol">)</a>
                                  <a id="7877" class="Symbol">→</a> <a id="7879" class="Symbol">((</a><a id="7881" href="verificationStackScripts.sPredicate.html#2316" class="Function">stackPred2SPred</a> <a id="7897" href="verificationStackScripts.hoareTripleStackBasic.html#7551" class="Bound">ψ</a><a id="7898" class="Symbol">)</a> <a id="7900" href="libraries.maybeLib.html#1221" class="Function Operator">⁺</a><a id="7901" class="Symbol">)</a>
                                                    <a id="7955" class="Symbol">(</a><a id="7956" href="verificationStackScripts.stackState.html#2054" class="Function">stackTransform2StackStateTransform</a> <a id="7991" href="verificationStackScripts.hoareTripleStackBasic.html#7606" class="Bound">stackfun</a> <a id="8000" href="verificationStackScripts.hoareTripleStackBasic.html#7827" class="Bound">s</a><a id="8001" class="Symbol">)</a>
                                  <a id="8037" class="Symbol">→</a> <a id="8039" href="verificationStackScripts.sPredicate.html#2316" class="Function">stackPred2SPred</a> <a id="8055" href="verificationStackScripts.hoareTripleStackBasic.html#7549" class="Bound">φ</a> <a id="8057" href="verificationStackScripts.hoareTripleStackBasic.html#7827" class="Bound">s</a>
<a id="8059" href="verificationStackScripts.hoareTripleStackBasic.html#7514" class="Function">lift2StateCorrectnessStackFun&lt;=</a>  <a id="8092" href="verificationStackScripts.hoareTripleStackBasic.html#8092" class="Bound">φ</a> <a id="8094" href="verificationStackScripts.hoareTripleStackBasic.html#8094" class="Bound">ψ</a> <a id="8096" href="verificationStackScripts.hoareTripleStackBasic.html#8096" class="Bound">stackfun</a> <a id="8105" href="verificationStackScripts.hoareTripleStackBasic.html#8105" class="Bound">stackCorrectness</a> <a id="8122" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">⟨</a> <a id="8124" href="verificationStackScripts.hoareTripleStackBasic.html#8124" class="Bound">currentTime₁</a> <a id="8137" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">,</a> <a id="8139" href="verificationStackScripts.hoareTripleStackBasic.html#8139" class="Bound">msg₁</a> <a id="8144" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">,</a> <a id="8146" href="verificationStackScripts.hoareTripleStackBasic.html#8146" class="Bound">stack₁</a>  <a id="8154" href="verificationStackScripts.stackState.html#963" class="InductiveConstructor Operator">⟩</a> <a id="8156" href="verificationStackScripts.hoareTripleStackBasic.html#8156" class="Bound">x</a>
              <a id="8172" class="Symbol">=</a> <a id="8174" href="verificationStackScripts.hoareTripleStackBasic.html#6855" class="Function">lemmaLift2StateCorrectnessStackFun&lt;=aux</a> <a id="8214" href="verificationStackScripts.hoareTripleStackBasic.html#8092" class="Bound">φ</a> <a id="8216" href="verificationStackScripts.hoareTripleStackBasic.html#8094" class="Bound">ψ</a> <a id="8218" class="Symbol">(</a><a id="8219" href="verificationStackScripts.hoareTripleStackBasic.html#8096" class="Bound">stackfun</a> <a id="8228" href="verificationStackScripts.hoareTripleStackBasic.html#8124" class="Bound">currentTime₁</a> <a id="8241" href="verificationStackScripts.hoareTripleStackBasic.html#8139" class="Bound">msg₁</a>  <a id="8247" href="verificationStackScripts.hoareTripleStackBasic.html#8146" class="Bound">stack₁</a><a id="8253" class="Symbol">)</a>
                    <a id="8275" href="verificationStackScripts.hoareTripleStackBasic.html#8124" class="Bound">currentTime₁</a> <a id="8288" href="verificationStackScripts.hoareTripleStackBasic.html#8139" class="Bound">msg₁</a> <a id="8293" href="verificationStackScripts.hoareTripleStackBasic.html#8146" class="Bound">stack₁</a> <a id="8300" href="verificationStackScripts.hoareTripleStackBasic.html#8156" class="Bound">x</a>  <a id="8303" class="Symbol">(</a><a id="8304" href="verificationStackScripts.hoareTripleStackBasic.html#8105" class="Bound">stackCorrectness</a> <a id="8321" href="verificationStackScripts.hoareTripleStackBasic.html#8124" class="Bound">currentTime₁</a> <a id="8334" href="verificationStackScripts.hoareTripleStackBasic.html#8139" class="Bound">msg₁</a> <a id="8339" href="verificationStackScripts.hoareTripleStackBasic.html#8146" class="Bound">stack₁</a><a id="8345" class="Symbol">)</a>



<a id="8350" class="Comment">-- Correctness of the stack function implies correctness of the Hoare triple</a>
<a id="8427" class="Comment">--    here generic</a>

<a id="lemmaHoareTripleStackPartToHoareTripleGeneric"></a><a id="8447" href="verificationStackScripts.hoareTripleStackBasic.html#8447" class="Function">lemmaHoareTripleStackPartToHoareTripleGeneric</a> <a id="8493" class="Symbol">:</a>
     <a id="8500" class="Symbol">(</a><a id="8501" href="verificationStackScripts.hoareTripleStackBasic.html#8501" class="Bound">stackfun</a> <a id="8510" class="Symbol">:</a> <a id="8512" href="stack.html#1140" class="Function">StackTransformer</a><a id="8528" class="Symbol">)</a>
     <a id="8535" class="Symbol">(</a><a id="8536" href="verificationStackScripts.hoareTripleStackBasic.html#8536" class="Bound">φ</a> <a id="8538" href="verificationStackScripts.hoareTripleStackBasic.html#8538" class="Bound">ψ</a> <a id="8540" class="Symbol">:</a> <a id="8542" href="stackPredicate.html#897" class="Function">StackPredicate</a><a id="8556" class="Symbol">)</a>
     <a id="8563" class="Symbol">→</a> <a id="8565" href="hoareTripleStack.html#1342" class="Record Operator">&lt;</a> <a id="8567" href="verificationStackScripts.hoareTripleStackBasic.html#8536" class="Bound">φ</a> <a id="8569" href="hoareTripleStack.html#1342" class="Record Operator">&gt;gˢ</a> <a id="8573" href="verificationStackScripts.hoareTripleStackBasic.html#8501" class="Bound">stackfun</a>  <a id="8583" href="hoareTripleStack.html#1342" class="Record Operator">&lt;</a> <a id="8585" href="verificationStackScripts.hoareTripleStackBasic.html#8538" class="Bound">ψ</a> <a id="8587" href="hoareTripleStack.html#1342" class="Record Operator">&gt;</a>
     <a id="8594" class="Symbol">→</a> <a id="8596" href="verificationStackScripts.stackHoareTriple.html#8158" class="Record Operator">&lt;</a> <a id="8598" href="verificationStackScripts.sPredicate.html#2316" class="Function">stackPred2SPred</a> <a id="8614" href="verificationStackScripts.hoareTripleStackBasic.html#8536" class="Bound">φ</a> <a id="8616" href="verificationStackScripts.stackHoareTriple.html#8158" class="Record Operator">&gt;ssgen</a>
        <a id="8631" href="verificationStackScripts.stackState.html#2054" class="Function">stackTransform2StackStateTransform</a>  <a id="8667" href="verificationStackScripts.hoareTripleStackBasic.html#8501" class="Bound">stackfun</a>
        <a id="8684" href="verificationStackScripts.stackHoareTriple.html#8158" class="Record Operator">&lt;</a> <a id="8686" href="verificationStackScripts.sPredicate.html#2316" class="Function">stackPred2SPred</a> <a id="8702" href="verificationStackScripts.hoareTripleStackBasic.html#8538" class="Bound">ψ</a> <a id="8704" href="verificationStackScripts.stackHoareTriple.html#8158" class="Record Operator">&gt;</a>
<a id="8706" href="verificationStackScripts.hoareTripleStackBasic.html#8447" class="Function">lemmaHoareTripleStackPartToHoareTripleGeneric</a> <a id="8752" href="verificationStackScripts.hoareTripleStackBasic.html#8752" class="Bound">stackfun</a>  <a id="8762" href="verificationStackScripts.hoareTripleStackBasic.html#8762" class="Bound">φ</a> <a id="8764" href="verificationStackScripts.hoareTripleStackBasic.html#8764" class="Bound">ψ</a>
    <a id="8770" class="Symbol">(</a><a id="8771" href="hoareTripleStack.html#1473" class="InductiveConstructor">hoareTripleStackGen</a> <a id="8791" href="verificationStackScripts.hoareTripleStackBasic.html#8791" class="Bound">==&gt;stg₁</a> <a id="8799" href="verificationStackScripts.hoareTripleStackBasic.html#8799" class="Bound">&lt;==stg₁</a><a id="8806" class="Symbol">)</a> <a id="8808" class="Symbol">.</a><a id="8809" href="verificationStackScripts.stackHoareTriple.html#8302" class="Field">==&gt;g</a> <a id="8814" href="verificationStackScripts.hoareTripleStackBasic.html#8814" class="Bound">s</a> <a id="8816" href="verificationStackScripts.hoareTripleStackBasic.html#8816" class="Bound">p</a>
     <a id="8823" class="Symbol">=</a> <a id="8825" href="verificationStackScripts.hoareTripleStackBasic.html#5999" class="Function">lift2StateCorrectnessStackFun=&gt;</a> <a id="8857" href="verificationStackScripts.hoareTripleStackBasic.html#8762" class="Bound">φ</a>  <a id="8860" href="verificationStackScripts.hoareTripleStackBasic.html#8764" class="Bound">ψ</a>  <a id="8863" href="verificationStackScripts.hoareTripleStackBasic.html#8752" class="Bound">stackfun</a> <a id="8872" href="verificationStackScripts.hoareTripleStackBasic.html#8791" class="Bound">==&gt;stg₁</a> <a id="8880" href="verificationStackScripts.hoareTripleStackBasic.html#8814" class="Bound">s</a> <a id="8882" href="verificationStackScripts.hoareTripleStackBasic.html#8816" class="Bound">p</a>
<a id="8884" href="verificationStackScripts.hoareTripleStackBasic.html#8447" class="Function">lemmaHoareTripleStackPartToHoareTripleGeneric</a> <a id="8930" href="verificationStackScripts.hoareTripleStackBasic.html#8930" class="Bound">stackfun</a>  <a id="8940" href="verificationStackScripts.hoareTripleStackBasic.html#8940" class="Bound">φ</a> <a id="8942" href="verificationStackScripts.hoareTripleStackBasic.html#8942" class="Bound">ψ</a>
    <a id="8948" class="Symbol">(</a><a id="8949" href="hoareTripleStack.html#1473" class="InductiveConstructor">hoareTripleStackGen</a> <a id="8969" href="verificationStackScripts.hoareTripleStackBasic.html#8969" class="Bound">==&gt;stg₁</a> <a id="8977" href="verificationStackScripts.hoareTripleStackBasic.html#8977" class="Bound">&lt;==stg₁</a><a id="8984" class="Symbol">)</a> <a id="8986" class="Symbol">.</a><a id="8987" href="verificationStackScripts.stackHoareTriple.html#8351" class="Field">&lt;==g</a> <a id="8992" href="verificationStackScripts.hoareTripleStackBasic.html#8992" class="Bound">s</a> <a id="8994" href="verificationStackScripts.hoareTripleStackBasic.html#8994" class="Bound">p</a>
     <a id="9001" class="Symbol">=</a> <a id="9003" href="verificationStackScripts.hoareTripleStackBasic.html#7514" class="Function">lift2StateCorrectnessStackFun&lt;=</a> <a id="9035" href="verificationStackScripts.hoareTripleStackBasic.html#8940" class="Bound">φ</a>  <a id="9038" href="verificationStackScripts.hoareTripleStackBasic.html#8942" class="Bound">ψ</a>  <a id="9041" href="verificationStackScripts.hoareTripleStackBasic.html#8930" class="Bound">stackfun</a> <a id="9050" href="verificationStackScripts.hoareTripleStackBasic.html#8977" class="Bound">&lt;==stg₁</a> <a id="9058" href="verificationStackScripts.hoareTripleStackBasic.html#8992" class="Bound">s</a> <a id="9060" href="verificationStackScripts.hoareTripleStackBasic.html#8994" class="Bound">p</a>



<a id="9065" class="Comment">-- Hoare triple correctness of the stack function of an instruction</a>
<a id="9133" class="Comment">-- implies correctness of the Hoare triple for that instruction</a>

<a id="hoartTripleStackPartImpliesHoareTriple"></a><a id="9198" href="verificationStackScripts.hoareTripleStackBasic.html#9198" class="Function">hoartTripleStackPartImpliesHoareTriple</a> <a id="9237" class="Symbol">:</a>
     <a id="9244" class="Symbol">(</a><a id="9245" href="verificationStackScripts.hoareTripleStackBasic.html#9245" class="Bound">op</a> <a id="9248" class="Symbol">:</a> <a id="9250" href="instructionBasic.html#733" class="Datatype">InstructionBasic</a><a id="9266" class="Symbol">)</a>
     <a id="9273" class="Symbol">(</a><a id="9274" href="verificationStackScripts.hoareTripleStackBasic.html#9274" class="Bound">φ</a> <a id="9276" href="verificationStackScripts.hoareTripleStackBasic.html#9276" class="Bound">ψ</a> <a id="9278" class="Symbol">:</a> <a id="9280" href="stackPredicate.html#897" class="Function">StackPredicate</a><a id="9294" class="Symbol">)</a>
     <a id="9301" class="Symbol">→</a> <a id="9303" href="verificationStackScripts.hoareTripleStackBasic.html#1781" class="Function Operator">&lt;</a> <a id="9305" href="verificationStackScripts.hoareTripleStackBasic.html#9274" class="Bound">φ</a> <a id="9307" href="verificationStackScripts.hoareTripleStackBasic.html#1781" class="Function Operator">&gt;stackb</a> <a id="9315" href="Data.List.Base.html#5244" class="Function Operator">[</a> <a id="9317" href="verificationStackScripts.hoareTripleStackBasic.html#9245" class="Bound">op</a> <a id="9320" href="Data.List.Base.html#5244" class="Function Operator">]</a> <a id="9322" href="verificationStackScripts.hoareTripleStackBasic.html#1781" class="Function Operator">&lt;</a> <a id="9324" href="verificationStackScripts.hoareTripleStackBasic.html#9276" class="Bound">ψ</a> <a id="9326" href="verificationStackScripts.hoareTripleStackBasic.html#1781" class="Function Operator">&gt;</a>
     <a id="9333" class="Symbol">→</a> <a id="9335" href="verificationStackScripts.stackHoareTriple.html#1577" class="Record Operator">&lt;</a> <a id="9337" href="verificationStackScripts.sPredicate.html#2316" class="Function">stackPred2SPred</a> <a id="9353" href="verificationStackScripts.hoareTripleStackBasic.html#9274" class="Bound">φ</a>   <a id="9357" href="verificationStackScripts.stackHoareTriple.html#1577" class="Record Operator">&gt;ⁱᶠᶠ</a> <a id="9362" href="Data.List.Base.html#5244" class="Function Operator">[</a> <a id="9364" href="verificationStackScripts.hoareTripleStackBasic.html#9245" class="Bound">op</a> <a id="9367" href="Data.List.Base.html#5244" class="Function Operator">]</a>  <a id="9370" href="verificationStackScripts.stackHoareTriple.html#1577" class="Record Operator">&lt;</a>  <a id="9373" href="verificationStackScripts.sPredicate.html#2316" class="Function">stackPred2SPred</a> <a id="9389" href="verificationStackScripts.hoareTripleStackBasic.html#9276" class="Bound">ψ</a>  <a id="9392" href="verificationStackScripts.stackHoareTriple.html#1577" class="Record Operator">&gt;</a>

<a id="9395" href="verificationStackScripts.hoareTripleStackBasic.html#9198" class="Function">hoartTripleStackPartImpliesHoareTriple</a> <a id="9434" href="verificationStackScripts.hoareTripleStackBasic.html#9434" class="Bound">op</a> <a id="9437" href="verificationStackScripts.hoareTripleStackBasic.html#9437" class="Bound">φ</a> <a id="9439" href="verificationStackScripts.hoareTripleStackBasic.html#9439" class="Bound">ψ</a> <a id="9441" href="verificationStackScripts.hoareTripleStackBasic.html#9441" class="Bound">x</a>
   <a id="9446" class="Symbol">=</a> <a id="9448" href="verificationStackScripts.hoareTripleStackBasic.html#2681" class="Function">lemmaGenericHoareTripleImpliesHoareTriple</a> <a id="9490" href="verificationStackScripts.hoareTripleStackBasic.html#9434" class="Bound">op</a>
      <a id="9499" class="Symbol">(</a><a id="9500" href="verificationStackScripts.sPredicate.html#2316" class="Function">stackPred2SPred</a> <a id="9516" href="verificationStackScripts.hoareTripleStackBasic.html#9437" class="Bound">φ</a><a id="9517" class="Symbol">)</a>
      <a id="9525" class="Symbol">(</a><a id="9526" href="verificationStackScripts.sPredicate.html#2316" class="Function">stackPred2SPred</a> <a id="9542" href="verificationStackScripts.hoareTripleStackBasic.html#9439" class="Bound">ψ</a><a id="9543" class="Symbol">)</a>
      <a id="9551" class="Symbol">(</a><a id="9552" href="verificationStackScripts.hoareTripleStackBasic.html#3689" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="9595" href="verificationStackScripts.hoareTripleStackBasic.html#9434" class="Bound">op</a>
         <a id="9607" class="Symbol">(</a><a id="9608" href="verificationStackScripts.sPredicate.html#2316" class="Function">stackPred2SPred</a> <a id="9624" href="verificationStackScripts.hoareTripleStackBasic.html#9437" class="Bound">φ</a><a id="9625" class="Symbol">)</a>
        <a id="9635" class="Symbol">(</a><a id="9636" href="verificationStackScripts.sPredicate.html#2316" class="Function">stackPred2SPred</a> <a id="9652" href="verificationStackScripts.hoareTripleStackBasic.html#9439" class="Bound">ψ</a><a id="9653" class="Symbol">)</a>
        <a id="9663" class="Symbol">(</a><a id="9664" href="verificationStackScripts.hoareTripleStackBasic.html#8447" class="Function">lemmaHoareTripleStackPartToHoareTripleGeneric</a>
           <a id="9721" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1838" class="Function Operator">⟦</a> <a id="9723" href="Data.List.Base.html#5244" class="Function Operator">[</a> <a id="9725" href="verificationStackScripts.hoareTripleStackBasic.html#9434" class="Bound">op</a> <a id="9728" href="Data.List.Base.html#5244" class="Function Operator">]</a> <a id="9730" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1838" class="Function Operator">⟧ˢ</a>  <a id="9734" href="verificationStackScripts.hoareTripleStackBasic.html#9437" class="Bound">φ</a> <a id="9736" href="verificationStackScripts.hoareTripleStackBasic.html#9439" class="Bound">ψ</a> <a id="9738" href="verificationStackScripts.hoareTripleStackBasic.html#9441" class="Bound">x</a><a id="9739" class="Symbol">))</a>
</pre></body></html>