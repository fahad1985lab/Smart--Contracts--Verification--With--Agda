<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>verificationStackScripts.hoareTripleStackBasic</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="basicBitcoinDataType.html" class="Module">basicBitcoinDataType</a> 

<a id="36" class="Keyword">module</a> <a id="43" href="verificationStackScripts.hoareTripleStackBasic.html" class="Module">verificationStackScripts.hoareTripleStackBasic</a> <a id="90" class="Symbol">(</a><a id="91" href="verificationStackScripts.hoareTripleStackBasic.html#91" class="Bound">param</a> <a id="97" class="Symbol">:</a> <a id="99" href="basicBitcoinDataType.html#1548" class="Record">GlobalParameters</a><a id="115" class="Symbol">)</a> <a id="117" class="Keyword">where</a>

<a id="124" class="Keyword">open</a> <a id="129" class="Keyword">import</a> <a id="136" href="Data.Nat.html" class="Module">Data.Nat</a>  <a id="146" class="Keyword">renaming</a> <a id="155" class="Symbol">(</a><a id="156" href="Data.Nat.Base.html#1535" class="Datatype Operator">_≤_</a> <a id="160" class="Symbol">to</a> <a id="163" class="Datatype Operator">_≤&#39;_</a> <a id="168" class="Symbol">;</a> <a id="170" href="Data.Nat.Base.html#1645" class="Function Operator">_&lt;_</a> <a id="174" class="Symbol">to</a> <a id="177" class="Function Operator">_&lt;&#39;_</a><a id="181" class="Symbol">)</a>
<a id="183" class="Keyword">open</a> <a id="188" class="Keyword">import</a> <a id="195" href="Data.List.html" class="Module">Data.List</a> <a id="205" class="Keyword">hiding</a> <a id="212" class="Symbol">(</a><a id="213" href="Data.List.Base.html#1810" class="Function Operator">_++_</a><a id="217" class="Symbol">)</a>
<a id="219" class="Keyword">open</a> <a id="224" class="Keyword">import</a> <a id="231" href="Data.Sum.html" class="Module">Data.Sum</a>
<a id="240" class="Keyword">open</a> <a id="245" class="Keyword">import</a> <a id="252" href="Data.Maybe.html" class="Module">Data.Maybe</a>
<a id="263" class="Keyword">open</a> <a id="268" class="Keyword">import</a> <a id="275" href="Data.Unit.html" class="Module">Data.Unit</a>  <a id="286" class="Keyword">hiding</a> <a id="293" class="Symbol">(</a><a id="294" href="Data.Unit.Base.html#1023" class="Record Operator">_≤_</a><a id="297" class="Symbol">)</a>
<a id="299" class="Keyword">open</a> <a id="304" class="Keyword">import</a> <a id="311" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="322" class="Keyword">open</a> <a id="327" class="Keyword">import</a> <a id="334" href="Data.Bool.html" class="Module">Data.Bool</a>  <a id="345" class="Keyword">hiding</a> <a id="352" class="Symbol">(</a><a id="353" href="Data.Bool.Base.html#672" class="Datatype Operator">_≤_</a> <a id="357" class="Symbol">;</a> <a id="359" href="Data.Bool.Base.html#1283" class="Function Operator">if_then_else_</a> <a id="373" class="Symbol">)</a> <a id="375" class="Keyword">renaming</a> <a id="384" class="Symbol">(</a><a id="385" href="Data.Bool.Base.html#986" class="Function Operator">_∧_</a> <a id="389" class="Symbol">to</a> <a id="392" class="Function Operator">_∧b_</a> <a id="397" class="Symbol">;</a> <a id="399" href="Data.Bool.Base.html#1044" class="Function Operator">_∨_</a> <a id="403" class="Symbol">to</a> <a id="406" class="Function Operator">_∨b_</a> <a id="411" class="Symbol">;</a> <a id="413" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="415" class="Symbol">to</a> <a id="418" class="Function">True</a><a id="422" class="Symbol">)</a>
<a id="424" class="Keyword">open</a> <a id="429" class="Keyword">import</a> <a id="436" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="451" class="Keyword">hiding</a> <a id="458" class="Symbol">(</a><a id="459" href="Data.Bool.Base.html#672" class="Datatype Operator">_≤_</a> <a id="463" class="Symbol">;</a> <a id="465" href="Data.Bool.Base.html#1283" class="Function Operator">if_then_else_</a> <a id="479" class="Symbol">)</a> <a id="481" class="Keyword">renaming</a> <a id="490" class="Symbol">(</a><a id="491" href="Data.Bool.Base.html#986" class="Function Operator">_∧_</a> <a id="495" class="Symbol">to</a> <a id="498" class="Function Operator">_∧b_</a> <a id="503" class="Symbol">;</a> <a id="505" href="Data.Bool.Base.html#1044" class="Function Operator">_∨_</a> <a id="509" class="Symbol">to</a> <a id="512" class="Function Operator">_∨b_</a> <a id="517" class="Symbol">;</a> <a id="519" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="521" class="Symbol">to</a> <a id="524" class="Function">True</a><a id="528" class="Symbol">)</a>
<a id="530" class="Keyword">open</a> <a id="535" class="Keyword">import</a> <a id="542" href="Data.Product.html" class="Module">Data.Product</a> <a id="555" class="Keyword">renaming</a> <a id="564" class="Symbol">(</a><a id="565" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="569" class="Symbol">to</a> <a id="572" class="InductiveConstructor Operator">_,,_</a> <a id="577" class="Symbol">)</a>
<a id="579" class="Keyword">open</a> <a id="584" class="Keyword">import</a> <a id="591" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="605" class="Keyword">hiding</a> <a id="612" class="Symbol">(</a><a id="613" href="Data.Nat.Base.html#1535" class="Datatype Operator">_≤_</a><a id="616" class="Symbol">)</a>
<a id="618" class="Keyword">import</a> <a id="625" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="663" class="Symbol">as</a> <a id="666" class="Module">Eq</a>
<a id="669" class="Keyword">open</a> <a id="674" href="Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="677" class="Keyword">using</a> <a id="683" class="Symbol">(</a><a id="684" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="687" class="Symbol">;</a> <a id="689" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="693" class="Symbol">;</a> <a id="695" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a><a id="699" class="Symbol">;</a> <a id="701" class="Keyword">module</a> <a id="708" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a><a id="719" class="Symbol">;</a> <a id="721" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a><a id="724" class="Symbol">)</a>
<a id="726" class="Keyword">open</a> <a id="731" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a>
<a id="743" class="Keyword">open</a> <a id="748" class="Keyword">import</a> <a id="755" href="Agda.Builtin.Equality.html" class="Module">Agda.Builtin.Equality</a>


<a id="779" class="Comment">-- our libraries</a>
<a id="796" class="Keyword">open</a> <a id="801" class="Keyword">import</a> <a id="808" href="libraries.listLib.html" class="Module">libraries.listLib</a>
<a id="826" class="Keyword">open</a> <a id="831" class="Keyword">import</a> <a id="838" href="libraries.natLib.html" class="Module">libraries.natLib</a>
<a id="855" class="Keyword">open</a> <a id="860" class="Keyword">import</a> <a id="867" href="libraries.boolLib.html" class="Module">libraries.boolLib</a>
<a id="885" class="Keyword">open</a> <a id="890" class="Keyword">import</a> <a id="897" href="libraries.andLib.html" class="Module">libraries.andLib</a>
<a id="914" class="Keyword">open</a> <a id="919" class="Keyword">import</a> <a id="926" href="libraries.miscLib.html" class="Module">libraries.miscLib</a>
<a id="944" class="Keyword">open</a> <a id="949" class="Keyword">import</a> <a id="956" href="libraries.maybeLib.html" class="Module">libraries.maybeLib</a>
<a id="975" class="Keyword">open</a> <a id="980" class="Keyword">import</a> <a id="987" href="libraries.emptyLib.html" class="Module">libraries.emptyLib</a>


<a id="1008" class="Keyword">open</a> <a id="1013" class="Keyword">import</a> <a id="1020" href="stack.html" class="Module">stack</a>
<a id="1026" class="Keyword">open</a> <a id="1031" class="Keyword">import</a> <a id="1038" href="stackPredicate.html" class="Module">stackPredicate</a>
<a id="1053" class="Keyword">open</a> <a id="1058" class="Keyword">import</a> <a id="1065" href="instructionBasic.html" class="Module">instructionBasic</a>
<a id="1082" class="Keyword">open</a> <a id="1087" class="Keyword">import</a> <a id="1094" href="hoareTripleStack.html" class="Module">hoareTripleStack</a> <a id="1111" href="verificationStackScripts.hoareTripleStackBasic.html#91" class="Bound">param</a>
<a id="1117" class="Keyword">open</a> <a id="1122" class="Keyword">import</a> <a id="1129" href="verificationStackScripts.stackState.html" class="Module">verificationStackScripts.stackState</a>
<a id="1165" class="Keyword">open</a> <a id="1170" class="Keyword">import</a> <a id="1177" href="verificationStackScripts.sPredicate.html" class="Module">verificationStackScripts.sPredicate</a>
<a id="1213" class="Keyword">open</a> <a id="1218" class="Keyword">import</a> <a id="1225" href="verificationStackScripts.semanticsStackInstructions.html" class="Module">verificationStackScripts.semanticsStackInstructions</a> <a id="1277" href="verificationStackScripts.hoareTripleStackBasic.html#91" class="Bound">param</a>
<a id="1283" class="Keyword">open</a> <a id="1288" class="Keyword">import</a> <a id="1295" href="verificationStackScripts.stackSemanticsInstructionsBasic.html" class="Module">verificationStackScripts.stackSemanticsInstructionsBasic</a> <a id="1352" href="verificationStackScripts.hoareTripleStackBasic.html#91" class="Bound">param</a>
<a id="1358" class="Keyword">open</a> <a id="1363" class="Keyword">import</a> <a id="1370" href="verificationStackScripts.stackVerificationLemmas.html" class="Module">verificationStackScripts.stackVerificationLemmas</a> <a id="1419" href="verificationStackScripts.hoareTripleStackBasic.html#91" class="Bound">param</a>
<a id="1425" class="Keyword">open</a> <a id="1430" class="Keyword">import</a> <a id="1437" href="verificationStackScripts.stackHoareTriple.html" class="Module">verificationStackScripts.stackHoareTriple</a> <a id="1479" href="verificationStackScripts.hoareTripleStackBasic.html#91" class="Bound">param</a>


<a id="1487" class="Comment">--------------------------------------------------------------------------</a>
<a id="1562" class="Comment">--   defines hoare triples for stack functions</a>
<a id="1609" class="Comment">--   and that their correspondence to the full hoare triples for nonif instructions</a>
<a id="1693" class="Comment">---------------------------------------------------------------------------------------</a>



<a id="1784" class="Comment">-- Defines the condition for the stackfunction of an instruction</a>
<a id="1849" class="Comment">--   for the hoare truple based on φ ψ only to be correct</a>
<a id="1907" class="Comment">--</a>
<a id="1910" class="Comment">-- here we have a generic version which doesn&#39;t refer to an instruction</a>
<a id="1982" class="Comment">--  but just its stack partx</a>
<a id="2011" class="Comment">--</a>
<a id="2014" class="Comment">-- we later show that this implies the correctness of a</a>
<a id="2070" class="Comment">--  Hoare triple for that instruction</a>
<a id="2108" class="Comment">--  provided we have a non-if instruction</a>

<a id="2151" class="Comment">{-
record HoareTripleStackGen (φ : StackPredicate) (stackfun : StackTransformer)
                       (ψ : StackPredicate) : Set where
  constructor hoareTripleStackGen -- corrStackPartGeneric
  field
    ==&gt;stg : (time : Time)(msg : Msg)(s : Stack)
            → φ time msg s
            → liftPred2Maybe (ψ  time msg) (stackfun time msg s)
    &lt;==stg : (time : Time)(msg : Msg)(s : Stack)
            → liftPred2Maybe (ψ  time msg) (stackfun time msg s)
            → φ time msg s
open HoareTripleStackGen public
-}</a>

<a id="2672" class="Comment">-- Hoare triple  with stack instructions</a>
<a id="&lt;_&gt;stackb_&lt;_&gt;"></a><a id="2713" href="verificationStackScripts.hoareTripleStackBasic.html#2713" class="Function Operator">&lt;_&gt;stackb_&lt;_&gt;</a> <a id="2727" class="Symbol">:</a> <a id="2729" href="stackPredicate.html#939" class="Function">StackPredicate</a> <a id="2744" class="Symbol">→</a> <a id="2746" href="instructionBasic.html#1072" class="Function">BitcoinScriptBasic</a> <a id="2765" class="Symbol">→</a> <a id="2767" href="stackPredicate.html#939" class="Function">StackPredicate</a> <a id="2782" class="Symbol">→</a> <a id="2784" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="2788" href="verificationStackScripts.hoareTripleStackBasic.html#2713" class="Function Operator">&lt;</a> <a id="2790" href="verificationStackScripts.hoareTripleStackBasic.html#2790" class="Bound">φ</a> <a id="2792" href="verificationStackScripts.hoareTripleStackBasic.html#2713" class="Function Operator">&gt;stackb</a> <a id="2800" href="verificationStackScripts.hoareTripleStackBasic.html#2800" class="Bound">prog</a> <a id="2805" href="verificationStackScripts.hoareTripleStackBasic.html#2713" class="Function Operator">&lt;</a> <a id="2807" href="verificationStackScripts.hoareTripleStackBasic.html#2807" class="Bound">ψ</a> <a id="2809" href="verificationStackScripts.hoareTripleStackBasic.html#2713" class="Function Operator">&gt;</a> <a id="2811" class="Symbol">=</a> <a id="2813" href="hoareTripleStack.html#1867" class="Record Operator">&lt;</a> <a id="2815" href="verificationStackScripts.hoareTripleStackBasic.html#2790" class="Bound">φ</a> <a id="2817" href="hoareTripleStack.html#1867" class="Record Operator">&gt;gˢ</a> <a id="2821" class="Symbol">(</a><a id="2822" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟦</a> <a id="2824" href="verificationStackScripts.hoareTripleStackBasic.html#2800" class="Bound">prog</a>  <a id="2830" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟧ˢ</a> <a id="2833" class="Symbol">)</a> <a id="2835" href="hoareTripleStack.html#1867" class="Record Operator">&lt;</a> <a id="2837" href="verificationStackScripts.hoareTripleStackBasic.html#2807" class="Bound">ψ</a> <a id="2839" href="hoareTripleStack.html#1867" class="Record Operator">&gt;</a>




<a id="2845" class="Comment">-- Proof that the generic Hoare triple implies the standard one for an instruction</a>
<a id="lemmaGenericHoareTripleImpliesHoareTriple"></a><a id="2928" href="verificationStackScripts.hoareTripleStackBasic.html#2928" class="Function">lemmaGenericHoareTripleImpliesHoareTriple</a> <a id="2970" class="Symbol">:</a> <a id="2972" class="Symbol">(</a><a id="2973" href="verificationStackScripts.hoareTripleStackBasic.html#2973" class="Bound">instr</a> <a id="2979" class="Symbol">:</a> <a id="2981" href="instructionBasic.html#775" class="Datatype">InstructionBasic</a><a id="2997" class="Symbol">)</a>
                                            <a id="3043" class="Symbol">(</a><a id="3044" href="verificationStackScripts.hoareTripleStackBasic.html#3044" class="Bound">φ</a> <a id="3046" href="verificationStackScripts.hoareTripleStackBasic.html#3046" class="Bound">ψ</a> <a id="3048" class="Symbol">:</a> <a id="3050" href="verificationStackScripts.sPredicate.html#1290" class="Function">StackStatePred</a><a id="3064" class="Symbol">)</a>
                                            <a id="3110" class="Symbol">→</a> <a id="3112" href="verificationStackScripts.stackHoareTriple.html#8200" class="Record Operator">&lt;</a> <a id="3114" href="verificationStackScripts.hoareTripleStackBasic.html#3044" class="Bound">φ</a> <a id="3116" href="verificationStackScripts.stackHoareTriple.html#8200" class="Record Operator">&gt;ssgen</a> <a id="3123" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟦</a> <a id="3125" href="verificationStackScripts.hoareTripleStackBasic.html#2973" class="Bound">instr</a> <a id="3131" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟧s</a>  <a id="3135" href="verificationStackScripts.stackHoareTriple.html#8200" class="Record Operator">&lt;</a> <a id="3137" href="verificationStackScripts.hoareTripleStackBasic.html#3046" class="Bound">ψ</a> <a id="3139" href="verificationStackScripts.stackHoareTriple.html#8200" class="Record Operator">&gt;</a>
                                            <a id="3185" class="Symbol">→</a> <a id="3187" href="verificationStackScripts.stackHoareTriple.html#1619" class="Record Operator">&lt;</a> <a id="3189" href="verificationStackScripts.hoareTripleStackBasic.html#3044" class="Bound">φ</a> <a id="3191" href="verificationStackScripts.stackHoareTriple.html#1619" class="Record Operator">&gt;iff</a> <a id="3196" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="3198" href="verificationStackScripts.hoareTripleStackBasic.html#2973" class="Bound">instr</a> <a id="3204" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="3206" href="verificationStackScripts.stackHoareTriple.html#1619" class="Record Operator">&lt;</a> <a id="3208" href="verificationStackScripts.hoareTripleStackBasic.html#3046" class="Bound">ψ</a> <a id="3210" href="verificationStackScripts.stackHoareTriple.html#1619" class="Record Operator">&gt;</a>
<a id="3212" href="verificationStackScripts.hoareTripleStackBasic.html#2928" class="Function">lemmaGenericHoareTripleImpliesHoareTriple</a> <a id="3254" href="verificationStackScripts.hoareTripleStackBasic.html#3254" class="Bound">instr</a> <a id="3260" href="verificationStackScripts.hoareTripleStackBasic.html#3260" class="Bound">φ</a> <a id="3262" href="verificationStackScripts.hoareTripleStackBasic.html#3262" class="Bound">ψ</a> <a id="3264" href="verificationStackScripts.hoareTripleStackBasic.html#3264" class="Bound">prog</a> <a id="3269" class="Symbol">.</a><a id="3270" href="verificationStackScripts.stackHoareTriple.html#1741" class="Field">==&gt;</a> <a id="3274" class="Symbol">=</a> <a id="3276" href="verificationStackScripts.hoareTripleStackBasic.html#3264" class="Bound">prog</a> <a id="3281" class="Symbol">.</a><a id="3282" href="verificationStackScripts.stackHoareTriple.html#8344" class="Field">==&gt;g</a>
<a id="3287" href="verificationStackScripts.hoareTripleStackBasic.html#2928" class="Function">lemmaGenericHoareTripleImpliesHoareTriple</a> <a id="3329" href="verificationStackScripts.hoareTripleStackBasic.html#3329" class="Bound">instr</a> <a id="3335" href="verificationStackScripts.hoareTripleStackBasic.html#3335" class="Bound">φ</a> <a id="3337" href="verificationStackScripts.hoareTripleStackBasic.html#3337" class="Bound">ψ</a> <a id="3339" href="verificationStackScripts.hoareTripleStackBasic.html#3339" class="Bound">prog</a> <a id="3344" class="Symbol">.</a><a id="3345" href="verificationStackScripts.stackHoareTriple.html#1793" class="Field">&lt;==</a> <a id="3349" class="Symbol">=</a> <a id="3351" href="verificationStackScripts.hoareTripleStackBasic.html#3339" class="Bound">prog</a> <a id="3356" class="Symbol">.</a><a id="3357" href="verificationStackScripts.stackHoareTriple.html#8393" class="Field">&lt;==g</a>


<a id="lemmaGenericHoareTripleImpliesHoareTriple&#39;&#39;"></a><a id="3364" href="verificationStackScripts.hoareTripleStackBasic.html#3364" class="Function">lemmaGenericHoareTripleImpliesHoareTriple&#39;&#39;</a> <a id="3408" class="Symbol">:</a> <a id="3410" class="Symbol">(</a><a id="3411" href="verificationStackScripts.hoareTripleStackBasic.html#3411" class="Bound">prog</a> <a id="3416" class="Symbol">:</a> <a id="3418" href="instructionBasic.html#1072" class="Function">BitcoinScriptBasic</a><a id="3436" class="Symbol">)</a>
                                            <a id="3482" class="Symbol">(</a><a id="3483" href="verificationStackScripts.hoareTripleStackBasic.html#3483" class="Bound">φ</a> <a id="3485" href="verificationStackScripts.hoareTripleStackBasic.html#3485" class="Bound">ψ</a> <a id="3487" class="Symbol">:</a> <a id="3489" href="verificationStackScripts.sPredicate.html#1290" class="Function">StackStatePred</a><a id="3503" class="Symbol">)</a>
                                            <a id="3549" class="Symbol">→</a> <a id="3551" href="verificationStackScripts.stackHoareTriple.html#8200" class="Record Operator">&lt;</a> <a id="3553" href="verificationStackScripts.hoareTripleStackBasic.html#3483" class="Bound">φ</a> <a id="3555" href="verificationStackScripts.stackHoareTriple.html#8200" class="Record Operator">&gt;ssgen</a> <a id="3562" href="verificationStackScripts.semanticsStackInstructions.html#2254" class="Function Operator">⟦</a> <a id="3564" href="verificationStackScripts.hoareTripleStackBasic.html#3411" class="Bound">prog</a> <a id="3569" href="verificationStackScripts.semanticsStackInstructions.html#2254" class="Function Operator">⟧</a>  <a id="3572" href="verificationStackScripts.stackHoareTriple.html#8200" class="Record Operator">&lt;</a> <a id="3574" href="verificationStackScripts.hoareTripleStackBasic.html#3485" class="Bound">ψ</a> <a id="3576" href="verificationStackScripts.stackHoareTriple.html#8200" class="Record Operator">&gt;</a>
                                            <a id="3622" class="Symbol">→</a> <a id="3624" href="verificationStackScripts.stackHoareTriple.html#1619" class="Record Operator">&lt;</a> <a id="3626" href="verificationStackScripts.hoareTripleStackBasic.html#3483" class="Bound">φ</a> <a id="3628" href="verificationStackScripts.stackHoareTriple.html#1619" class="Record Operator">&gt;iff</a> <a id="3633" href="verificationStackScripts.hoareTripleStackBasic.html#3411" class="Bound">prog</a> <a id="3638" href="verificationStackScripts.stackHoareTriple.html#1619" class="Record Operator">&lt;</a> <a id="3640" href="verificationStackScripts.hoareTripleStackBasic.html#3485" class="Bound">ψ</a> <a id="3642" href="verificationStackScripts.stackHoareTriple.html#1619" class="Record Operator">&gt;</a>
<a id="3644" href="verificationStackScripts.hoareTripleStackBasic.html#3364" class="Function">lemmaGenericHoareTripleImpliesHoareTriple&#39;&#39;</a> <a id="3688" href="verificationStackScripts.hoareTripleStackBasic.html#3688" class="Bound">prog</a> <a id="3693" href="verificationStackScripts.hoareTripleStackBasic.html#3693" class="Bound">φ</a> <a id="3695" href="verificationStackScripts.hoareTripleStackBasic.html#3695" class="Bound">ψ</a> <a id="3697" href="verificationStackScripts.hoareTripleStackBasic.html#3697" class="Bound">prog₁</a> <a id="3703" class="Symbol">.</a><a id="3704" href="verificationStackScripts.stackHoareTriple.html#1741" class="Field">==&gt;</a> <a id="3708" class="Symbol">=</a> <a id="3710" href="verificationStackScripts.hoareTripleStackBasic.html#3697" class="Bound">prog₁</a> <a id="3716" class="Symbol">.</a><a id="3717" href="verificationStackScripts.stackHoareTriple.html#8344" class="Field">==&gt;g</a>
<a id="3722" href="verificationStackScripts.hoareTripleStackBasic.html#3364" class="Function">lemmaGenericHoareTripleImpliesHoareTriple&#39;&#39;</a> <a id="3766" href="verificationStackScripts.hoareTripleStackBasic.html#3766" class="Bound">prog</a> <a id="3771" href="verificationStackScripts.hoareTripleStackBasic.html#3771" class="Bound">φ</a> <a id="3773" href="verificationStackScripts.hoareTripleStackBasic.html#3773" class="Bound">ψ</a> <a id="3775" href="verificationStackScripts.hoareTripleStackBasic.html#3775" class="Bound">prog₁</a> <a id="3781" class="Symbol">.</a><a id="3782" href="verificationStackScripts.stackHoareTriple.html#1793" class="Field">&lt;==</a> <a id="3786" class="Symbol">=</a> <a id="3788" href="verificationStackScripts.hoareTripleStackBasic.html#3775" class="Bound">prog₁</a> <a id="3794" class="Symbol">.</a><a id="3795" href="verificationStackScripts.stackHoareTriple.html#8393" class="Field">&lt;==g</a>



<a id="3803" class="Comment">-- intermediate step towards showing that the</a>
<a id="3849" class="Comment">--   Hoare triple of a stack function implies</a>
<a id="3895" class="Comment">--   the Hoare triple of the instruction</a>
<a id="lemmaNonIfInstrGenericCondImpliesTripleaux"></a><a id="3936" href="verificationStackScripts.hoareTripleStackBasic.html#3936" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="3979" class="Symbol">:</a>
          <a id="3991" class="Symbol">(</a><a id="3992" href="verificationStackScripts.hoareTripleStackBasic.html#3992" class="Bound">instr</a> <a id="3998" class="Symbol">:</a> <a id="4000" href="instructionBasic.html#775" class="Datatype">InstructionBasic</a><a id="4016" class="Symbol">)</a>
          <a id="4028" class="Symbol">(</a><a id="4029" href="verificationStackScripts.hoareTripleStackBasic.html#4029" class="Bound">φ</a> <a id="4031" href="verificationStackScripts.hoareTripleStackBasic.html#4031" class="Bound">ψ</a> <a id="4033" class="Symbol">:</a> <a id="4035" href="verificationStackScripts.sPredicate.html#1290" class="Function">StackStatePred</a><a id="4049" class="Symbol">)</a>
          <a id="4061" class="Symbol">→</a> <a id="4063" href="verificationStackScripts.stackHoareTriple.html#8200" class="Record Operator">&lt;</a> <a id="4065" href="verificationStackScripts.hoareTripleStackBasic.html#4029" class="Bound">φ</a> <a id="4067" href="verificationStackScripts.stackHoareTriple.html#8200" class="Record Operator">&gt;ssgen</a> <a id="4074" href="verificationStackScripts.stackState.html#2096" class="Function">stackTransform2StackStateTransform</a> <a id="4109" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟦</a> <a id="4111" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="4113" href="verificationStackScripts.hoareTripleStackBasic.html#3992" class="Bound">instr</a> <a id="4119" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="4121" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟧ˢ</a> <a id="4124" href="verificationStackScripts.stackHoareTriple.html#8200" class="Record Operator">&lt;</a> <a id="4126" href="verificationStackScripts.hoareTripleStackBasic.html#4031" class="Bound">ψ</a> <a id="4128" href="verificationStackScripts.stackHoareTriple.html#8200" class="Record Operator">&gt;</a>
          <a id="4140" class="Symbol">→</a> <a id="4142" href="verificationStackScripts.stackHoareTriple.html#8200" class="Record Operator">&lt;</a> <a id="4144" href="verificationStackScripts.hoareTripleStackBasic.html#4029" class="Bound">φ</a> <a id="4146" href="verificationStackScripts.stackHoareTriple.html#8200" class="Record Operator">&gt;ssgen</a> <a id="4153" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟦</a> <a id="4155" href="verificationStackScripts.hoareTripleStackBasic.html#3992" class="Bound">instr</a> <a id="4161" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟧s</a>  <a id="4165" href="verificationStackScripts.stackHoareTriple.html#8200" class="Record Operator">&lt;</a> <a id="4167" href="verificationStackScripts.hoareTripleStackBasic.html#4031" class="Bound">ψ</a> <a id="4169" href="verificationStackScripts.stackHoareTriple.html#8200" class="Record Operator">&gt;</a>
<a id="4171" href="verificationStackScripts.hoareTripleStackBasic.html#3936" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4214" href="instructionBasic.html#806" class="InductiveConstructor">opEqual</a>  <a id="4223" href="verificationStackScripts.hoareTripleStackBasic.html#4223" class="Bound">φ</a> <a id="4225" href="verificationStackScripts.hoareTripleStackBasic.html#4225" class="Bound">ψ</a> <a id="4227" href="verificationStackScripts.hoareTripleStackBasic.html#4227" class="Bound">x</a> <a id="4229" class="Symbol">=</a> <a id="4231" href="verificationStackScripts.hoareTripleStackBasic.html#4227" class="Bound">x</a>
<a id="4233" href="verificationStackScripts.hoareTripleStackBasic.html#3936" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4276" href="instructionBasic.html#814" class="InductiveConstructor">opAdd</a>  <a id="4283" href="verificationStackScripts.hoareTripleStackBasic.html#4283" class="Bound">φ</a> <a id="4285" href="verificationStackScripts.hoareTripleStackBasic.html#4285" class="Bound">ψ</a> <a id="4287" href="verificationStackScripts.hoareTripleStackBasic.html#4287" class="Bound">x</a> <a id="4289" class="Symbol">=</a> <a id="4291" href="verificationStackScripts.hoareTripleStackBasic.html#4287" class="Bound">x</a>
<a id="4293" href="verificationStackScripts.hoareTripleStackBasic.html#3936" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4336" class="Symbol">(</a><a id="4337" href="instructionBasic.html#980" class="InductiveConstructor">opPush</a> <a id="4344" href="verificationStackScripts.hoareTripleStackBasic.html#4344" class="Bound">x₁</a><a id="4346" class="Symbol">)</a>  <a id="4349" href="verificationStackScripts.hoareTripleStackBasic.html#4349" class="Bound">φ</a> <a id="4351" href="verificationStackScripts.hoareTripleStackBasic.html#4351" class="Bound">ψ</a> <a id="4353" href="verificationStackScripts.hoareTripleStackBasic.html#4353" class="Bound">x</a> <a id="4355" class="Symbol">=</a> <a id="4357" href="verificationStackScripts.hoareTripleStackBasic.html#4353" class="Bound">x</a>
<a id="4359" href="verificationStackScripts.hoareTripleStackBasic.html#3936" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4402" href="instructionBasic.html#820" class="InductiveConstructor">opSub</a>  <a id="4409" href="verificationStackScripts.hoareTripleStackBasic.html#4409" class="Bound">φ</a> <a id="4411" href="verificationStackScripts.hoareTripleStackBasic.html#4411" class="Bound">ψ</a> <a id="4413" href="verificationStackScripts.hoareTripleStackBasic.html#4413" class="Bound">x</a> <a id="4415" class="Symbol">=</a> <a id="4417" href="verificationStackScripts.hoareTripleStackBasic.html#4413" class="Bound">x</a>
<a id="4419" href="verificationStackScripts.hoareTripleStackBasic.html#3936" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4462" href="instructionBasic.html#826" class="InductiveConstructor">opVerify</a>  <a id="4472" href="verificationStackScripts.hoareTripleStackBasic.html#4472" class="Bound">φ</a> <a id="4474" href="verificationStackScripts.hoareTripleStackBasic.html#4474" class="Bound">ψ</a> <a id="4476" href="verificationStackScripts.hoareTripleStackBasic.html#4476" class="Bound">x</a> <a id="4478" class="Symbol">=</a> <a id="4480" href="verificationStackScripts.hoareTripleStackBasic.html#4476" class="Bound">x</a>
<a id="4482" href="verificationStackScripts.hoareTripleStackBasic.html#3936" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4525" href="instructionBasic.html#945" class="InductiveConstructor">opCheckSig</a>  <a id="4537" href="verificationStackScripts.hoareTripleStackBasic.html#4537" class="Bound">φ</a> <a id="4539" href="verificationStackScripts.hoareTripleStackBasic.html#4539" class="Bound">ψ</a> <a id="4541" href="verificationStackScripts.hoareTripleStackBasic.html#4541" class="Bound">x</a> <a id="4543" class="Symbol">=</a> <a id="4545" href="verificationStackScripts.hoareTripleStackBasic.html#4541" class="Bound">x</a>
<a id="4547" href="verificationStackScripts.hoareTripleStackBasic.html#3936" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4590" href="instructionBasic.html#835" class="InductiveConstructor">opEqualVerify</a>  <a id="4605" href="verificationStackScripts.hoareTripleStackBasic.html#4605" class="Bound">φ</a> <a id="4607" href="verificationStackScripts.hoareTripleStackBasic.html#4607" class="Bound">ψ</a> <a id="4609" href="verificationStackScripts.hoareTripleStackBasic.html#4609" class="Bound">x</a> <a id="4611" class="Symbol">=</a> <a id="4613" href="verificationStackScripts.hoareTripleStackBasic.html#4609" class="Bound">x</a>
<a id="4615" href="verificationStackScripts.hoareTripleStackBasic.html#3936" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4658" href="instructionBasic.html#863" class="InductiveConstructor">opDup</a>  <a id="4665" href="verificationStackScripts.hoareTripleStackBasic.html#4665" class="Bound">φ</a> <a id="4667" href="verificationStackScripts.hoareTripleStackBasic.html#4667" class="Bound">ψ</a> <a id="4669" href="verificationStackScripts.hoareTripleStackBasic.html#4669" class="Bound">x</a> <a id="4671" class="Symbol">=</a> <a id="4673" href="verificationStackScripts.hoareTripleStackBasic.html#4669" class="Bound">x</a>
<a id="4675" href="verificationStackScripts.hoareTripleStackBasic.html#3936" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4718" href="instructionBasic.html#849" class="InductiveConstructor">opDrop</a>  <a id="4726" href="verificationStackScripts.hoareTripleStackBasic.html#4726" class="Bound">φ</a> <a id="4728" href="verificationStackScripts.hoareTripleStackBasic.html#4728" class="Bound">ψ</a> <a id="4730" href="verificationStackScripts.hoareTripleStackBasic.html#4730" class="Bound">x</a> <a id="4732" class="Symbol">=</a> <a id="4734" href="verificationStackScripts.hoareTripleStackBasic.html#4730" class="Bound">x</a>
<a id="4736" href="verificationStackScripts.hoareTripleStackBasic.html#3936" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4779" href="instructionBasic.html#856" class="InductiveConstructor">opSwap</a>  <a id="4787" href="verificationStackScripts.hoareTripleStackBasic.html#4787" class="Bound">φ</a> <a id="4789" href="verificationStackScripts.hoareTripleStackBasic.html#4789" class="Bound">ψ</a> <a id="4791" href="verificationStackScripts.hoareTripleStackBasic.html#4791" class="Bound">x</a> <a id="4793" class="Symbol">=</a> <a id="4795" href="verificationStackScripts.hoareTripleStackBasic.html#4791" class="Bound">x</a>
<a id="4797" href="verificationStackScripts.hoareTripleStackBasic.html#3936" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4840" href="instructionBasic.html#893" class="InductiveConstructor">opHash</a>  <a id="4848" href="verificationStackScripts.hoareTripleStackBasic.html#4848" class="Bound">φ</a> <a id="4850" href="verificationStackScripts.hoareTripleStackBasic.html#4850" class="Bound">ψ</a> <a id="4852" href="verificationStackScripts.hoareTripleStackBasic.html#4852" class="Bound">x</a> <a id="4854" class="Symbol">=</a> <a id="4856" href="verificationStackScripts.hoareTripleStackBasic.html#4852" class="Bound">x</a>
<a id="4858" href="verificationStackScripts.hoareTripleStackBasic.html#3936" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4901" href="instructionBasic.html#911" class="InductiveConstructor">opCHECKLOCKTIMEVERIFY</a>  <a id="4924" href="verificationStackScripts.hoareTripleStackBasic.html#4924" class="Bound">φ</a> <a id="4926" href="verificationStackScripts.hoareTripleStackBasic.html#4926" class="Bound">ψ</a> <a id="4928" href="verificationStackScripts.hoareTripleStackBasic.html#4928" class="Bound">x</a> <a id="4930" class="Symbol">=</a> <a id="4932" href="verificationStackScripts.hoareTripleStackBasic.html#4928" class="Bound">x</a>
<a id="4934" href="verificationStackScripts.hoareTripleStackBasic.html#3936" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4977" href="instructionBasic.html#933" class="InductiveConstructor">opCheckSig3</a>  <a id="4990" href="verificationStackScripts.hoareTripleStackBasic.html#4990" class="Bound">φ</a> <a id="4992" href="verificationStackScripts.hoareTripleStackBasic.html#4992" class="Bound">ψ</a> <a id="4994" href="verificationStackScripts.hoareTripleStackBasic.html#4994" class="Bound">x</a> <a id="4996" class="Symbol">=</a> <a id="4998" href="verificationStackScripts.hoareTripleStackBasic.html#4994" class="Bound">x</a>
<a id="5000" href="verificationStackScripts.hoareTripleStackBasic.html#3936" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="5043" href="instructionBasic.html#900" class="InductiveConstructor">opMultiSig</a>  <a id="5055" href="verificationStackScripts.hoareTripleStackBasic.html#5055" class="Bound">φ</a> <a id="5057" href="verificationStackScripts.hoareTripleStackBasic.html#5057" class="Bound">ψ</a> <a id="5059" href="verificationStackScripts.hoareTripleStackBasic.html#5059" class="Bound">x</a> <a id="5061" class="Symbol">=</a> <a id="5063" href="verificationStackScripts.hoareTripleStackBasic.html#5059" class="Bound">x</a>


<a id="lemmaNonIfInstrGenericCondImpliesHoareTriple"></a><a id="5067" href="verificationStackScripts.hoareTripleStackBasic.html#5067" class="Function">lemmaNonIfInstrGenericCondImpliesHoareTriple</a> <a id="5112" class="Symbol">:</a>
          <a id="5124" class="Symbol">(</a><a id="5125" href="verificationStackScripts.hoareTripleStackBasic.html#5125" class="Bound">instr</a> <a id="5131" class="Symbol">:</a> <a id="5133" href="instructionBasic.html#775" class="Datatype">InstructionBasic</a><a id="5149" class="Symbol">)</a>
          <a id="5161" class="Symbol">(</a><a id="5162" href="verificationStackScripts.hoareTripleStackBasic.html#5162" class="Bound">φ</a> <a id="5164" href="verificationStackScripts.hoareTripleStackBasic.html#5164" class="Bound">ψ</a> <a id="5166" class="Symbol">:</a> <a id="5168" href="verificationStackScripts.sPredicate.html#1290" class="Function">StackStatePred</a><a id="5182" class="Symbol">)</a>
          <a id="5194" class="Symbol">→</a> <a id="5196" href="verificationStackScripts.stackHoareTriple.html#8200" class="Record Operator">&lt;</a> <a id="5198" href="verificationStackScripts.hoareTripleStackBasic.html#5162" class="Bound">φ</a> <a id="5200" href="verificationStackScripts.stackHoareTriple.html#8200" class="Record Operator">&gt;ssgen</a> <a id="5207" href="verificationStackScripts.stackState.html#2096" class="Function">stackTransform2StackStateTransform</a> <a id="5242" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟦</a> <a id="5244" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="5246" href="verificationStackScripts.hoareTripleStackBasic.html#5125" class="Bound">instr</a> <a id="5252" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="5254" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟧ˢ</a> <a id="5257" href="verificationStackScripts.stackHoareTriple.html#8200" class="Record Operator">&lt;</a> <a id="5259" href="verificationStackScripts.hoareTripleStackBasic.html#5164" class="Bound">ψ</a> <a id="5261" href="verificationStackScripts.stackHoareTriple.html#8200" class="Record Operator">&gt;</a>
          <a id="5273" class="Symbol">→</a> <a id="5275" href="verificationStackScripts.stackHoareTriple.html#1619" class="Record Operator">&lt;</a> <a id="5277" href="verificationStackScripts.hoareTripleStackBasic.html#5162" class="Bound">φ</a> <a id="5279" href="verificationStackScripts.stackHoareTriple.html#1619" class="Record Operator">&gt;iff</a> <a id="5284" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="5286" href="verificationStackScripts.hoareTripleStackBasic.html#5125" class="Bound">instr</a> <a id="5292" href="Data.List.Base.html#5025" class="Function Operator">]</a>  <a id="5295" href="verificationStackScripts.stackHoareTriple.html#1619" class="Record Operator">&lt;</a> <a id="5297" href="verificationStackScripts.hoareTripleStackBasic.html#5164" class="Bound">ψ</a> <a id="5299" href="verificationStackScripts.stackHoareTriple.html#1619" class="Record Operator">&gt;</a>
<a id="5301" href="verificationStackScripts.hoareTripleStackBasic.html#5067" class="Function">lemmaNonIfInstrGenericCondImpliesHoareTriple</a> <a id="5346" href="verificationStackScripts.hoareTripleStackBasic.html#5346" class="Bound">instr</a> <a id="5352" href="verificationStackScripts.hoareTripleStackBasic.html#5352" class="Bound">φ</a> <a id="5354" href="verificationStackScripts.hoareTripleStackBasic.html#5354" class="Bound">ψ</a> <a id="5356" href="verificationStackScripts.hoareTripleStackBasic.html#5356" class="Bound">p</a>
  <a id="5360" class="Symbol">=</a> <a id="5362" href="verificationStackScripts.hoareTripleStackBasic.html#2928" class="Function">lemmaGenericHoareTripleImpliesHoareTriple</a> <a id="5404" href="verificationStackScripts.hoareTripleStackBasic.html#5346" class="Bound">instr</a> <a id="5410" href="verificationStackScripts.hoareTripleStackBasic.html#5352" class="Bound">φ</a> <a id="5412" href="verificationStackScripts.hoareTripleStackBasic.html#5354" class="Bound">ψ</a>
      <a id="5420" class="Symbol">(</a><a id="5421" href="verificationStackScripts.hoareTripleStackBasic.html#3936" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="5464" href="verificationStackScripts.hoareTripleStackBasic.html#5346" class="Bound">instr</a> <a id="5470" href="verificationStackScripts.hoareTripleStackBasic.html#5352" class="Bound">φ</a> <a id="5472" href="verificationStackScripts.hoareTripleStackBasic.html#5354" class="Bound">ψ</a> <a id="5474" href="verificationStackScripts.hoareTripleStackBasic.html#5356" class="Bound">p</a><a id="5475" class="Symbol">)</a>



<a id="5480" class="Comment">-- auxiliary function used for proving lemmaLift2StateCorrectnessStackFun=&gt;</a>
<a id="lemmaLift2StateCorrectnessStackFun=&gt;aux"></a><a id="5556" href="verificationStackScripts.hoareTripleStackBasic.html#5556" class="Function">lemmaLift2StateCorrectnessStackFun=&gt;aux</a> <a id="5596" class="Symbol">:</a> <a id="5598" class="Symbol">(</a><a id="5599" href="verificationStackScripts.hoareTripleStackBasic.html#5599" class="Bound">ψ</a> <a id="5601" class="Symbol">:</a> <a id="5603" href="stackPredicate.html#939" class="Function">StackPredicate</a><a id="5617" class="Symbol">)</a>
                                          <a id="5661" class="Symbol">(</a><a id="5662" href="verificationStackScripts.hoareTripleStackBasic.html#5662" class="Bound">funRes</a> <a id="5669" class="Symbol">:</a> <a id="5671" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="5677" href="stack.html#772" class="Function">Stack</a><a id="5682" class="Symbol">)</a>
                                          <a id="5726" class="Symbol">(</a><a id="5727" href="verificationStackScripts.hoareTripleStackBasic.html#5727" class="Bound">currentTime₁</a> <a id="5740" class="Symbol">:</a> <a id="5742" href="basicBitcoinDataType.html#694" class="Function">Time</a><a id="5746" class="Symbol">)</a>
                                          <a id="5790" class="Symbol">(</a><a id="5791" href="verificationStackScripts.hoareTripleStackBasic.html#5791" class="Bound">msg₁</a> <a id="5796" class="Symbol">:</a> <a id="5798" href="basicBitcoinDataType.html#886" class="Datatype">Msg</a><a id="5801" class="Symbol">)</a>
                                          <a id="5845" class="Symbol">(</a><a id="5846" href="verificationStackScripts.hoareTripleStackBasic.html#5846" class="Bound">p</a> <a id="5848" class="Symbol">:</a> <a id="5850" href="libraries.maybeLib.html#967" class="Function">liftPred2Maybe</a> <a id="5865" class="Symbol">(</a><a id="5866" href="verificationStackScripts.hoareTripleStackBasic.html#5599" class="Bound">ψ</a> <a id="5868" href="verificationStackScripts.hoareTripleStackBasic.html#5727" class="Bound">currentTime₁</a> <a id="5881" href="verificationStackScripts.hoareTripleStackBasic.html#5791" class="Bound">msg₁</a><a id="5885" class="Symbol">)</a> <a id="5887" href="verificationStackScripts.hoareTripleStackBasic.html#5662" class="Bound">funRes</a><a id="5893" class="Symbol">)</a>
                                          <a id="5937" class="Symbol">→</a> <a id="5939" class="Symbol">((</a><a id="5941" href="verificationStackScripts.sPredicate.html#2432" class="Function">stackPred2SPred</a> <a id="5957" href="verificationStackScripts.hoareTripleStackBasic.html#5599" class="Bound">ψ</a> <a id="5959" class="Symbol">)</a> <a id="5961" href="libraries.maybeLib.html#1697" class="Function Operator">⁺</a><a id="5962" class="Symbol">)</a>
                                             <a id="6009" class="Symbol">(</a><a id="6010" href="verificationStackScripts.stackState.html#1507" class="Function">stackState2WithMaybe</a>
                                               <a id="6078" class="InductiveConstructor Operator">⟨</a> <a id="6080" href="verificationStackScripts.hoareTripleStackBasic.html#5727" class="Bound">currentTime₁</a> <a id="6093" class="InductiveConstructor Operator">,</a> <a id="6095" href="verificationStackScripts.hoareTripleStackBasic.html#5791" class="Bound">msg₁</a> <a id="6100" class="InductiveConstructor Operator">,</a> <a id="6102" href="verificationStackScripts.hoareTripleStackBasic.html#5662" class="Bound">funRes</a> <a id="6109" class="InductiveConstructor Operator">⟩</a><a id="6110" class="Symbol">)</a>
<a id="6112" href="verificationStackScripts.hoareTripleStackBasic.html#5556" class="Function">lemmaLift2StateCorrectnessStackFun=&gt;aux</a> <a id="6152" href="verificationStackScripts.hoareTripleStackBasic.html#6152" class="Bound">ψ</a> <a id="6154" class="Symbol">(</a><a id="6155" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="6160" href="verificationStackScripts.hoareTripleStackBasic.html#6160" class="Bound">x</a><a id="6161" class="Symbol">)</a> <a id="6163" href="verificationStackScripts.hoareTripleStackBasic.html#6163" class="Bound">currentTime₁</a> <a id="6176" href="verificationStackScripts.hoareTripleStackBasic.html#6176" class="Bound">msg₁</a> <a id="6181" href="verificationStackScripts.hoareTripleStackBasic.html#6181" class="Bound">p</a> <a id="6183" class="Symbol">=</a> <a id="6185" href="verificationStackScripts.hoareTripleStackBasic.html#6181" class="Bound">p</a>


<a id="6189" class="Comment">-- Stack correctness implies correctness of the hoare triple</a>
<a id="6250" class="Comment">--   here direction =&gt;</a>
<a id="lift2StateCorrectnessStackFun=&gt;"></a><a id="6273" href="verificationStackScripts.hoareTripleStackBasic.html#6273" class="Function">lift2StateCorrectnessStackFun=&gt;</a> <a id="6305" class="Symbol">:</a> <a id="6307" class="Symbol">(</a><a id="6308" href="verificationStackScripts.hoareTripleStackBasic.html#6308" class="Bound">φ</a> <a id="6310" href="verificationStackScripts.hoareTripleStackBasic.html#6310" class="Bound">ψ</a> <a id="6312" class="Symbol">:</a> <a id="6314" href="stackPredicate.html#939" class="Function">StackPredicate</a><a id="6328" class="Symbol">)</a>
                                  <a id="6364" class="Symbol">(</a><a id="6365" href="verificationStackScripts.hoareTripleStackBasic.html#6365" class="Bound">stackfun</a> <a id="6374" class="Symbol">:</a> <a id="6376" href="stack.html#1228" class="Function">StackTransformer</a><a id="6392" class="Symbol">)</a>
                                  <a id="6428" class="Symbol">(</a><a id="6429" href="verificationStackScripts.hoareTripleStackBasic.html#6429" class="Bound">stackCorrectness</a> <a id="6446" class="Symbol">:</a> <a id="6448" class="Symbol">(</a><a id="6449" href="verificationStackScripts.hoareTripleStackBasic.html#6449" class="Bound">time</a> <a id="6454" class="Symbol">:</a> <a id="6456" href="basicBitcoinDataType.html#694" class="Function">Time</a><a id="6460" class="Symbol">)(</a><a id="6462" href="verificationStackScripts.hoareTripleStackBasic.html#6462" class="Bound">msg</a> <a id="6466" class="Symbol">:</a> <a id="6468" href="basicBitcoinDataType.html#886" class="Datatype">Msg</a><a id="6471" class="Symbol">)(</a><a id="6473" href="verificationStackScripts.hoareTripleStackBasic.html#6473" class="Bound">s</a> <a id="6475" class="Symbol">:</a> <a id="6477" href="stack.html#772" class="Function">Stack</a><a id="6482" class="Symbol">)</a>
                                  <a id="6518" class="Symbol">→</a> <a id="6520" href="verificationStackScripts.hoareTripleStackBasic.html#6308" class="Bound">φ</a> <a id="6522" href="verificationStackScripts.hoareTripleStackBasic.html#6449" class="Bound">time</a> <a id="6527" href="verificationStackScripts.hoareTripleStackBasic.html#6462" class="Bound">msg</a> <a id="6531" href="verificationStackScripts.hoareTripleStackBasic.html#6473" class="Bound">s</a> <a id="6533" class="Symbol">→</a> <a id="6535" href="libraries.maybeLib.html#967" class="Function">liftPred2Maybe</a> <a id="6550" class="Symbol">(</a><a id="6551" href="verificationStackScripts.hoareTripleStackBasic.html#6310" class="Bound">ψ</a> <a id="6553" href="verificationStackScripts.hoareTripleStackBasic.html#6449" class="Bound">time</a> <a id="6558" href="verificationStackScripts.hoareTripleStackBasic.html#6462" class="Bound">msg</a><a id="6561" class="Symbol">)</a> <a id="6563" class="Symbol">(</a><a id="6564" href="verificationStackScripts.hoareTripleStackBasic.html#6365" class="Bound">stackfun</a> <a id="6573" href="verificationStackScripts.hoareTripleStackBasic.html#6449" class="Bound">time</a> <a id="6578" href="verificationStackScripts.hoareTripleStackBasic.html#6462" class="Bound">msg</a> <a id="6582" href="verificationStackScripts.hoareTripleStackBasic.html#6473" class="Bound">s</a><a id="6583" class="Symbol">))</a>
                                  <a id="6620" class="Symbol">(</a><a id="6621" href="verificationStackScripts.hoareTripleStackBasic.html#6621" class="Bound">s</a> <a id="6623" class="Symbol">:</a> <a id="6625" href="verificationStackScripts.stackState.html#961" class="Record">StackState</a><a id="6635" class="Symbol">)</a>
                                  <a id="6671" class="Symbol">→</a> <a id="6673" href="verificationStackScripts.sPredicate.html#2432" class="Function">stackPred2SPred</a> <a id="6689" href="verificationStackScripts.hoareTripleStackBasic.html#6308" class="Bound">φ</a> <a id="6691" href="verificationStackScripts.hoareTripleStackBasic.html#6621" class="Bound">s</a>
                                  <a id="6727" class="Symbol">→</a> <a id="6729" class="Symbol">((</a><a id="6731" href="verificationStackScripts.sPredicate.html#2432" class="Function">stackPred2SPred</a> <a id="6747" href="verificationStackScripts.hoareTripleStackBasic.html#6310" class="Bound">ψ</a><a id="6748" class="Symbol">)</a> <a id="6750" href="libraries.maybeLib.html#1697" class="Function Operator">⁺</a><a id="6751" class="Symbol">)</a>
                                                    <a id="6805" class="Symbol">(</a><a id="6806" href="verificationStackScripts.stackState.html#2096" class="Function">stackTransform2StackStateTransform</a> <a id="6841" href="verificationStackScripts.hoareTripleStackBasic.html#6365" class="Bound">stackfun</a> <a id="6850" href="verificationStackScripts.hoareTripleStackBasic.html#6621" class="Bound">s</a><a id="6851" class="Symbol">)</a>
<a id="6853" href="verificationStackScripts.hoareTripleStackBasic.html#6273" class="Function">lift2StateCorrectnessStackFun=&gt;</a> <a id="6885" href="verificationStackScripts.hoareTripleStackBasic.html#6885" class="Bound">φ</a> <a id="6887" href="verificationStackScripts.hoareTripleStackBasic.html#6887" class="Bound">ψ</a> <a id="6889" href="verificationStackScripts.hoareTripleStackBasic.html#6889" class="Bound">stackfun</a> <a id="6898" href="verificationStackScripts.hoareTripleStackBasic.html#6898" class="Bound">stackCorrectness</a> <a id="6915" href="verificationStackScripts.stackState.html#1005" class="InductiveConstructor Operator">⟨</a> <a id="6917" href="verificationStackScripts.hoareTripleStackBasic.html#6917" class="Bound">currentTime₁</a> <a id="6930" href="verificationStackScripts.stackState.html#1005" class="InductiveConstructor Operator">,</a> <a id="6932" href="verificationStackScripts.hoareTripleStackBasic.html#6932" class="Bound">msg₁</a> <a id="6937" href="verificationStackScripts.stackState.html#1005" class="InductiveConstructor Operator">,</a> <a id="6939" href="verificationStackScripts.hoareTripleStackBasic.html#6939" class="Bound">stack₁</a> <a id="6946" href="verificationStackScripts.stackState.html#1005" class="InductiveConstructor Operator">⟩</a>  <a id="6949" href="verificationStackScripts.hoareTripleStackBasic.html#6949" class="Bound">and3</a>
      <a id="6960" class="Symbol">=</a> <a id="6962" href="verificationStackScripts.hoareTripleStackBasic.html#5556" class="Function">lemmaLift2StateCorrectnessStackFun=&gt;aux</a> <a id="7002" href="verificationStackScripts.hoareTripleStackBasic.html#6887" class="Bound">ψ</a>  <a id="7005" class="Symbol">(</a><a id="7006" href="verificationStackScripts.hoareTripleStackBasic.html#6889" class="Bound">stackfun</a> <a id="7015" href="verificationStackScripts.hoareTripleStackBasic.html#6917" class="Bound">currentTime₁</a> <a id="7028" href="verificationStackScripts.hoareTripleStackBasic.html#6932" class="Bound">msg₁</a> <a id="7033" href="verificationStackScripts.hoareTripleStackBasic.html#6939" class="Bound">stack₁</a><a id="7039" class="Symbol">)</a> <a id="7041" href="verificationStackScripts.hoareTripleStackBasic.html#6917" class="Bound">currentTime₁</a> <a id="7054" href="verificationStackScripts.hoareTripleStackBasic.html#6932" class="Bound">msg₁</a>
                   <a id="7078" class="Symbol">(</a><a id="7079" href="verificationStackScripts.hoareTripleStackBasic.html#6898" class="Bound">stackCorrectness</a> <a id="7096" href="verificationStackScripts.hoareTripleStackBasic.html#6917" class="Bound">currentTime₁</a> <a id="7109" href="verificationStackScripts.hoareTripleStackBasic.html#6932" class="Bound">msg₁</a> <a id="7114" href="verificationStackScripts.hoareTripleStackBasic.html#6939" class="Bound">stack₁</a> <a id="7121" href="verificationStackScripts.hoareTripleStackBasic.html#6949" class="Bound">and3</a><a id="7125" class="Symbol">)</a>


<a id="lemmaLift2StateCorrectnessStackFun&lt;=aux"></a><a id="7129" href="verificationStackScripts.hoareTripleStackBasic.html#7129" class="Function">lemmaLift2StateCorrectnessStackFun&lt;=aux</a> <a id="7169" class="Symbol">:</a>
     <a id="7176" class="Symbol">(</a><a id="7177" href="verificationStackScripts.hoareTripleStackBasic.html#7177" class="Bound">φ</a> <a id="7179" href="verificationStackScripts.hoareTripleStackBasic.html#7179" class="Bound">ψ</a> <a id="7181" class="Symbol">:</a> <a id="7183" href="stackPredicate.html#939" class="Function">StackPredicate</a><a id="7197" class="Symbol">)</a>
     <a id="7204" class="Symbol">(</a><a id="7205" href="verificationStackScripts.hoareTripleStackBasic.html#7205" class="Bound">funRes</a> <a id="7212" class="Symbol">:</a> <a id="7214" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="7220" href="stack.html#772" class="Function">Stack</a><a id="7225" class="Symbol">)</a>
     <a id="7232" class="Symbol">(</a><a id="7233" href="verificationStackScripts.hoareTripleStackBasic.html#7233" class="Bound">currentTime₁</a> <a id="7246" class="Symbol">:</a> <a id="7248" href="basicBitcoinDataType.html#694" class="Function">Time</a><a id="7252" class="Symbol">)</a>
     <a id="7259" class="Symbol">(</a><a id="7260" href="verificationStackScripts.hoareTripleStackBasic.html#7260" class="Bound">msg₁</a> <a id="7265" class="Symbol">:</a> <a id="7267" href="basicBitcoinDataType.html#886" class="Datatype">Msg</a><a id="7270" class="Symbol">)</a>
     <a id="7277" class="Symbol">(</a><a id="7278" href="verificationStackScripts.hoareTripleStackBasic.html#7278" class="Bound">stack₁</a> <a id="7285" class="Symbol">:</a> <a id="7287" href="stack.html#772" class="Function">Stack</a><a id="7292" class="Symbol">)</a>
     <a id="7299" class="Symbol">(</a><a id="7300" href="verificationStackScripts.hoareTripleStackBasic.html#7300" class="Bound">p</a> <a id="7302" class="Symbol">:</a> <a id="7304" class="Symbol">((λ</a> <a id="7308" href="verificationStackScripts.hoareTripleStackBasic.html#7308" class="Bound">s</a> <a id="7310" class="Symbol">→</a> <a id="7312" href="verificationStackScripts.hoareTripleStackBasic.html#7179" class="Bound">ψ</a> <a id="7314" class="Symbol">(</a><a id="7315" class="Field">currentTime</a> <a id="7327" href="verificationStackScripts.hoareTripleStackBasic.html#7308" class="Bound">s</a><a id="7328" class="Symbol">)</a> <a id="7330" class="Symbol">(</a><a id="7331" class="Field">msg</a> <a id="7335" href="verificationStackScripts.hoareTripleStackBasic.html#7308" class="Bound">s</a><a id="7336" class="Symbol">)</a> <a id="7338" class="Symbol">(</a><a id="7339" href="verificationStackScripts.stackState.html#1162" class="Field">stack</a> <a id="7345" href="verificationStackScripts.hoareTripleStackBasic.html#7308" class="Bound">s</a><a id="7346" class="Symbol">)</a> <a id="7348" class="Symbol">)</a> <a id="7350" href="libraries.maybeLib.html#1697" class="Function Operator">⁺</a><a id="7351" class="Symbol">)</a>
            <a id="7365" class="Symbol">(</a><a id="7366" href="verificationStackScripts.stackState.html#1937" class="Function">exeTransformerDepIfStack&#39;</a>
             <a id="7405" class="Symbol">(</a><a id="7406" href="verificationStackScripts.stackState.html#1739" class="Function">liftStackToStateTransformerAux&#39;</a> <a id="7438" href="verificationStackScripts.hoareTripleStackBasic.html#7205" class="Bound">funRes</a><a id="7444" class="Symbol">)</a>
              <a id="7460" class="InductiveConstructor Operator">⟨</a> <a id="7462" href="verificationStackScripts.hoareTripleStackBasic.html#7233" class="Bound">currentTime₁</a> <a id="7475" class="InductiveConstructor Operator">,</a> <a id="7477" href="verificationStackScripts.hoareTripleStackBasic.html#7260" class="Bound">msg₁</a> <a id="7482" class="InductiveConstructor Operator">,</a> <a id="7484" href="verificationStackScripts.hoareTripleStackBasic.html#7278" class="Bound">stack₁</a>  <a id="7492" class="InductiveConstructor Operator">⟩</a><a id="7493" class="Symbol">))</a>
     <a id="7501" class="Symbol">(</a><a id="7502" href="verificationStackScripts.hoareTripleStackBasic.html#7502" class="Bound">q</a> <a id="7504" class="Symbol">:</a> <a id="7506" href="libraries.maybeLib.html#967" class="Function">liftPred2Maybe</a> <a id="7521" class="Symbol">(</a><a id="7522" href="verificationStackScripts.hoareTripleStackBasic.html#7179" class="Bound">ψ</a> <a id="7524" href="verificationStackScripts.hoareTripleStackBasic.html#7233" class="Bound">currentTime₁</a> <a id="7537" href="verificationStackScripts.hoareTripleStackBasic.html#7260" class="Bound">msg₁</a><a id="7541" class="Symbol">)</a> <a id="7543" href="verificationStackScripts.hoareTripleStackBasic.html#7205" class="Bound">funRes</a> <a id="7550" class="Symbol">→</a> <a id="7552" href="verificationStackScripts.hoareTripleStackBasic.html#7177" class="Bound">φ</a> <a id="7554" href="verificationStackScripts.hoareTripleStackBasic.html#7233" class="Bound">currentTime₁</a> <a id="7567" href="verificationStackScripts.hoareTripleStackBasic.html#7260" class="Bound">msg₁</a> <a id="7572" href="verificationStackScripts.hoareTripleStackBasic.html#7278" class="Bound">stack₁</a><a id="7578" class="Symbol">)</a>
     <a id="7585" class="Symbol">→</a> <a id="7587" href="verificationStackScripts.hoareTripleStackBasic.html#7177" class="Bound">φ</a> <a id="7589" href="verificationStackScripts.hoareTripleStackBasic.html#7233" class="Bound">currentTime₁</a> <a id="7602" href="verificationStackScripts.hoareTripleStackBasic.html#7260" class="Bound">msg₁</a> <a id="7607" href="verificationStackScripts.hoareTripleStackBasic.html#7278" class="Bound">stack₁</a>
<a id="7614" href="verificationStackScripts.hoareTripleStackBasic.html#7129" class="Function">lemmaLift2StateCorrectnessStackFun&lt;=aux</a> <a id="7654" href="verificationStackScripts.hoareTripleStackBasic.html#7654" class="Bound">φ</a> <a id="7656" href="verificationStackScripts.hoareTripleStackBasic.html#7656" class="Bound">ψ</a> <a id="7658" class="Symbol">(</a><a id="7659" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="7664" href="verificationStackScripts.hoareTripleStackBasic.html#7664" class="Bound">x</a><a id="7665" class="Symbol">)</a> <a id="7667" href="verificationStackScripts.hoareTripleStackBasic.html#7667" class="Bound">currentTime₁</a> <a id="7680" href="verificationStackScripts.hoareTripleStackBasic.html#7680" class="Bound">msg₁</a> <a id="7685" href="verificationStackScripts.hoareTripleStackBasic.html#7685" class="Bound">stack₁</a> <a id="7692" href="verificationStackScripts.hoareTripleStackBasic.html#7692" class="Bound">p</a> <a id="7694" href="verificationStackScripts.hoareTripleStackBasic.html#7694" class="Bound">q</a> <a id="7696" class="Symbol">=</a> <a id="7698" href="verificationStackScripts.hoareTripleStackBasic.html#7694" class="Bound">q</a> <a id="7700" href="verificationStackScripts.hoareTripleStackBasic.html#7692" class="Bound">p</a>


<a id="7704" class="Comment">-- Stack correctness implies correctness of the hoare triple</a>
<a id="7765" class="Comment">--   here direction &lt;=</a>
<a id="lift2StateCorrectnessStackFun&lt;="></a><a id="7788" href="verificationStackScripts.hoareTripleStackBasic.html#7788" class="Function">lift2StateCorrectnessStackFun&lt;=</a> <a id="7820" class="Symbol">:</a> <a id="7822" class="Symbol">(</a><a id="7823" href="verificationStackScripts.hoareTripleStackBasic.html#7823" class="Bound">φ</a> <a id="7825" href="verificationStackScripts.hoareTripleStackBasic.html#7825" class="Bound">ψ</a> <a id="7827" class="Symbol">:</a> <a id="7829" href="stackPredicate.html#939" class="Function">StackPredicate</a><a id="7843" class="Symbol">)</a>
                                  <a id="7879" class="Symbol">(</a><a id="7880" href="verificationStackScripts.hoareTripleStackBasic.html#7880" class="Bound">stackfun</a> <a id="7889" class="Symbol">:</a> <a id="7891" href="stack.html#1228" class="Function">StackTransformer</a><a id="7907" class="Symbol">)(</a><a id="7909" href="verificationStackScripts.hoareTripleStackBasic.html#7909" class="Bound">stackCorrectness</a> <a id="7926" class="Symbol">:</a> <a id="7928" class="Symbol">(</a><a id="7929" href="verificationStackScripts.hoareTripleStackBasic.html#7929" class="Bound">time</a> <a id="7934" class="Symbol">:</a> <a id="7936" href="basicBitcoinDataType.html#694" class="Function">Time</a><a id="7940" class="Symbol">)(</a><a id="7942" href="verificationStackScripts.hoareTripleStackBasic.html#7942" class="Bound">msg</a> <a id="7946" class="Symbol">:</a> <a id="7948" href="basicBitcoinDataType.html#886" class="Datatype">Msg</a><a id="7951" class="Symbol">)(</a><a id="7953" href="verificationStackScripts.hoareTripleStackBasic.html#7953" class="Bound">s</a> <a id="7955" class="Symbol">:</a> <a id="7957" href="stack.html#772" class="Function">Stack</a><a id="7962" class="Symbol">)</a>
                                  <a id="7998" class="Symbol">→</a> <a id="8000" href="libraries.maybeLib.html#967" class="Function">liftPred2Maybe</a> <a id="8015" class="Symbol">(</a><a id="8016" href="verificationStackScripts.hoareTripleStackBasic.html#7825" class="Bound">ψ</a> <a id="8018" href="verificationStackScripts.hoareTripleStackBasic.html#7929" class="Bound">time</a> <a id="8023" href="verificationStackScripts.hoareTripleStackBasic.html#7942" class="Bound">msg</a><a id="8026" class="Symbol">)</a> <a id="8028" class="Symbol">(</a><a id="8029" href="verificationStackScripts.hoareTripleStackBasic.html#7880" class="Bound">stackfun</a> <a id="8038" href="verificationStackScripts.hoareTripleStackBasic.html#7929" class="Bound">time</a> <a id="8043" href="verificationStackScripts.hoareTripleStackBasic.html#7942" class="Bound">msg</a> <a id="8047" href="verificationStackScripts.hoareTripleStackBasic.html#7953" class="Bound">s</a><a id="8048" class="Symbol">)</a> <a id="8050" class="Symbol">→</a> <a id="8052" href="verificationStackScripts.hoareTripleStackBasic.html#7823" class="Bound">φ</a> <a id="8054" href="verificationStackScripts.hoareTripleStackBasic.html#7929" class="Bound">time</a> <a id="8059" href="verificationStackScripts.hoareTripleStackBasic.html#7942" class="Bound">msg</a> <a id="8063" href="verificationStackScripts.hoareTripleStackBasic.html#7953" class="Bound">s</a><a id="8064" class="Symbol">)</a>
                                  <a id="8100" class="Symbol">(</a><a id="8101" href="verificationStackScripts.hoareTripleStackBasic.html#8101" class="Bound">s</a> <a id="8103" class="Symbol">:</a> <a id="8105" href="verificationStackScripts.stackState.html#961" class="Record">StackState</a><a id="8115" class="Symbol">)</a>
                                  <a id="8151" class="Symbol">→</a> <a id="8153" class="Symbol">((</a><a id="8155" href="verificationStackScripts.sPredicate.html#2432" class="Function">stackPred2SPred</a> <a id="8171" href="verificationStackScripts.hoareTripleStackBasic.html#7825" class="Bound">ψ</a><a id="8172" class="Symbol">)</a> <a id="8174" href="libraries.maybeLib.html#1697" class="Function Operator">⁺</a><a id="8175" class="Symbol">)</a>
                                                    <a id="8229" class="Symbol">(</a><a id="8230" href="verificationStackScripts.stackState.html#2096" class="Function">stackTransform2StackStateTransform</a> <a id="8265" href="verificationStackScripts.hoareTripleStackBasic.html#7880" class="Bound">stackfun</a> <a id="8274" href="verificationStackScripts.hoareTripleStackBasic.html#8101" class="Bound">s</a><a id="8275" class="Symbol">)</a>
                                  <a id="8311" class="Symbol">→</a> <a id="8313" href="verificationStackScripts.sPredicate.html#2432" class="Function">stackPred2SPred</a> <a id="8329" href="verificationStackScripts.hoareTripleStackBasic.html#7823" class="Bound">φ</a> <a id="8331" href="verificationStackScripts.hoareTripleStackBasic.html#8101" class="Bound">s</a>
<a id="8333" href="verificationStackScripts.hoareTripleStackBasic.html#7788" class="Function">lift2StateCorrectnessStackFun&lt;=</a>  <a id="8366" href="verificationStackScripts.hoareTripleStackBasic.html#8366" class="Bound">φ</a> <a id="8368" href="verificationStackScripts.hoareTripleStackBasic.html#8368" class="Bound">ψ</a> <a id="8370" href="verificationStackScripts.hoareTripleStackBasic.html#8370" class="Bound">stackfun</a> <a id="8379" href="verificationStackScripts.hoareTripleStackBasic.html#8379" class="Bound">stackCorrectness</a> <a id="8396" href="verificationStackScripts.stackState.html#1005" class="InductiveConstructor Operator">⟨</a> <a id="8398" href="verificationStackScripts.hoareTripleStackBasic.html#8398" class="Bound">currentTime₁</a> <a id="8411" href="verificationStackScripts.stackState.html#1005" class="InductiveConstructor Operator">,</a> <a id="8413" href="verificationStackScripts.hoareTripleStackBasic.html#8413" class="Bound">msg₁</a> <a id="8418" href="verificationStackScripts.stackState.html#1005" class="InductiveConstructor Operator">,</a> <a id="8420" href="verificationStackScripts.hoareTripleStackBasic.html#8420" class="Bound">stack₁</a>  <a id="8428" href="verificationStackScripts.stackState.html#1005" class="InductiveConstructor Operator">⟩</a> <a id="8430" href="verificationStackScripts.hoareTripleStackBasic.html#8430" class="Bound">x</a>
              <a id="8446" class="Symbol">=</a> <a id="8448" href="verificationStackScripts.hoareTripleStackBasic.html#7129" class="Function">lemmaLift2StateCorrectnessStackFun&lt;=aux</a> <a id="8488" href="verificationStackScripts.hoareTripleStackBasic.html#8366" class="Bound">φ</a> <a id="8490" href="verificationStackScripts.hoareTripleStackBasic.html#8368" class="Bound">ψ</a> <a id="8492" class="Symbol">(</a><a id="8493" href="verificationStackScripts.hoareTripleStackBasic.html#8370" class="Bound">stackfun</a> <a id="8502" href="verificationStackScripts.hoareTripleStackBasic.html#8398" class="Bound">currentTime₁</a> <a id="8515" href="verificationStackScripts.hoareTripleStackBasic.html#8413" class="Bound">msg₁</a>  <a id="8521" href="verificationStackScripts.hoareTripleStackBasic.html#8420" class="Bound">stack₁</a><a id="8527" class="Symbol">)</a>
                    <a id="8549" href="verificationStackScripts.hoareTripleStackBasic.html#8398" class="Bound">currentTime₁</a> <a id="8562" href="verificationStackScripts.hoareTripleStackBasic.html#8413" class="Bound">msg₁</a> <a id="8567" href="verificationStackScripts.hoareTripleStackBasic.html#8420" class="Bound">stack₁</a> <a id="8574" href="verificationStackScripts.hoareTripleStackBasic.html#8430" class="Bound">x</a>  <a id="8577" class="Symbol">(</a><a id="8578" href="verificationStackScripts.hoareTripleStackBasic.html#8379" class="Bound">stackCorrectness</a> <a id="8595" href="verificationStackScripts.hoareTripleStackBasic.html#8398" class="Bound">currentTime₁</a> <a id="8608" href="verificationStackScripts.hoareTripleStackBasic.html#8413" class="Bound">msg₁</a> <a id="8613" href="verificationStackScripts.hoareTripleStackBasic.html#8420" class="Bound">stack₁</a><a id="8619" class="Symbol">)</a>



<a id="8624" class="Comment">-- Correctness of the stack function implies correctness of the Hoare triple</a>
<a id="8701" class="Comment">--    here generic</a>

<a id="lemmaHoareTripleStackPartToHoareTripleGeneric"></a><a id="8721" href="verificationStackScripts.hoareTripleStackBasic.html#8721" class="Function">lemmaHoareTripleStackPartToHoareTripleGeneric</a> <a id="8767" class="Symbol">:</a>
     <a id="8774" class="Symbol">(</a><a id="8775" href="verificationStackScripts.hoareTripleStackBasic.html#8775" class="Bound">stackfun</a> <a id="8784" class="Symbol">:</a> <a id="8786" href="stack.html#1228" class="Function">StackTransformer</a><a id="8802" class="Symbol">)</a>
     <a id="8809" class="Symbol">(</a><a id="8810" href="verificationStackScripts.hoareTripleStackBasic.html#8810" class="Bound">φ</a> <a id="8812" href="verificationStackScripts.hoareTripleStackBasic.html#8812" class="Bound">ψ</a> <a id="8814" class="Symbol">:</a> <a id="8816" href="stackPredicate.html#939" class="Function">StackPredicate</a><a id="8830" class="Symbol">)</a>
     <a id="8837" class="Symbol">→</a> <a id="8839" href="hoareTripleStack.html#1867" class="Record Operator">&lt;</a> <a id="8841" href="verificationStackScripts.hoareTripleStackBasic.html#8810" class="Bound">φ</a> <a id="8843" href="hoareTripleStack.html#1867" class="Record Operator">&gt;gˢ</a> <a id="8847" href="verificationStackScripts.hoareTripleStackBasic.html#8775" class="Bound">stackfun</a>  <a id="8857" href="hoareTripleStack.html#1867" class="Record Operator">&lt;</a> <a id="8859" href="verificationStackScripts.hoareTripleStackBasic.html#8812" class="Bound">ψ</a> <a id="8861" href="hoareTripleStack.html#1867" class="Record Operator">&gt;</a>
     <a id="8868" class="Symbol">→</a> <a id="8870" href="verificationStackScripts.stackHoareTriple.html#8200" class="Record Operator">&lt;</a> <a id="8872" href="verificationStackScripts.sPredicate.html#2432" class="Function">stackPred2SPred</a> <a id="8888" href="verificationStackScripts.hoareTripleStackBasic.html#8810" class="Bound">φ</a> <a id="8890" href="verificationStackScripts.stackHoareTriple.html#8200" class="Record Operator">&gt;ssgen</a>
        <a id="8905" href="verificationStackScripts.stackState.html#2096" class="Function">stackTransform2StackStateTransform</a>  <a id="8941" href="verificationStackScripts.hoareTripleStackBasic.html#8775" class="Bound">stackfun</a>
        <a id="8958" href="verificationStackScripts.stackHoareTriple.html#8200" class="Record Operator">&lt;</a> <a id="8960" href="verificationStackScripts.sPredicate.html#2432" class="Function">stackPred2SPred</a> <a id="8976" href="verificationStackScripts.hoareTripleStackBasic.html#8812" class="Bound">ψ</a> <a id="8978" href="verificationStackScripts.stackHoareTriple.html#8200" class="Record Operator">&gt;</a>
<a id="8980" href="verificationStackScripts.hoareTripleStackBasic.html#8721" class="Function">lemmaHoareTripleStackPartToHoareTripleGeneric</a> <a id="9026" href="verificationStackScripts.hoareTripleStackBasic.html#9026" class="Bound">stackfun</a>  <a id="9036" href="verificationStackScripts.hoareTripleStackBasic.html#9036" class="Bound">φ</a> <a id="9038" href="verificationStackScripts.hoareTripleStackBasic.html#9038" class="Bound">ψ</a>
    <a id="9044" class="Symbol">(</a><a id="9045" href="hoareTripleStack.html#1998" class="InductiveConstructor">hoareTripleStackGen</a> <a id="9065" href="verificationStackScripts.hoareTripleStackBasic.html#9065" class="Bound">==&gt;stg₁</a> <a id="9073" href="verificationStackScripts.hoareTripleStackBasic.html#9073" class="Bound">&lt;==stg₁</a><a id="9080" class="Symbol">)</a> <a id="9082" class="Symbol">.</a><a id="9083" href="verificationStackScripts.stackHoareTriple.html#8344" class="Field">==&gt;g</a> <a id="9088" href="verificationStackScripts.hoareTripleStackBasic.html#9088" class="Bound">s</a> <a id="9090" href="verificationStackScripts.hoareTripleStackBasic.html#9090" class="Bound">p</a>
     <a id="9097" class="Symbol">=</a> <a id="9099" href="verificationStackScripts.hoareTripleStackBasic.html#6273" class="Function">lift2StateCorrectnessStackFun=&gt;</a> <a id="9131" href="verificationStackScripts.hoareTripleStackBasic.html#9036" class="Bound">φ</a>  <a id="9134" href="verificationStackScripts.hoareTripleStackBasic.html#9038" class="Bound">ψ</a>  <a id="9137" href="verificationStackScripts.hoareTripleStackBasic.html#9026" class="Bound">stackfun</a> <a id="9146" href="verificationStackScripts.hoareTripleStackBasic.html#9065" class="Bound">==&gt;stg₁</a> <a id="9154" href="verificationStackScripts.hoareTripleStackBasic.html#9088" class="Bound">s</a> <a id="9156" href="verificationStackScripts.hoareTripleStackBasic.html#9090" class="Bound">p</a>
<a id="9158" href="verificationStackScripts.hoareTripleStackBasic.html#8721" class="Function">lemmaHoareTripleStackPartToHoareTripleGeneric</a> <a id="9204" href="verificationStackScripts.hoareTripleStackBasic.html#9204" class="Bound">stackfun</a>  <a id="9214" href="verificationStackScripts.hoareTripleStackBasic.html#9214" class="Bound">φ</a> <a id="9216" href="verificationStackScripts.hoareTripleStackBasic.html#9216" class="Bound">ψ</a>
    <a id="9222" class="Symbol">(</a><a id="9223" href="hoareTripleStack.html#1998" class="InductiveConstructor">hoareTripleStackGen</a> <a id="9243" href="verificationStackScripts.hoareTripleStackBasic.html#9243" class="Bound">==&gt;stg₁</a> <a id="9251" href="verificationStackScripts.hoareTripleStackBasic.html#9251" class="Bound">&lt;==stg₁</a><a id="9258" class="Symbol">)</a> <a id="9260" class="Symbol">.</a><a id="9261" href="verificationStackScripts.stackHoareTriple.html#8393" class="Field">&lt;==g</a> <a id="9266" href="verificationStackScripts.hoareTripleStackBasic.html#9266" class="Bound">s</a> <a id="9268" href="verificationStackScripts.hoareTripleStackBasic.html#9268" class="Bound">p</a>
     <a id="9275" class="Symbol">=</a> <a id="9277" href="verificationStackScripts.hoareTripleStackBasic.html#7788" class="Function">lift2StateCorrectnessStackFun&lt;=</a> <a id="9309" href="verificationStackScripts.hoareTripleStackBasic.html#9214" class="Bound">φ</a>  <a id="9312" href="verificationStackScripts.hoareTripleStackBasic.html#9216" class="Bound">ψ</a>  <a id="9315" href="verificationStackScripts.hoareTripleStackBasic.html#9204" class="Bound">stackfun</a> <a id="9324" href="verificationStackScripts.hoareTripleStackBasic.html#9251" class="Bound">&lt;==stg₁</a> <a id="9332" href="verificationStackScripts.hoareTripleStackBasic.html#9266" class="Bound">s</a> <a id="9334" href="verificationStackScripts.hoareTripleStackBasic.html#9268" class="Bound">p</a>



<a id="9339" class="Comment">-- Hoare triple correctness of the stack function of an instruction</a>
<a id="9407" class="Comment">-- implies correctness of the Hoare triple for that instruction</a>

<a id="hoartTripleStackPartImpliesHoareTriple"></a><a id="9472" href="verificationStackScripts.hoareTripleStackBasic.html#9472" class="Function">hoartTripleStackPartImpliesHoareTriple</a> <a id="9511" class="Symbol">:</a>
     <a id="9518" class="Symbol">(</a><a id="9519" href="verificationStackScripts.hoareTripleStackBasic.html#9519" class="Bound">instr</a> <a id="9525" class="Symbol">:</a> <a id="9527" href="instructionBasic.html#775" class="Datatype">InstructionBasic</a><a id="9543" class="Symbol">)</a>
     <a id="9550" class="Symbol">(</a><a id="9551" href="verificationStackScripts.hoareTripleStackBasic.html#9551" class="Bound">φ</a> <a id="9553" href="verificationStackScripts.hoareTripleStackBasic.html#9553" class="Bound">ψ</a> <a id="9555" class="Symbol">:</a> <a id="9557" href="stackPredicate.html#939" class="Function">StackPredicate</a><a id="9571" class="Symbol">)</a>
     <a id="9578" class="Symbol">→</a> <a id="9580" href="verificationStackScripts.hoareTripleStackBasic.html#2713" class="Function Operator">&lt;</a> <a id="9582" href="verificationStackScripts.hoareTripleStackBasic.html#9551" class="Bound">φ</a> <a id="9584" href="verificationStackScripts.hoareTripleStackBasic.html#2713" class="Function Operator">&gt;stackb</a> <a id="9592" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="9594" href="verificationStackScripts.hoareTripleStackBasic.html#9519" class="Bound">instr</a> <a id="9600" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="9602" href="verificationStackScripts.hoareTripleStackBasic.html#2713" class="Function Operator">&lt;</a> <a id="9604" href="verificationStackScripts.hoareTripleStackBasic.html#9553" class="Bound">ψ</a> <a id="9606" href="verificationStackScripts.hoareTripleStackBasic.html#2713" class="Function Operator">&gt;</a>
     <a id="9613" class="Symbol">→</a> <a id="9615" href="verificationStackScripts.stackHoareTriple.html#1619" class="Record Operator">&lt;</a> <a id="9617" href="verificationStackScripts.sPredicate.html#2432" class="Function">stackPred2SPred</a> <a id="9633" href="verificationStackScripts.hoareTripleStackBasic.html#9551" class="Bound">φ</a>   <a id="9637" href="verificationStackScripts.stackHoareTriple.html#1619" class="Record Operator">&gt;iff</a> <a id="9642" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="9644" href="verificationStackScripts.hoareTripleStackBasic.html#9519" class="Bound">instr</a> <a id="9650" href="Data.List.Base.html#5025" class="Function Operator">]</a>  <a id="9653" href="verificationStackScripts.stackHoareTriple.html#1619" class="Record Operator">&lt;</a>  <a id="9656" href="verificationStackScripts.sPredicate.html#2432" class="Function">stackPred2SPred</a> <a id="9672" href="verificationStackScripts.hoareTripleStackBasic.html#9553" class="Bound">ψ</a>  <a id="9675" href="verificationStackScripts.stackHoareTriple.html#1619" class="Record Operator">&gt;</a>

<a id="9678" href="verificationStackScripts.hoareTripleStackBasic.html#9472" class="Function">hoartTripleStackPartImpliesHoareTriple</a> <a id="9717" href="verificationStackScripts.hoareTripleStackBasic.html#9717" class="Bound">instr</a> <a id="9723" href="verificationStackScripts.hoareTripleStackBasic.html#9723" class="Bound">φ</a> <a id="9725" href="verificationStackScripts.hoareTripleStackBasic.html#9725" class="Bound">ψ</a> <a id="9727" href="verificationStackScripts.hoareTripleStackBasic.html#9727" class="Bound">x</a>
   <a id="9732" class="Symbol">=</a> <a id="9734" href="verificationStackScripts.hoareTripleStackBasic.html#2928" class="Function">lemmaGenericHoareTripleImpliesHoareTriple</a> <a id="9776" href="verificationStackScripts.hoareTripleStackBasic.html#9717" class="Bound">instr</a>
      <a id="9788" class="Symbol">(</a><a id="9789" href="verificationStackScripts.sPredicate.html#2432" class="Function">stackPred2SPred</a> <a id="9805" href="verificationStackScripts.hoareTripleStackBasic.html#9723" class="Bound">φ</a><a id="9806" class="Symbol">)</a>
      <a id="9814" class="Symbol">(</a><a id="9815" href="verificationStackScripts.sPredicate.html#2432" class="Function">stackPred2SPred</a> <a id="9831" href="verificationStackScripts.hoareTripleStackBasic.html#9725" class="Bound">ψ</a><a id="9832" class="Symbol">)</a>
      <a id="9840" class="Symbol">(</a><a id="9841" href="verificationStackScripts.hoareTripleStackBasic.html#3936" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="9884" href="verificationStackScripts.hoareTripleStackBasic.html#9717" class="Bound">instr</a>
         <a id="9899" class="Symbol">(</a><a id="9900" href="verificationStackScripts.sPredicate.html#2432" class="Function">stackPred2SPred</a> <a id="9916" href="verificationStackScripts.hoareTripleStackBasic.html#9723" class="Bound">φ</a><a id="9917" class="Symbol">)</a>
        <a id="9927" class="Symbol">(</a><a id="9928" href="verificationStackScripts.sPredicate.html#2432" class="Function">stackPred2SPred</a> <a id="9944" href="verificationStackScripts.hoareTripleStackBasic.html#9725" class="Bound">ψ</a><a id="9945" class="Symbol">)</a>
        <a id="9955" class="Symbol">(</a><a id="9956" href="verificationStackScripts.hoareTripleStackBasic.html#8721" class="Function">lemmaHoareTripleStackPartToHoareTripleGeneric</a>
           <a id="10013" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟦</a> <a id="10015" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="10017" href="verificationStackScripts.hoareTripleStackBasic.html#9717" class="Bound">instr</a> <a id="10023" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="10025" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟧ˢ</a>  <a id="10029" href="verificationStackScripts.hoareTripleStackBasic.html#9723" class="Bound">φ</a> <a id="10031" href="verificationStackScripts.hoareTripleStackBasic.html#9725" class="Bound">ψ</a> <a id="10033" href="verificationStackScripts.hoareTripleStackBasic.html#9727" class="Bound">x</a><a id="10034" class="Symbol">))</a>
</pre></body></html>