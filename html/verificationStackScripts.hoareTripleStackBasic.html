<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>verificationStackScripts.hoareTripleStackBasic</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="basicBitcoinDataType.html" class="Module">basicBitcoinDataType</a>

<a id="35" class="Keyword">module</a> <a id="42" href="verificationStackScripts.hoareTripleStackBasic.html" class="Module">verificationStackScripts.hoareTripleStackBasic</a> <a id="89" class="Symbol">(</a><a id="90" href="verificationStackScripts.hoareTripleStackBasic.html#90" class="Bound">param</a> <a id="96" class="Symbol">:</a> <a id="98" href="basicBitcoinDataType.html#1169" class="Record">GlobalParameters</a><a id="114" class="Symbol">)</a> <a id="116" class="Keyword">where</a>

<a id="123" class="Keyword">open</a> <a id="128" class="Keyword">import</a> <a id="135" href="Data.Nat.html" class="Module">Data.Nat</a>  <a id="145" class="Keyword">renaming</a> <a id="154" class="Symbol">(</a><a id="155" href="Data.Nat.Base.html#1535" class="Datatype Operator">_≤_</a> <a id="159" class="Symbol">to</a> <a id="162" class="Datatype Operator">_≤&#39;_</a> <a id="167" class="Symbol">;</a> <a id="169" href="Data.Nat.Base.html#1645" class="Function Operator">_&lt;_</a> <a id="173" class="Symbol">to</a> <a id="176" class="Function Operator">_&lt;&#39;_</a><a id="180" class="Symbol">)</a>
<a id="182" class="Keyword">open</a> <a id="187" class="Keyword">import</a> <a id="194" href="Data.List.html" class="Module">Data.List</a> <a id="204" class="Keyword">hiding</a> <a id="211" class="Symbol">(</a><a id="212" href="Data.List.Base.html#1810" class="Function Operator">_++_</a><a id="216" class="Symbol">)</a>
<a id="218" class="Keyword">open</a> <a id="223" class="Keyword">import</a> <a id="230" href="Data.Sum.html" class="Module">Data.Sum</a>
<a id="239" class="Keyword">open</a> <a id="244" class="Keyword">import</a> <a id="251" href="Data.Maybe.html" class="Module">Data.Maybe</a>
<a id="262" class="Keyword">open</a> <a id="267" class="Keyword">import</a> <a id="274" href="Data.Unit.html" class="Module">Data.Unit</a>  <a id="285" class="Keyword">hiding</a> <a id="292" class="Symbol">(</a><a id="293" href="Data.Unit.Base.html#1023" class="Record Operator">_≤_</a><a id="296" class="Symbol">)</a>
<a id="298" class="Keyword">open</a> <a id="303" class="Keyword">import</a> <a id="310" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="321" class="Keyword">open</a> <a id="326" class="Keyword">import</a> <a id="333" href="Data.Bool.html" class="Module">Data.Bool</a>  <a id="344" class="Keyword">hiding</a> <a id="351" class="Symbol">(</a><a id="352" href="Data.Bool.Base.html#672" class="Datatype Operator">_≤_</a> <a id="356" class="Symbol">;</a> <a id="358" href="Data.Bool.Base.html#1283" class="Function Operator">if_then_else_</a> <a id="372" class="Symbol">)</a> <a id="374" class="Keyword">renaming</a> <a id="383" class="Symbol">(</a><a id="384" href="Data.Bool.Base.html#986" class="Function Operator">_∧_</a> <a id="388" class="Symbol">to</a> <a id="391" class="Function Operator">_∧b_</a> <a id="396" class="Symbol">;</a> <a id="398" href="Data.Bool.Base.html#1044" class="Function Operator">_∨_</a> <a id="402" class="Symbol">to</a> <a id="405" class="Function Operator">_∨b_</a> <a id="410" class="Symbol">;</a> <a id="412" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="414" class="Symbol">to</a> <a id="417" class="Function">True</a><a id="421" class="Symbol">)</a>
<a id="423" class="Keyword">open</a> <a id="428" class="Keyword">import</a> <a id="435" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="450" class="Keyword">hiding</a> <a id="457" class="Symbol">(</a><a id="458" href="Data.Bool.Base.html#672" class="Datatype Operator">_≤_</a> <a id="462" class="Symbol">;</a> <a id="464" href="Data.Bool.Base.html#1283" class="Function Operator">if_then_else_</a> <a id="478" class="Symbol">)</a> <a id="480" class="Keyword">renaming</a> <a id="489" class="Symbol">(</a><a id="490" href="Data.Bool.Base.html#986" class="Function Operator">_∧_</a> <a id="494" class="Symbol">to</a> <a id="497" class="Function Operator">_∧b_</a> <a id="502" class="Symbol">;</a> <a id="504" href="Data.Bool.Base.html#1044" class="Function Operator">_∨_</a> <a id="508" class="Symbol">to</a> <a id="511" class="Function Operator">_∨b_</a> <a id="516" class="Symbol">;</a> <a id="518" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="520" class="Symbol">to</a> <a id="523" class="Function">True</a><a id="527" class="Symbol">)</a>
<a id="529" class="Keyword">open</a> <a id="534" class="Keyword">import</a> <a id="541" href="Data.Product.html" class="Module">Data.Product</a> <a id="554" class="Keyword">renaming</a> <a id="563" class="Symbol">(</a><a id="564" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="568" class="Symbol">to</a> <a id="571" class="InductiveConstructor Operator">_,,_</a> <a id="576" class="Symbol">)</a>
<a id="578" class="Keyword">open</a> <a id="583" class="Keyword">import</a> <a id="590" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="604" class="Keyword">hiding</a> <a id="611" class="Symbol">(</a><a id="612" href="Data.Nat.Base.html#1535" class="Datatype Operator">_≤_</a><a id="615" class="Symbol">)</a>
<a id="617" class="Keyword">import</a> <a id="624" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="662" class="Symbol">as</a> <a id="665" class="Module">Eq</a>
<a id="668" class="Keyword">open</a> <a id="673" href="Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="676" class="Keyword">using</a> <a id="682" class="Symbol">(</a><a id="683" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="686" class="Symbol">;</a> <a id="688" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="692" class="Symbol">;</a> <a id="694" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a><a id="698" class="Symbol">;</a> <a id="700" class="Keyword">module</a> <a id="707" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a><a id="718" class="Symbol">;</a> <a id="720" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a><a id="723" class="Symbol">)</a>
<a id="725" class="Keyword">open</a> <a id="730" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a>
<a id="742" class="Keyword">open</a> <a id="747" class="Keyword">import</a> <a id="754" href="Agda.Builtin.Equality.html" class="Module">Agda.Builtin.Equality</a>


<a id="778" class="Comment">-- our libraries</a>
<a id="795" class="Keyword">open</a> <a id="800" class="Keyword">import</a> <a id="807" href="libraries.listLib.html" class="Module">libraries.listLib</a>
<a id="825" class="Keyword">open</a> <a id="830" class="Keyword">import</a> <a id="837" href="libraries.natLib.html" class="Module">libraries.natLib</a>
<a id="854" class="Keyword">open</a> <a id="859" class="Keyword">import</a> <a id="866" href="libraries.boolLib.html" class="Module">libraries.boolLib</a>
<a id="884" class="Keyword">open</a> <a id="889" class="Keyword">import</a> <a id="896" href="libraries.andLib.html" class="Module">libraries.andLib</a>
<a id="913" class="Keyword">open</a> <a id="918" class="Keyword">import</a> <a id="925" href="libraries.maybeLib.html" class="Module">libraries.maybeLib</a>
<a id="944" class="Keyword">open</a> <a id="949" class="Keyword">import</a> <a id="956" href="libraries.emptyLib.html" class="Module">libraries.emptyLib</a>


<a id="977" class="Keyword">open</a> <a id="982" class="Keyword">import</a> <a id="989" href="stack.html" class="Module">stack</a>
<a id="995" class="Keyword">open</a> <a id="1000" class="Keyword">import</a> <a id="1007" href="stackPredicate.html" class="Module">stackPredicate</a>
<a id="1022" class="Keyword">open</a> <a id="1027" class="Keyword">import</a> <a id="1034" href="instructionBasic.html" class="Module">instructionBasic</a>
<a id="1051" class="Keyword">open</a> <a id="1056" class="Keyword">import</a> <a id="1063" href="hoareTripleStack.html" class="Module">hoareTripleStack</a> <a id="1080" href="verificationStackScripts.hoareTripleStackBasic.html#90" class="Bound">param</a>
<a id="1086" class="Keyword">open</a> <a id="1091" class="Keyword">import</a> <a id="1098" href="verificationStackScripts.stackState.html" class="Module">verificationStackScripts.stackState</a>
<a id="1134" class="Keyword">open</a> <a id="1139" class="Keyword">import</a> <a id="1146" href="verificationStackScripts.sPredicate.html" class="Module">verificationStackScripts.sPredicate</a>
<a id="1182" class="Keyword">open</a> <a id="1187" class="Keyword">import</a> <a id="1194" href="verificationStackScripts.semanticsStackInstructions.html" class="Module">verificationStackScripts.semanticsStackInstructions</a> <a id="1246" href="verificationStackScripts.hoareTripleStackBasic.html#90" class="Bound">param</a>
<a id="1252" class="Keyword">open</a> <a id="1257" class="Keyword">import</a> <a id="1264" href="verificationStackScripts.stackSemanticsInstructionsBasic.html" class="Module">verificationStackScripts.stackSemanticsInstructionsBasic</a> <a id="1321" href="verificationStackScripts.hoareTripleStackBasic.html#90" class="Bound">param</a>
<a id="1327" class="Keyword">open</a> <a id="1332" class="Keyword">import</a> <a id="1339" href="verificationStackScripts.stackVerificationLemmas.html" class="Module">verificationStackScripts.stackVerificationLemmas</a> <a id="1388" href="verificationStackScripts.hoareTripleStackBasic.html#90" class="Bound">param</a>
<a id="1394" class="Keyword">open</a> <a id="1399" class="Keyword">import</a> <a id="1406" href="verificationStackScripts.stackHoareTriple.html" class="Module">verificationStackScripts.stackHoareTriple</a> <a id="1448" href="verificationStackScripts.hoareTripleStackBasic.html#90" class="Bound">param</a>


<a id="1456" class="Comment">--------------------------------------------------------------------------</a>
<a id="1531" class="Comment">--   defines hoare triples for stack functions</a>
<a id="1578" class="Comment">--   and that their correspondence to the full hoare triples for nonif instructions</a>
<a id="1662" class="Comment">---------------------------------------------------------------------------------------</a>


<a id="1752" class="Comment">-- Hoare triple  with stack instructions</a>
<a id="&lt;_&gt;stackb_&lt;_&gt;"></a><a id="1793" href="verificationStackScripts.hoareTripleStackBasic.html#1793" class="Function Operator">&lt;_&gt;stackb_&lt;_&gt;</a> <a id="1807" class="Symbol">:</a> <a id="1809" href="stackPredicate.html#909" class="Function">StackPredicate</a> <a id="1824" class="Symbol">→</a> <a id="1826" href="instructionBasic.html#1042" class="Function">BitcoinScriptBasic</a> <a id="1845" class="Symbol">→</a> <a id="1847" href="stackPredicate.html#909" class="Function">StackPredicate</a> <a id="1862" class="Symbol">→</a> <a id="1864" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="1868" href="verificationStackScripts.hoareTripleStackBasic.html#1793" class="Function Operator">&lt;</a> <a id="1870" href="verificationStackScripts.hoareTripleStackBasic.html#1870" class="Bound">φ</a> <a id="1872" href="verificationStackScripts.hoareTripleStackBasic.html#1793" class="Function Operator">&gt;stackb</a> <a id="1880" href="verificationStackScripts.hoareTripleStackBasic.html#1880" class="Bound">prog</a> <a id="1885" href="verificationStackScripts.hoareTripleStackBasic.html#1793" class="Function Operator">&lt;</a> <a id="1887" href="verificationStackScripts.hoareTripleStackBasic.html#1887" class="Bound">ψ</a> <a id="1889" href="verificationStackScripts.hoareTripleStackBasic.html#1793" class="Function Operator">&gt;</a> <a id="1891" class="Symbol">=</a> <a id="1893" href="hoareTripleStack.html#1354" class="Record Operator">&lt;</a> <a id="1895" href="verificationStackScripts.hoareTripleStackBasic.html#1870" class="Bound">φ</a> <a id="1897" href="hoareTripleStack.html#1354" class="Record Operator">&gt;gˢ</a> <a id="1901" class="Symbol">(</a><a id="1902" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟦</a> <a id="1904" href="verificationStackScripts.hoareTripleStackBasic.html#1880" class="Bound">prog</a>  <a id="1910" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟧ˢ</a> <a id="1913" class="Symbol">)</a> <a id="1915" href="hoareTripleStack.html#1354" class="Record Operator">&lt;</a> <a id="1917" href="verificationStackScripts.hoareTripleStackBasic.html#1887" class="Bound">ψ</a> <a id="1919" href="hoareTripleStack.html#1354" class="Record Operator">&gt;</a>




<a id="1925" class="Comment">-- Proof that the generic Hoare triple implies the standard one for an instruction</a>
<a id="lemmaGenericHoareTripleImpliesHoareTriple"></a><a id="2008" href="verificationStackScripts.hoareTripleStackBasic.html#2008" class="Function">lemmaGenericHoareTripleImpliesHoareTriple</a> <a id="2050" class="Symbol">:</a> <a id="2052" class="Symbol">(</a><a id="2053" href="verificationStackScripts.hoareTripleStackBasic.html#2053" class="Bound">instr</a> <a id="2059" class="Symbol">:</a> <a id="2061" href="instructionBasic.html#745" class="Datatype">InstructionBasic</a><a id="2077" class="Symbol">)</a>
                                            <a id="2123" class="Symbol">(</a><a id="2124" href="verificationStackScripts.hoareTripleStackBasic.html#2124" class="Bound">φ</a> <a id="2126" href="verificationStackScripts.hoareTripleStackBasic.html#2126" class="Bound">ψ</a> <a id="2128" class="Symbol">:</a> <a id="2130" href="verificationStackScripts.sPredicate.html#1186" class="Function">StackStatePred</a><a id="2144" class="Symbol">)</a>
                                            <a id="2190" class="Symbol">→</a> <a id="2192" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&lt;</a> <a id="2194" href="verificationStackScripts.hoareTripleStackBasic.html#2124" class="Bound">φ</a> <a id="2196" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&gt;ssgen</a> <a id="2203" href="verificationStackScripts.semanticsStackInstructions.html#1063" class="Function Operator">⟦</a> <a id="2205" href="verificationStackScripts.hoareTripleStackBasic.html#2053" class="Bound">instr</a> <a id="2211" href="verificationStackScripts.semanticsStackInstructions.html#1063" class="Function Operator">⟧ₛ</a>  <a id="2215" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&lt;</a> <a id="2217" href="verificationStackScripts.hoareTripleStackBasic.html#2126" class="Bound">ψ</a> <a id="2219" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&gt;</a>
                                            <a id="2265" class="Symbol">→</a> <a id="2267" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&lt;</a> <a id="2269" href="verificationStackScripts.hoareTripleStackBasic.html#2124" class="Bound">φ</a> <a id="2271" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&gt;ⁱᶠᶠ</a> <a id="2276" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="2278" href="verificationStackScripts.hoareTripleStackBasic.html#2053" class="Bound">instr</a> <a id="2284" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="2286" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&lt;</a> <a id="2288" href="verificationStackScripts.hoareTripleStackBasic.html#2126" class="Bound">ψ</a> <a id="2290" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&gt;</a>
<a id="2292" href="verificationStackScripts.hoareTripleStackBasic.html#2008" class="Function">lemmaGenericHoareTripleImpliesHoareTriple</a> <a id="2334" href="verificationStackScripts.hoareTripleStackBasic.html#2334" class="Bound">instr</a> <a id="2340" href="verificationStackScripts.hoareTripleStackBasic.html#2340" class="Bound">φ</a> <a id="2342" href="verificationStackScripts.hoareTripleStackBasic.html#2342" class="Bound">ψ</a> <a id="2344" href="verificationStackScripts.hoareTripleStackBasic.html#2344" class="Bound">prog</a> <a id="2349" class="Symbol">.</a><a id="2350" href="verificationStackScripts.stackHoareTriple.html#1711" class="Field">==&gt;</a> <a id="2354" class="Symbol">=</a> <a id="2356" href="verificationStackScripts.hoareTripleStackBasic.html#2344" class="Bound">prog</a> <a id="2361" class="Symbol">.</a><a id="2362" href="verificationStackScripts.stackHoareTriple.html#8314" class="Field">==&gt;g</a>
<a id="2367" href="verificationStackScripts.hoareTripleStackBasic.html#2008" class="Function">lemmaGenericHoareTripleImpliesHoareTriple</a> <a id="2409" href="verificationStackScripts.hoareTripleStackBasic.html#2409" class="Bound">instr</a> <a id="2415" href="verificationStackScripts.hoareTripleStackBasic.html#2415" class="Bound">φ</a> <a id="2417" href="verificationStackScripts.hoareTripleStackBasic.html#2417" class="Bound">ψ</a> <a id="2419" href="verificationStackScripts.hoareTripleStackBasic.html#2419" class="Bound">prog</a> <a id="2424" class="Symbol">.</a><a id="2425" href="verificationStackScripts.stackHoareTriple.html#1763" class="Field">&lt;==</a> <a id="2429" class="Symbol">=</a> <a id="2431" href="verificationStackScripts.hoareTripleStackBasic.html#2419" class="Bound">prog</a> <a id="2436" class="Symbol">.</a><a id="2437" href="verificationStackScripts.stackHoareTriple.html#8363" class="Field">&lt;==g</a>


<a id="lemmaGenericHoareTripleImpliesHoareTriple&#39;&#39;"></a><a id="2444" href="verificationStackScripts.hoareTripleStackBasic.html#2444" class="Function">lemmaGenericHoareTripleImpliesHoareTriple&#39;&#39;</a> <a id="2488" class="Symbol">:</a> <a id="2490" class="Symbol">(</a><a id="2491" href="verificationStackScripts.hoareTripleStackBasic.html#2491" class="Bound">prog</a> <a id="2496" class="Symbol">:</a> <a id="2498" href="instructionBasic.html#1042" class="Function">BitcoinScriptBasic</a><a id="2516" class="Symbol">)</a>
                                            <a id="2562" class="Symbol">(</a><a id="2563" href="verificationStackScripts.hoareTripleStackBasic.html#2563" class="Bound">φ</a> <a id="2565" href="verificationStackScripts.hoareTripleStackBasic.html#2565" class="Bound">ψ</a> <a id="2567" class="Symbol">:</a> <a id="2569" href="verificationStackScripts.sPredicate.html#1186" class="Function">StackStatePred</a><a id="2583" class="Symbol">)</a>
                                            <a id="2629" class="Symbol">→</a> <a id="2631" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&lt;</a> <a id="2633" href="verificationStackScripts.hoareTripleStackBasic.html#2563" class="Bound">φ</a> <a id="2635" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&gt;ssgen</a> <a id="2642" href="verificationStackScripts.semanticsStackInstructions.html#1260" class="Function Operator">⟦</a> <a id="2644" href="verificationStackScripts.hoareTripleStackBasic.html#2491" class="Bound">prog</a> <a id="2649" href="verificationStackScripts.semanticsStackInstructions.html#1260" class="Function Operator">⟧</a>  <a id="2652" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&lt;</a> <a id="2654" href="verificationStackScripts.hoareTripleStackBasic.html#2565" class="Bound">ψ</a> <a id="2656" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&gt;</a>
                                            <a id="2702" class="Symbol">→</a> <a id="2704" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&lt;</a> <a id="2706" href="verificationStackScripts.hoareTripleStackBasic.html#2563" class="Bound">φ</a> <a id="2708" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&gt;ⁱᶠᶠ</a> <a id="2713" href="verificationStackScripts.hoareTripleStackBasic.html#2491" class="Bound">prog</a> <a id="2718" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&lt;</a> <a id="2720" href="verificationStackScripts.hoareTripleStackBasic.html#2565" class="Bound">ψ</a> <a id="2722" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&gt;</a>
<a id="2724" href="verificationStackScripts.hoareTripleStackBasic.html#2444" class="Function">lemmaGenericHoareTripleImpliesHoareTriple&#39;&#39;</a> <a id="2768" href="verificationStackScripts.hoareTripleStackBasic.html#2768" class="Bound">prog</a> <a id="2773" href="verificationStackScripts.hoareTripleStackBasic.html#2773" class="Bound">φ</a> <a id="2775" href="verificationStackScripts.hoareTripleStackBasic.html#2775" class="Bound">ψ</a> <a id="2777" href="verificationStackScripts.hoareTripleStackBasic.html#2777" class="Bound">prog₁</a> <a id="2783" class="Symbol">.</a><a id="2784" href="verificationStackScripts.stackHoareTriple.html#1711" class="Field">==&gt;</a> <a id="2788" class="Symbol">=</a> <a id="2790" href="verificationStackScripts.hoareTripleStackBasic.html#2777" class="Bound">prog₁</a> <a id="2796" class="Symbol">.</a><a id="2797" href="verificationStackScripts.stackHoareTriple.html#8314" class="Field">==&gt;g</a>
<a id="2802" href="verificationStackScripts.hoareTripleStackBasic.html#2444" class="Function">lemmaGenericHoareTripleImpliesHoareTriple&#39;&#39;</a> <a id="2846" href="verificationStackScripts.hoareTripleStackBasic.html#2846" class="Bound">prog</a> <a id="2851" href="verificationStackScripts.hoareTripleStackBasic.html#2851" class="Bound">φ</a> <a id="2853" href="verificationStackScripts.hoareTripleStackBasic.html#2853" class="Bound">ψ</a> <a id="2855" href="verificationStackScripts.hoareTripleStackBasic.html#2855" class="Bound">prog₁</a> <a id="2861" class="Symbol">.</a><a id="2862" href="verificationStackScripts.stackHoareTriple.html#1763" class="Field">&lt;==</a> <a id="2866" class="Symbol">=</a> <a id="2868" href="verificationStackScripts.hoareTripleStackBasic.html#2855" class="Bound">prog₁</a> <a id="2874" class="Symbol">.</a><a id="2875" href="verificationStackScripts.stackHoareTriple.html#8363" class="Field">&lt;==g</a>



<a id="2883" class="Comment">-- intermediate step towards showing that the</a>
<a id="2929" class="Comment">--   Hoare triple of a stack function implies</a>
<a id="2975" class="Comment">--   the Hoare triple of the instruction</a>
<a id="lemmaNonIfInstrGenericCondImpliesTripleaux"></a><a id="3016" href="verificationStackScripts.hoareTripleStackBasic.html#3016" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="3059" class="Symbol">:</a>
          <a id="3071" class="Symbol">(</a><a id="3072" href="verificationStackScripts.hoareTripleStackBasic.html#3072" class="Bound">op</a> <a id="3075" class="Symbol">:</a> <a id="3077" href="instructionBasic.html#745" class="Datatype">InstructionBasic</a><a id="3093" class="Symbol">)</a>
          <a id="3105" class="Symbol">(</a><a id="3106" href="verificationStackScripts.hoareTripleStackBasic.html#3106" class="Bound">φ</a> <a id="3108" href="verificationStackScripts.hoareTripleStackBasic.html#3108" class="Bound">ψ</a> <a id="3110" class="Symbol">:</a> <a id="3112" href="verificationStackScripts.sPredicate.html#1186" class="Function">StackStatePred</a><a id="3126" class="Symbol">)</a>
          <a id="3138" class="Symbol">→</a> <a id="3140" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&lt;</a> <a id="3142" href="verificationStackScripts.hoareTripleStackBasic.html#3106" class="Bound">φ</a> <a id="3144" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&gt;ssgen</a> <a id="3151" href="verificationStackScripts.stackState.html#2066" class="Function">stackTransform2StackStateTransform</a> <a id="3186" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟦</a> <a id="3188" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="3190" href="verificationStackScripts.hoareTripleStackBasic.html#3072" class="Bound">op</a> <a id="3193" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="3195" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟧ˢ</a> <a id="3198" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&lt;</a> <a id="3200" href="verificationStackScripts.hoareTripleStackBasic.html#3108" class="Bound">ψ</a> <a id="3202" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&gt;</a>
          <a id="3214" class="Symbol">→</a> <a id="3216" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&lt;</a> <a id="3218" href="verificationStackScripts.hoareTripleStackBasic.html#3106" class="Bound">φ</a> <a id="3220" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&gt;ssgen</a> <a id="3227" href="verificationStackScripts.semanticsStackInstructions.html#1063" class="Function Operator">⟦</a> <a id="3229" href="verificationStackScripts.hoareTripleStackBasic.html#3072" class="Bound">op</a> <a id="3232" href="verificationStackScripts.semanticsStackInstructions.html#1063" class="Function Operator">⟧ₛ</a>  <a id="3236" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&lt;</a> <a id="3238" href="verificationStackScripts.hoareTripleStackBasic.html#3108" class="Bound">ψ</a> <a id="3240" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&gt;</a>
<a id="3242" href="verificationStackScripts.hoareTripleStackBasic.html#3016" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="3285" href="instructionBasic.html#776" class="InductiveConstructor">opEqual</a>  <a id="3294" href="verificationStackScripts.hoareTripleStackBasic.html#3294" class="Bound">φ</a> <a id="3296" href="verificationStackScripts.hoareTripleStackBasic.html#3296" class="Bound">ψ</a> <a id="3298" href="verificationStackScripts.hoareTripleStackBasic.html#3298" class="Bound">x</a> <a id="3300" class="Symbol">=</a> <a id="3302" href="verificationStackScripts.hoareTripleStackBasic.html#3298" class="Bound">x</a>
<a id="3304" href="verificationStackScripts.hoareTripleStackBasic.html#3016" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="3347" href="instructionBasic.html#784" class="InductiveConstructor">opAdd</a>  <a id="3354" href="verificationStackScripts.hoareTripleStackBasic.html#3354" class="Bound">φ</a> <a id="3356" href="verificationStackScripts.hoareTripleStackBasic.html#3356" class="Bound">ψ</a> <a id="3358" href="verificationStackScripts.hoareTripleStackBasic.html#3358" class="Bound">x</a> <a id="3360" class="Symbol">=</a> <a id="3362" href="verificationStackScripts.hoareTripleStackBasic.html#3358" class="Bound">x</a>
<a id="3364" href="verificationStackScripts.hoareTripleStackBasic.html#3016" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="3407" class="Symbol">(</a><a id="3408" href="instructionBasic.html#950" class="InductiveConstructor">opPush</a> <a id="3415" href="verificationStackScripts.hoareTripleStackBasic.html#3415" class="Bound">x₁</a><a id="3417" class="Symbol">)</a>  <a id="3420" href="verificationStackScripts.hoareTripleStackBasic.html#3420" class="Bound">φ</a> <a id="3422" href="verificationStackScripts.hoareTripleStackBasic.html#3422" class="Bound">ψ</a> <a id="3424" href="verificationStackScripts.hoareTripleStackBasic.html#3424" class="Bound">x</a> <a id="3426" class="Symbol">=</a> <a id="3428" href="verificationStackScripts.hoareTripleStackBasic.html#3424" class="Bound">x</a>
<a id="3430" href="verificationStackScripts.hoareTripleStackBasic.html#3016" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="3473" href="instructionBasic.html#790" class="InductiveConstructor">opSub</a>  <a id="3480" href="verificationStackScripts.hoareTripleStackBasic.html#3480" class="Bound">φ</a> <a id="3482" href="verificationStackScripts.hoareTripleStackBasic.html#3482" class="Bound">ψ</a> <a id="3484" href="verificationStackScripts.hoareTripleStackBasic.html#3484" class="Bound">x</a> <a id="3486" class="Symbol">=</a> <a id="3488" href="verificationStackScripts.hoareTripleStackBasic.html#3484" class="Bound">x</a>
<a id="3490" href="verificationStackScripts.hoareTripleStackBasic.html#3016" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="3533" href="instructionBasic.html#796" class="InductiveConstructor">opVerify</a>  <a id="3543" href="verificationStackScripts.hoareTripleStackBasic.html#3543" class="Bound">φ</a> <a id="3545" href="verificationStackScripts.hoareTripleStackBasic.html#3545" class="Bound">ψ</a> <a id="3547" href="verificationStackScripts.hoareTripleStackBasic.html#3547" class="Bound">x</a> <a id="3549" class="Symbol">=</a> <a id="3551" href="verificationStackScripts.hoareTripleStackBasic.html#3547" class="Bound">x</a>
<a id="3553" href="verificationStackScripts.hoareTripleStackBasic.html#3016" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="3596" href="instructionBasic.html#915" class="InductiveConstructor">opCheckSig</a>  <a id="3608" href="verificationStackScripts.hoareTripleStackBasic.html#3608" class="Bound">φ</a> <a id="3610" href="verificationStackScripts.hoareTripleStackBasic.html#3610" class="Bound">ψ</a> <a id="3612" href="verificationStackScripts.hoareTripleStackBasic.html#3612" class="Bound">x</a> <a id="3614" class="Symbol">=</a> <a id="3616" href="verificationStackScripts.hoareTripleStackBasic.html#3612" class="Bound">x</a>
<a id="3618" href="verificationStackScripts.hoareTripleStackBasic.html#3016" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="3661" href="instructionBasic.html#805" class="InductiveConstructor">opEqualVerify</a>  <a id="3676" href="verificationStackScripts.hoareTripleStackBasic.html#3676" class="Bound">φ</a> <a id="3678" href="verificationStackScripts.hoareTripleStackBasic.html#3678" class="Bound">ψ</a> <a id="3680" href="verificationStackScripts.hoareTripleStackBasic.html#3680" class="Bound">x</a> <a id="3682" class="Symbol">=</a> <a id="3684" href="verificationStackScripts.hoareTripleStackBasic.html#3680" class="Bound">x</a>
<a id="3686" href="verificationStackScripts.hoareTripleStackBasic.html#3016" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="3729" href="instructionBasic.html#833" class="InductiveConstructor">opDup</a>  <a id="3736" href="verificationStackScripts.hoareTripleStackBasic.html#3736" class="Bound">φ</a> <a id="3738" href="verificationStackScripts.hoareTripleStackBasic.html#3738" class="Bound">ψ</a> <a id="3740" href="verificationStackScripts.hoareTripleStackBasic.html#3740" class="Bound">x</a> <a id="3742" class="Symbol">=</a> <a id="3744" href="verificationStackScripts.hoareTripleStackBasic.html#3740" class="Bound">x</a>
<a id="3746" href="verificationStackScripts.hoareTripleStackBasic.html#3016" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="3789" href="instructionBasic.html#819" class="InductiveConstructor">opDrop</a>  <a id="3797" href="verificationStackScripts.hoareTripleStackBasic.html#3797" class="Bound">φ</a> <a id="3799" href="verificationStackScripts.hoareTripleStackBasic.html#3799" class="Bound">ψ</a> <a id="3801" href="verificationStackScripts.hoareTripleStackBasic.html#3801" class="Bound">x</a> <a id="3803" class="Symbol">=</a> <a id="3805" href="verificationStackScripts.hoareTripleStackBasic.html#3801" class="Bound">x</a>
<a id="3807" href="verificationStackScripts.hoareTripleStackBasic.html#3016" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="3850" href="instructionBasic.html#826" class="InductiveConstructor">opSwap</a>  <a id="3858" href="verificationStackScripts.hoareTripleStackBasic.html#3858" class="Bound">φ</a> <a id="3860" href="verificationStackScripts.hoareTripleStackBasic.html#3860" class="Bound">ψ</a> <a id="3862" href="verificationStackScripts.hoareTripleStackBasic.html#3862" class="Bound">x</a> <a id="3864" class="Symbol">=</a> <a id="3866" href="verificationStackScripts.hoareTripleStackBasic.html#3862" class="Bound">x</a>
<a id="3868" href="verificationStackScripts.hoareTripleStackBasic.html#3016" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="3911" href="instructionBasic.html#863" class="InductiveConstructor">opHash</a>  <a id="3919" href="verificationStackScripts.hoareTripleStackBasic.html#3919" class="Bound">φ</a> <a id="3921" href="verificationStackScripts.hoareTripleStackBasic.html#3921" class="Bound">ψ</a> <a id="3923" href="verificationStackScripts.hoareTripleStackBasic.html#3923" class="Bound">x</a> <a id="3925" class="Symbol">=</a> <a id="3927" href="verificationStackScripts.hoareTripleStackBasic.html#3923" class="Bound">x</a>
<a id="3929" href="verificationStackScripts.hoareTripleStackBasic.html#3016" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="3972" href="instructionBasic.html#881" class="InductiveConstructor">opCHECKLOCKTIMEVERIFY</a>  <a id="3995" href="verificationStackScripts.hoareTripleStackBasic.html#3995" class="Bound">φ</a> <a id="3997" href="verificationStackScripts.hoareTripleStackBasic.html#3997" class="Bound">ψ</a> <a id="3999" href="verificationStackScripts.hoareTripleStackBasic.html#3999" class="Bound">x</a> <a id="4001" class="Symbol">=</a> <a id="4003" href="verificationStackScripts.hoareTripleStackBasic.html#3999" class="Bound">x</a>
<a id="4005" href="verificationStackScripts.hoareTripleStackBasic.html#3016" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4048" href="instructionBasic.html#903" class="InductiveConstructor">opCheckSig3</a>  <a id="4061" href="verificationStackScripts.hoareTripleStackBasic.html#4061" class="Bound">φ</a> <a id="4063" href="verificationStackScripts.hoareTripleStackBasic.html#4063" class="Bound">ψ</a> <a id="4065" href="verificationStackScripts.hoareTripleStackBasic.html#4065" class="Bound">x</a> <a id="4067" class="Symbol">=</a> <a id="4069" href="verificationStackScripts.hoareTripleStackBasic.html#4065" class="Bound">x</a>
<a id="4071" href="verificationStackScripts.hoareTripleStackBasic.html#3016" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4114" href="instructionBasic.html#870" class="InductiveConstructor">opMultiSig</a>  <a id="4126" href="verificationStackScripts.hoareTripleStackBasic.html#4126" class="Bound">φ</a> <a id="4128" href="verificationStackScripts.hoareTripleStackBasic.html#4128" class="Bound">ψ</a> <a id="4130" href="verificationStackScripts.hoareTripleStackBasic.html#4130" class="Bound">x</a> <a id="4132" class="Symbol">=</a> <a id="4134" href="verificationStackScripts.hoareTripleStackBasic.html#4130" class="Bound">x</a>


<a id="lemmaNonIfInstrGenericCondImpliesHoareTriple"></a><a id="4138" href="verificationStackScripts.hoareTripleStackBasic.html#4138" class="Function">lemmaNonIfInstrGenericCondImpliesHoareTriple</a> <a id="4183" class="Symbol">:</a>
          <a id="4195" class="Symbol">(</a><a id="4196" href="verificationStackScripts.hoareTripleStackBasic.html#4196" class="Bound">op</a> <a id="4199" class="Symbol">:</a> <a id="4201" href="instructionBasic.html#745" class="Datatype">InstructionBasic</a><a id="4217" class="Symbol">)</a>
          <a id="4229" class="Symbol">(</a><a id="4230" href="verificationStackScripts.hoareTripleStackBasic.html#4230" class="Bound">φ</a> <a id="4232" href="verificationStackScripts.hoareTripleStackBasic.html#4232" class="Bound">ψ</a> <a id="4234" class="Symbol">:</a> <a id="4236" href="verificationStackScripts.sPredicate.html#1186" class="Function">StackStatePred</a><a id="4250" class="Symbol">)</a>
          <a id="4262" class="Symbol">→</a> <a id="4264" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&lt;</a> <a id="4266" href="verificationStackScripts.hoareTripleStackBasic.html#4230" class="Bound">φ</a> <a id="4268" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&gt;ssgen</a> <a id="4275" href="verificationStackScripts.stackState.html#2066" class="Function">stackTransform2StackStateTransform</a> <a id="4310" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟦</a> <a id="4312" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="4314" href="verificationStackScripts.hoareTripleStackBasic.html#4196" class="Bound">op</a> <a id="4317" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="4319" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟧ˢ</a> <a id="4322" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&lt;</a> <a id="4324" href="verificationStackScripts.hoareTripleStackBasic.html#4232" class="Bound">ψ</a> <a id="4326" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&gt;</a>
          <a id="4338" class="Symbol">→</a> <a id="4340" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&lt;</a> <a id="4342" href="verificationStackScripts.hoareTripleStackBasic.html#4230" class="Bound">φ</a> <a id="4344" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&gt;ⁱᶠᶠ</a> <a id="4349" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="4351" href="verificationStackScripts.hoareTripleStackBasic.html#4196" class="Bound">op</a> <a id="4354" href="Data.List.Base.html#5025" class="Function Operator">]</a>  <a id="4357" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&lt;</a> <a id="4359" href="verificationStackScripts.hoareTripleStackBasic.html#4232" class="Bound">ψ</a> <a id="4361" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&gt;</a>
<a id="4363" href="verificationStackScripts.hoareTripleStackBasic.html#4138" class="Function">lemmaNonIfInstrGenericCondImpliesHoareTriple</a> <a id="4408" href="verificationStackScripts.hoareTripleStackBasic.html#4408" class="Bound">op</a> <a id="4411" href="verificationStackScripts.hoareTripleStackBasic.html#4411" class="Bound">φ</a> <a id="4413" href="verificationStackScripts.hoareTripleStackBasic.html#4413" class="Bound">ψ</a> <a id="4415" href="verificationStackScripts.hoareTripleStackBasic.html#4415" class="Bound">p</a>
  <a id="4419" class="Symbol">=</a> <a id="4421" href="verificationStackScripts.hoareTripleStackBasic.html#2008" class="Function">lemmaGenericHoareTripleImpliesHoareTriple</a> <a id="4463" href="verificationStackScripts.hoareTripleStackBasic.html#4408" class="Bound">op</a> <a id="4466" href="verificationStackScripts.hoareTripleStackBasic.html#4411" class="Bound">φ</a> <a id="4468" href="verificationStackScripts.hoareTripleStackBasic.html#4413" class="Bound">ψ</a>
      <a id="4476" class="Symbol">(</a><a id="4477" href="verificationStackScripts.hoareTripleStackBasic.html#3016" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4520" href="verificationStackScripts.hoareTripleStackBasic.html#4408" class="Bound">op</a> <a id="4523" href="verificationStackScripts.hoareTripleStackBasic.html#4411" class="Bound">φ</a> <a id="4525" href="verificationStackScripts.hoareTripleStackBasic.html#4413" class="Bound">ψ</a> <a id="4527" href="verificationStackScripts.hoareTripleStackBasic.html#4415" class="Bound">p</a><a id="4528" class="Symbol">)</a>



<a id="4533" class="Comment">-- auxiliary function used for proving lemmaLift2StateCorrectnessStackFun=&gt;</a>
<a id="lemmaLift2StateCorrectnessStackFun=&gt;aux"></a><a id="4609" href="verificationStackScripts.hoareTripleStackBasic.html#4609" class="Function">lemmaLift2StateCorrectnessStackFun=&gt;aux</a> <a id="4649" class="Symbol">:</a> <a id="4651" class="Symbol">(</a><a id="4652" href="verificationStackScripts.hoareTripleStackBasic.html#4652" class="Bound">ψ</a> <a id="4654" class="Symbol">:</a> <a id="4656" href="stackPredicate.html#909" class="Function">StackPredicate</a><a id="4670" class="Symbol">)</a>
                                          <a id="4714" class="Symbol">(</a><a id="4715" href="verificationStackScripts.hoareTripleStackBasic.html#4715" class="Bound">funRes</a> <a id="4722" class="Symbol">:</a> <a id="4724" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="4730" href="stack.html#702" class="Function">Stack</a><a id="4735" class="Symbol">)</a>
                                          <a id="4779" class="Symbol">(</a><a id="4780" href="verificationStackScripts.hoareTripleStackBasic.html#4780" class="Bound">currentTime₁</a> <a id="4793" class="Symbol">:</a> <a id="4795" href="basicBitcoinDataType.html#662" class="Function">Time</a><a id="4799" class="Symbol">)</a>
                                          <a id="4843" class="Symbol">(</a><a id="4844" href="verificationStackScripts.hoareTripleStackBasic.html#4844" class="Bound">msg₁</a> <a id="4849" class="Symbol">:</a> <a id="4851" href="basicBitcoinDataType.html#854" class="Datatype">Msg</a><a id="4854" class="Symbol">)</a>
                                          <a id="4898" class="Symbol">(</a><a id="4899" href="verificationStackScripts.hoareTripleStackBasic.html#4899" class="Bound">p</a> <a id="4901" class="Symbol">:</a> <a id="4903" href="libraries.maybeLib.html#614" class="Function">liftPred2Maybe</a> <a id="4918" class="Symbol">(</a><a id="4919" href="verificationStackScripts.hoareTripleStackBasic.html#4652" class="Bound">ψ</a> <a id="4921" href="verificationStackScripts.hoareTripleStackBasic.html#4780" class="Bound">currentTime₁</a> <a id="4934" href="verificationStackScripts.hoareTripleStackBasic.html#4844" class="Bound">msg₁</a><a id="4938" class="Symbol">)</a> <a id="4940" href="verificationStackScripts.hoareTripleStackBasic.html#4715" class="Bound">funRes</a><a id="4946" class="Symbol">)</a>
                                          <a id="4990" class="Symbol">→</a> <a id="4992" class="Symbol">((</a><a id="4994" href="verificationStackScripts.sPredicate.html#2328" class="Function">stackPred2SPred</a> <a id="5010" href="verificationStackScripts.hoareTripleStackBasic.html#4652" class="Bound">ψ</a> <a id="5012" class="Symbol">)</a> <a id="5014" href="libraries.maybeLib.html#1221" class="Function Operator">⁺</a><a id="5015" class="Symbol">)</a>
                                             <a id="5062" class="Symbol">(</a><a id="5063" href="verificationStackScripts.stackState.html#1477" class="Function">stackState2WithMaybe</a>
                                               <a id="5131" class="InductiveConstructor Operator">⟨</a> <a id="5133" href="verificationStackScripts.hoareTripleStackBasic.html#4780" class="Bound">currentTime₁</a> <a id="5146" class="InductiveConstructor Operator">,</a> <a id="5148" href="verificationStackScripts.hoareTripleStackBasic.html#4844" class="Bound">msg₁</a> <a id="5153" class="InductiveConstructor Operator">,</a> <a id="5155" href="verificationStackScripts.hoareTripleStackBasic.html#4715" class="Bound">funRes</a> <a id="5162" class="InductiveConstructor Operator">⟩</a><a id="5163" class="Symbol">)</a>
<a id="5165" href="verificationStackScripts.hoareTripleStackBasic.html#4609" class="Function">lemmaLift2StateCorrectnessStackFun=&gt;aux</a> <a id="5205" href="verificationStackScripts.hoareTripleStackBasic.html#5205" class="Bound">ψ</a> <a id="5207" class="Symbol">(</a><a id="5208" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="5213" href="verificationStackScripts.hoareTripleStackBasic.html#5213" class="Bound">x</a><a id="5214" class="Symbol">)</a> <a id="5216" href="verificationStackScripts.hoareTripleStackBasic.html#5216" class="Bound">currentTime₁</a> <a id="5229" href="verificationStackScripts.hoareTripleStackBasic.html#5229" class="Bound">msg₁</a> <a id="5234" href="verificationStackScripts.hoareTripleStackBasic.html#5234" class="Bound">p</a> <a id="5236" class="Symbol">=</a> <a id="5238" href="verificationStackScripts.hoareTripleStackBasic.html#5234" class="Bound">p</a>


<a id="5242" class="Comment">-- Stack correctness implies correctness of the hoare triple</a>
<a id="5303" class="Comment">--   here direction =&gt;</a>
<a id="lift2StateCorrectnessStackFun=&gt;"></a><a id="5326" href="verificationStackScripts.hoareTripleStackBasic.html#5326" class="Function">lift2StateCorrectnessStackFun=&gt;</a> <a id="5358" class="Symbol">:</a> <a id="5360" class="Symbol">(</a><a id="5361" href="verificationStackScripts.hoareTripleStackBasic.html#5361" class="Bound">φ</a> <a id="5363" href="verificationStackScripts.hoareTripleStackBasic.html#5363" class="Bound">ψ</a> <a id="5365" class="Symbol">:</a> <a id="5367" href="stackPredicate.html#909" class="Function">StackPredicate</a><a id="5381" class="Symbol">)</a>
                                  <a id="5417" class="Symbol">(</a><a id="5418" href="verificationStackScripts.hoareTripleStackBasic.html#5418" class="Bound">stackfun</a> <a id="5427" class="Symbol">:</a> <a id="5429" href="stack.html#1152" class="Function">StackTransformer</a><a id="5445" class="Symbol">)</a>
                                  <a id="5481" class="Symbol">(</a><a id="5482" href="verificationStackScripts.hoareTripleStackBasic.html#5482" class="Bound">stackCorrectness</a> <a id="5499" class="Symbol">:</a> <a id="5501" class="Symbol">(</a><a id="5502" href="verificationStackScripts.hoareTripleStackBasic.html#5502" class="Bound">time</a> <a id="5507" class="Symbol">:</a> <a id="5509" href="basicBitcoinDataType.html#662" class="Function">Time</a><a id="5513" class="Symbol">)(</a><a id="5515" href="verificationStackScripts.hoareTripleStackBasic.html#5515" class="Bound">msg</a> <a id="5519" class="Symbol">:</a> <a id="5521" href="basicBitcoinDataType.html#854" class="Datatype">Msg</a><a id="5524" class="Symbol">)(</a><a id="5526" href="verificationStackScripts.hoareTripleStackBasic.html#5526" class="Bound">s</a> <a id="5528" class="Symbol">:</a> <a id="5530" href="stack.html#702" class="Function">Stack</a><a id="5535" class="Symbol">)</a>
                                  <a id="5571" class="Symbol">→</a> <a id="5573" href="verificationStackScripts.hoareTripleStackBasic.html#5361" class="Bound">φ</a> <a id="5575" href="verificationStackScripts.hoareTripleStackBasic.html#5502" class="Bound">time</a> <a id="5580" href="verificationStackScripts.hoareTripleStackBasic.html#5515" class="Bound">msg</a> <a id="5584" href="verificationStackScripts.hoareTripleStackBasic.html#5526" class="Bound">s</a> <a id="5586" class="Symbol">→</a> <a id="5588" href="libraries.maybeLib.html#614" class="Function">liftPred2Maybe</a> <a id="5603" class="Symbol">(</a><a id="5604" href="verificationStackScripts.hoareTripleStackBasic.html#5363" class="Bound">ψ</a> <a id="5606" href="verificationStackScripts.hoareTripleStackBasic.html#5502" class="Bound">time</a> <a id="5611" href="verificationStackScripts.hoareTripleStackBasic.html#5515" class="Bound">msg</a><a id="5614" class="Symbol">)</a> <a id="5616" class="Symbol">(</a><a id="5617" href="verificationStackScripts.hoareTripleStackBasic.html#5418" class="Bound">stackfun</a> <a id="5626" href="verificationStackScripts.hoareTripleStackBasic.html#5502" class="Bound">time</a> <a id="5631" href="verificationStackScripts.hoareTripleStackBasic.html#5515" class="Bound">msg</a> <a id="5635" href="verificationStackScripts.hoareTripleStackBasic.html#5526" class="Bound">s</a><a id="5636" class="Symbol">))</a>
                                  <a id="5673" class="Symbol">(</a><a id="5674" href="verificationStackScripts.hoareTripleStackBasic.html#5674" class="Bound">s</a> <a id="5676" class="Symbol">:</a> <a id="5678" href="verificationStackScripts.stackState.html#931" class="Record">StackState</a><a id="5688" class="Symbol">)</a>
                                  <a id="5724" class="Symbol">→</a> <a id="5726" href="verificationStackScripts.sPredicate.html#2328" class="Function">stackPred2SPred</a> <a id="5742" href="verificationStackScripts.hoareTripleStackBasic.html#5361" class="Bound">φ</a> <a id="5744" href="verificationStackScripts.hoareTripleStackBasic.html#5674" class="Bound">s</a>
                                  <a id="5780" class="Symbol">→</a> <a id="5782" class="Symbol">((</a><a id="5784" href="verificationStackScripts.sPredicate.html#2328" class="Function">stackPred2SPred</a> <a id="5800" href="verificationStackScripts.hoareTripleStackBasic.html#5363" class="Bound">ψ</a><a id="5801" class="Symbol">)</a> <a id="5803" href="libraries.maybeLib.html#1221" class="Function Operator">⁺</a><a id="5804" class="Symbol">)</a>
                                                    <a id="5858" class="Symbol">(</a><a id="5859" href="verificationStackScripts.stackState.html#2066" class="Function">stackTransform2StackStateTransform</a> <a id="5894" href="verificationStackScripts.hoareTripleStackBasic.html#5418" class="Bound">stackfun</a> <a id="5903" href="verificationStackScripts.hoareTripleStackBasic.html#5674" class="Bound">s</a><a id="5904" class="Symbol">)</a>
<a id="5906" href="verificationStackScripts.hoareTripleStackBasic.html#5326" class="Function">lift2StateCorrectnessStackFun=&gt;</a> <a id="5938" href="verificationStackScripts.hoareTripleStackBasic.html#5938" class="Bound">φ</a> <a id="5940" href="verificationStackScripts.hoareTripleStackBasic.html#5940" class="Bound">ψ</a> <a id="5942" href="verificationStackScripts.hoareTripleStackBasic.html#5942" class="Bound">stackfun</a> <a id="5951" href="verificationStackScripts.hoareTripleStackBasic.html#5951" class="Bound">stackCorrectness</a> <a id="5968" href="verificationStackScripts.stackState.html#975" class="InductiveConstructor Operator">⟨</a> <a id="5970" href="verificationStackScripts.hoareTripleStackBasic.html#5970" class="Bound">currentTime₁</a> <a id="5983" href="verificationStackScripts.stackState.html#975" class="InductiveConstructor Operator">,</a> <a id="5985" href="verificationStackScripts.hoareTripleStackBasic.html#5985" class="Bound">msg₁</a> <a id="5990" href="verificationStackScripts.stackState.html#975" class="InductiveConstructor Operator">,</a> <a id="5992" href="verificationStackScripts.hoareTripleStackBasic.html#5992" class="Bound">stack₁</a> <a id="5999" href="verificationStackScripts.stackState.html#975" class="InductiveConstructor Operator">⟩</a>  <a id="6002" href="verificationStackScripts.hoareTripleStackBasic.html#6002" class="Bound">and3</a>
      <a id="6013" class="Symbol">=</a> <a id="6015" href="verificationStackScripts.hoareTripleStackBasic.html#4609" class="Function">lemmaLift2StateCorrectnessStackFun=&gt;aux</a> <a id="6055" href="verificationStackScripts.hoareTripleStackBasic.html#5940" class="Bound">ψ</a>  <a id="6058" class="Symbol">(</a><a id="6059" href="verificationStackScripts.hoareTripleStackBasic.html#5942" class="Bound">stackfun</a> <a id="6068" href="verificationStackScripts.hoareTripleStackBasic.html#5970" class="Bound">currentTime₁</a> <a id="6081" href="verificationStackScripts.hoareTripleStackBasic.html#5985" class="Bound">msg₁</a> <a id="6086" href="verificationStackScripts.hoareTripleStackBasic.html#5992" class="Bound">stack₁</a><a id="6092" class="Symbol">)</a> <a id="6094" href="verificationStackScripts.hoareTripleStackBasic.html#5970" class="Bound">currentTime₁</a> <a id="6107" href="verificationStackScripts.hoareTripleStackBasic.html#5985" class="Bound">msg₁</a>
                   <a id="6131" class="Symbol">(</a><a id="6132" href="verificationStackScripts.hoareTripleStackBasic.html#5951" class="Bound">stackCorrectness</a> <a id="6149" href="verificationStackScripts.hoareTripleStackBasic.html#5970" class="Bound">currentTime₁</a> <a id="6162" href="verificationStackScripts.hoareTripleStackBasic.html#5985" class="Bound">msg₁</a> <a id="6167" href="verificationStackScripts.hoareTripleStackBasic.html#5992" class="Bound">stack₁</a> <a id="6174" href="verificationStackScripts.hoareTripleStackBasic.html#6002" class="Bound">and3</a><a id="6178" class="Symbol">)</a>


<a id="lemmaLift2StateCorrectnessStackFun&lt;=aux"></a><a id="6182" href="verificationStackScripts.hoareTripleStackBasic.html#6182" class="Function">lemmaLift2StateCorrectnessStackFun&lt;=aux</a> <a id="6222" class="Symbol">:</a>
     <a id="6229" class="Symbol">(</a><a id="6230" href="verificationStackScripts.hoareTripleStackBasic.html#6230" class="Bound">φ</a> <a id="6232" href="verificationStackScripts.hoareTripleStackBasic.html#6232" class="Bound">ψ</a> <a id="6234" class="Symbol">:</a> <a id="6236" href="stackPredicate.html#909" class="Function">StackPredicate</a><a id="6250" class="Symbol">)</a>
     <a id="6257" class="Symbol">(</a><a id="6258" href="verificationStackScripts.hoareTripleStackBasic.html#6258" class="Bound">funRes</a> <a id="6265" class="Symbol">:</a> <a id="6267" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="6273" href="stack.html#702" class="Function">Stack</a><a id="6278" class="Symbol">)</a>
     <a id="6285" class="Symbol">(</a><a id="6286" href="verificationStackScripts.hoareTripleStackBasic.html#6286" class="Bound">currentTime₁</a> <a id="6299" class="Symbol">:</a> <a id="6301" href="basicBitcoinDataType.html#662" class="Function">Time</a><a id="6305" class="Symbol">)</a>
     <a id="6312" class="Symbol">(</a><a id="6313" href="verificationStackScripts.hoareTripleStackBasic.html#6313" class="Bound">msg₁</a> <a id="6318" class="Symbol">:</a> <a id="6320" href="basicBitcoinDataType.html#854" class="Datatype">Msg</a><a id="6323" class="Symbol">)</a>
     <a id="6330" class="Symbol">(</a><a id="6331" href="verificationStackScripts.hoareTripleStackBasic.html#6331" class="Bound">stack₁</a> <a id="6338" class="Symbol">:</a> <a id="6340" href="stack.html#702" class="Function">Stack</a><a id="6345" class="Symbol">)</a>
     <a id="6352" class="Symbol">(</a><a id="6353" href="verificationStackScripts.hoareTripleStackBasic.html#6353" class="Bound">p</a> <a id="6355" class="Symbol">:</a> <a id="6357" class="Symbol">((λ</a> <a id="6361" href="verificationStackScripts.hoareTripleStackBasic.html#6361" class="Bound">s</a> <a id="6363" class="Symbol">→</a> <a id="6365" href="verificationStackScripts.hoareTripleStackBasic.html#6232" class="Bound">ψ</a> <a id="6367" class="Symbol">(</a><a id="6368" class="Field">currentTime</a> <a id="6380" href="verificationStackScripts.hoareTripleStackBasic.html#6361" class="Bound">s</a><a id="6381" class="Symbol">)</a> <a id="6383" class="Symbol">(</a><a id="6384" class="Field">msg</a> <a id="6388" href="verificationStackScripts.hoareTripleStackBasic.html#6361" class="Bound">s</a><a id="6389" class="Symbol">)</a> <a id="6391" class="Symbol">(</a><a id="6392" href="verificationStackScripts.stackState.html#1132" class="Field">stack</a> <a id="6398" href="verificationStackScripts.hoareTripleStackBasic.html#6361" class="Bound">s</a><a id="6399" class="Symbol">)</a> <a id="6401" class="Symbol">)</a> <a id="6403" href="libraries.maybeLib.html#1221" class="Function Operator">⁺</a><a id="6404" class="Symbol">)</a>
            <a id="6418" class="Symbol">(</a><a id="6419" href="verificationStackScripts.stackState.html#1907" class="Function">exeTransformerDepIfStack&#39;</a>
             <a id="6458" class="Symbol">(</a><a id="6459" href="verificationStackScripts.stackState.html#1709" class="Function">liftStackToStateTransformerAux&#39;</a> <a id="6491" href="verificationStackScripts.hoareTripleStackBasic.html#6258" class="Bound">funRes</a><a id="6497" class="Symbol">)</a>
              <a id="6513" class="InductiveConstructor Operator">⟨</a> <a id="6515" href="verificationStackScripts.hoareTripleStackBasic.html#6286" class="Bound">currentTime₁</a> <a id="6528" class="InductiveConstructor Operator">,</a> <a id="6530" href="verificationStackScripts.hoareTripleStackBasic.html#6313" class="Bound">msg₁</a> <a id="6535" class="InductiveConstructor Operator">,</a> <a id="6537" href="verificationStackScripts.hoareTripleStackBasic.html#6331" class="Bound">stack₁</a>  <a id="6545" class="InductiveConstructor Operator">⟩</a><a id="6546" class="Symbol">))</a>
     <a id="6554" class="Symbol">(</a><a id="6555" href="verificationStackScripts.hoareTripleStackBasic.html#6555" class="Bound">q</a> <a id="6557" class="Symbol">:</a> <a id="6559" href="libraries.maybeLib.html#614" class="Function">liftPred2Maybe</a> <a id="6574" class="Symbol">(</a><a id="6575" href="verificationStackScripts.hoareTripleStackBasic.html#6232" class="Bound">ψ</a> <a id="6577" href="verificationStackScripts.hoareTripleStackBasic.html#6286" class="Bound">currentTime₁</a> <a id="6590" href="verificationStackScripts.hoareTripleStackBasic.html#6313" class="Bound">msg₁</a><a id="6594" class="Symbol">)</a> <a id="6596" href="verificationStackScripts.hoareTripleStackBasic.html#6258" class="Bound">funRes</a> <a id="6603" class="Symbol">→</a> <a id="6605" href="verificationStackScripts.hoareTripleStackBasic.html#6230" class="Bound">φ</a> <a id="6607" href="verificationStackScripts.hoareTripleStackBasic.html#6286" class="Bound">currentTime₁</a> <a id="6620" href="verificationStackScripts.hoareTripleStackBasic.html#6313" class="Bound">msg₁</a> <a id="6625" href="verificationStackScripts.hoareTripleStackBasic.html#6331" class="Bound">stack₁</a><a id="6631" class="Symbol">)</a>
     <a id="6638" class="Symbol">→</a> <a id="6640" href="verificationStackScripts.hoareTripleStackBasic.html#6230" class="Bound">φ</a> <a id="6642" href="verificationStackScripts.hoareTripleStackBasic.html#6286" class="Bound">currentTime₁</a> <a id="6655" href="verificationStackScripts.hoareTripleStackBasic.html#6313" class="Bound">msg₁</a> <a id="6660" href="verificationStackScripts.hoareTripleStackBasic.html#6331" class="Bound">stack₁</a>
<a id="6667" href="verificationStackScripts.hoareTripleStackBasic.html#6182" class="Function">lemmaLift2StateCorrectnessStackFun&lt;=aux</a> <a id="6707" href="verificationStackScripts.hoareTripleStackBasic.html#6707" class="Bound">φ</a> <a id="6709" href="verificationStackScripts.hoareTripleStackBasic.html#6709" class="Bound">ψ</a> <a id="6711" class="Symbol">(</a><a id="6712" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="6717" href="verificationStackScripts.hoareTripleStackBasic.html#6717" class="Bound">x</a><a id="6718" class="Symbol">)</a> <a id="6720" href="verificationStackScripts.hoareTripleStackBasic.html#6720" class="Bound">currentTime₁</a> <a id="6733" href="verificationStackScripts.hoareTripleStackBasic.html#6733" class="Bound">msg₁</a> <a id="6738" href="verificationStackScripts.hoareTripleStackBasic.html#6738" class="Bound">stack₁</a> <a id="6745" href="verificationStackScripts.hoareTripleStackBasic.html#6745" class="Bound">p</a> <a id="6747" href="verificationStackScripts.hoareTripleStackBasic.html#6747" class="Bound">q</a> <a id="6749" class="Symbol">=</a> <a id="6751" href="verificationStackScripts.hoareTripleStackBasic.html#6747" class="Bound">q</a> <a id="6753" href="verificationStackScripts.hoareTripleStackBasic.html#6745" class="Bound">p</a>


<a id="6757" class="Comment">-- Stack correctness implies correctness of the hoare triple</a>
<a id="6818" class="Comment">--   here direction &lt;=</a>
<a id="lift2StateCorrectnessStackFun&lt;="></a><a id="6841" href="verificationStackScripts.hoareTripleStackBasic.html#6841" class="Function">lift2StateCorrectnessStackFun&lt;=</a> <a id="6873" class="Symbol">:</a> <a id="6875" class="Symbol">(</a><a id="6876" href="verificationStackScripts.hoareTripleStackBasic.html#6876" class="Bound">φ</a> <a id="6878" href="verificationStackScripts.hoareTripleStackBasic.html#6878" class="Bound">ψ</a> <a id="6880" class="Symbol">:</a> <a id="6882" href="stackPredicate.html#909" class="Function">StackPredicate</a><a id="6896" class="Symbol">)</a>
                                  <a id="6932" class="Symbol">(</a><a id="6933" href="verificationStackScripts.hoareTripleStackBasic.html#6933" class="Bound">stackfun</a> <a id="6942" class="Symbol">:</a> <a id="6944" href="stack.html#1152" class="Function">StackTransformer</a><a id="6960" class="Symbol">)(</a><a id="6962" href="verificationStackScripts.hoareTripleStackBasic.html#6962" class="Bound">stackCorrectness</a> <a id="6979" class="Symbol">:</a> <a id="6981" class="Symbol">(</a><a id="6982" href="verificationStackScripts.hoareTripleStackBasic.html#6982" class="Bound">time</a> <a id="6987" class="Symbol">:</a> <a id="6989" href="basicBitcoinDataType.html#662" class="Function">Time</a><a id="6993" class="Symbol">)(</a><a id="6995" href="verificationStackScripts.hoareTripleStackBasic.html#6995" class="Bound">msg</a> <a id="6999" class="Symbol">:</a> <a id="7001" href="basicBitcoinDataType.html#854" class="Datatype">Msg</a><a id="7004" class="Symbol">)(</a><a id="7006" href="verificationStackScripts.hoareTripleStackBasic.html#7006" class="Bound">s</a> <a id="7008" class="Symbol">:</a> <a id="7010" href="stack.html#702" class="Function">Stack</a><a id="7015" class="Symbol">)</a>
                                  <a id="7051" class="Symbol">→</a> <a id="7053" href="libraries.maybeLib.html#614" class="Function">liftPred2Maybe</a> <a id="7068" class="Symbol">(</a><a id="7069" href="verificationStackScripts.hoareTripleStackBasic.html#6878" class="Bound">ψ</a> <a id="7071" href="verificationStackScripts.hoareTripleStackBasic.html#6982" class="Bound">time</a> <a id="7076" href="verificationStackScripts.hoareTripleStackBasic.html#6995" class="Bound">msg</a><a id="7079" class="Symbol">)</a> <a id="7081" class="Symbol">(</a><a id="7082" href="verificationStackScripts.hoareTripleStackBasic.html#6933" class="Bound">stackfun</a> <a id="7091" href="verificationStackScripts.hoareTripleStackBasic.html#6982" class="Bound">time</a> <a id="7096" href="verificationStackScripts.hoareTripleStackBasic.html#6995" class="Bound">msg</a> <a id="7100" href="verificationStackScripts.hoareTripleStackBasic.html#7006" class="Bound">s</a><a id="7101" class="Symbol">)</a> <a id="7103" class="Symbol">→</a> <a id="7105" href="verificationStackScripts.hoareTripleStackBasic.html#6876" class="Bound">φ</a> <a id="7107" href="verificationStackScripts.hoareTripleStackBasic.html#6982" class="Bound">time</a> <a id="7112" href="verificationStackScripts.hoareTripleStackBasic.html#6995" class="Bound">msg</a> <a id="7116" href="verificationStackScripts.hoareTripleStackBasic.html#7006" class="Bound">s</a><a id="7117" class="Symbol">)</a>
                                  <a id="7153" class="Symbol">(</a><a id="7154" href="verificationStackScripts.hoareTripleStackBasic.html#7154" class="Bound">s</a> <a id="7156" class="Symbol">:</a> <a id="7158" href="verificationStackScripts.stackState.html#931" class="Record">StackState</a><a id="7168" class="Symbol">)</a>
                                  <a id="7204" class="Symbol">→</a> <a id="7206" class="Symbol">((</a><a id="7208" href="verificationStackScripts.sPredicate.html#2328" class="Function">stackPred2SPred</a> <a id="7224" href="verificationStackScripts.hoareTripleStackBasic.html#6878" class="Bound">ψ</a><a id="7225" class="Symbol">)</a> <a id="7227" href="libraries.maybeLib.html#1221" class="Function Operator">⁺</a><a id="7228" class="Symbol">)</a>
                                                    <a id="7282" class="Symbol">(</a><a id="7283" href="verificationStackScripts.stackState.html#2066" class="Function">stackTransform2StackStateTransform</a> <a id="7318" href="verificationStackScripts.hoareTripleStackBasic.html#6933" class="Bound">stackfun</a> <a id="7327" href="verificationStackScripts.hoareTripleStackBasic.html#7154" class="Bound">s</a><a id="7328" class="Symbol">)</a>
                                  <a id="7364" class="Symbol">→</a> <a id="7366" href="verificationStackScripts.sPredicate.html#2328" class="Function">stackPred2SPred</a> <a id="7382" href="verificationStackScripts.hoareTripleStackBasic.html#6876" class="Bound">φ</a> <a id="7384" href="verificationStackScripts.hoareTripleStackBasic.html#7154" class="Bound">s</a>
<a id="7386" href="verificationStackScripts.hoareTripleStackBasic.html#6841" class="Function">lift2StateCorrectnessStackFun&lt;=</a>  <a id="7419" href="verificationStackScripts.hoareTripleStackBasic.html#7419" class="Bound">φ</a> <a id="7421" href="verificationStackScripts.hoareTripleStackBasic.html#7421" class="Bound">ψ</a> <a id="7423" href="verificationStackScripts.hoareTripleStackBasic.html#7423" class="Bound">stackfun</a> <a id="7432" href="verificationStackScripts.hoareTripleStackBasic.html#7432" class="Bound">stackCorrectness</a> <a id="7449" href="verificationStackScripts.stackState.html#975" class="InductiveConstructor Operator">⟨</a> <a id="7451" href="verificationStackScripts.hoareTripleStackBasic.html#7451" class="Bound">currentTime₁</a> <a id="7464" href="verificationStackScripts.stackState.html#975" class="InductiveConstructor Operator">,</a> <a id="7466" href="verificationStackScripts.hoareTripleStackBasic.html#7466" class="Bound">msg₁</a> <a id="7471" href="verificationStackScripts.stackState.html#975" class="InductiveConstructor Operator">,</a> <a id="7473" href="verificationStackScripts.hoareTripleStackBasic.html#7473" class="Bound">stack₁</a>  <a id="7481" href="verificationStackScripts.stackState.html#975" class="InductiveConstructor Operator">⟩</a> <a id="7483" href="verificationStackScripts.hoareTripleStackBasic.html#7483" class="Bound">x</a>
              <a id="7499" class="Symbol">=</a> <a id="7501" href="verificationStackScripts.hoareTripleStackBasic.html#6182" class="Function">lemmaLift2StateCorrectnessStackFun&lt;=aux</a> <a id="7541" href="verificationStackScripts.hoareTripleStackBasic.html#7419" class="Bound">φ</a> <a id="7543" href="verificationStackScripts.hoareTripleStackBasic.html#7421" class="Bound">ψ</a> <a id="7545" class="Symbol">(</a><a id="7546" href="verificationStackScripts.hoareTripleStackBasic.html#7423" class="Bound">stackfun</a> <a id="7555" href="verificationStackScripts.hoareTripleStackBasic.html#7451" class="Bound">currentTime₁</a> <a id="7568" href="verificationStackScripts.hoareTripleStackBasic.html#7466" class="Bound">msg₁</a>  <a id="7574" href="verificationStackScripts.hoareTripleStackBasic.html#7473" class="Bound">stack₁</a><a id="7580" class="Symbol">)</a>
                    <a id="7602" href="verificationStackScripts.hoareTripleStackBasic.html#7451" class="Bound">currentTime₁</a> <a id="7615" href="verificationStackScripts.hoareTripleStackBasic.html#7466" class="Bound">msg₁</a> <a id="7620" href="verificationStackScripts.hoareTripleStackBasic.html#7473" class="Bound">stack₁</a> <a id="7627" href="verificationStackScripts.hoareTripleStackBasic.html#7483" class="Bound">x</a>  <a id="7630" class="Symbol">(</a><a id="7631" href="verificationStackScripts.hoareTripleStackBasic.html#7432" class="Bound">stackCorrectness</a> <a id="7648" href="verificationStackScripts.hoareTripleStackBasic.html#7451" class="Bound">currentTime₁</a> <a id="7661" href="verificationStackScripts.hoareTripleStackBasic.html#7466" class="Bound">msg₁</a> <a id="7666" href="verificationStackScripts.hoareTripleStackBasic.html#7473" class="Bound">stack₁</a><a id="7672" class="Symbol">)</a>



<a id="7677" class="Comment">-- Correctness of the stack function implies correctness of the Hoare triple</a>
<a id="7754" class="Comment">--    here generic</a>

<a id="lemmaHoareTripleStackPartToHoareTripleGeneric"></a><a id="7774" href="verificationStackScripts.hoareTripleStackBasic.html#7774" class="Function">lemmaHoareTripleStackPartToHoareTripleGeneric</a> <a id="7820" class="Symbol">:</a>
     <a id="7827" class="Symbol">(</a><a id="7828" href="verificationStackScripts.hoareTripleStackBasic.html#7828" class="Bound">stackfun</a> <a id="7837" class="Symbol">:</a> <a id="7839" href="stack.html#1152" class="Function">StackTransformer</a><a id="7855" class="Symbol">)</a>
     <a id="7862" class="Symbol">(</a><a id="7863" href="verificationStackScripts.hoareTripleStackBasic.html#7863" class="Bound">φ</a> <a id="7865" href="verificationStackScripts.hoareTripleStackBasic.html#7865" class="Bound">ψ</a> <a id="7867" class="Symbol">:</a> <a id="7869" href="stackPredicate.html#909" class="Function">StackPredicate</a><a id="7883" class="Symbol">)</a>
     <a id="7890" class="Symbol">→</a> <a id="7892" href="hoareTripleStack.html#1354" class="Record Operator">&lt;</a> <a id="7894" href="verificationStackScripts.hoareTripleStackBasic.html#7863" class="Bound">φ</a> <a id="7896" href="hoareTripleStack.html#1354" class="Record Operator">&gt;gˢ</a> <a id="7900" href="verificationStackScripts.hoareTripleStackBasic.html#7828" class="Bound">stackfun</a>  <a id="7910" href="hoareTripleStack.html#1354" class="Record Operator">&lt;</a> <a id="7912" href="verificationStackScripts.hoareTripleStackBasic.html#7865" class="Bound">ψ</a> <a id="7914" href="hoareTripleStack.html#1354" class="Record Operator">&gt;</a>
     <a id="7921" class="Symbol">→</a> <a id="7923" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&lt;</a> <a id="7925" href="verificationStackScripts.sPredicate.html#2328" class="Function">stackPred2SPred</a> <a id="7941" href="verificationStackScripts.hoareTripleStackBasic.html#7863" class="Bound">φ</a> <a id="7943" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&gt;ssgen</a>
        <a id="7958" href="verificationStackScripts.stackState.html#2066" class="Function">stackTransform2StackStateTransform</a>  <a id="7994" href="verificationStackScripts.hoareTripleStackBasic.html#7828" class="Bound">stackfun</a>
        <a id="8011" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&lt;</a> <a id="8013" href="verificationStackScripts.sPredicate.html#2328" class="Function">stackPred2SPred</a> <a id="8029" href="verificationStackScripts.hoareTripleStackBasic.html#7865" class="Bound">ψ</a> <a id="8031" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&gt;</a>
<a id="8033" href="verificationStackScripts.hoareTripleStackBasic.html#7774" class="Function">lemmaHoareTripleStackPartToHoareTripleGeneric</a> <a id="8079" href="verificationStackScripts.hoareTripleStackBasic.html#8079" class="Bound">stackfun</a>  <a id="8089" href="verificationStackScripts.hoareTripleStackBasic.html#8089" class="Bound">φ</a> <a id="8091" href="verificationStackScripts.hoareTripleStackBasic.html#8091" class="Bound">ψ</a>
    <a id="8097" class="Symbol">(</a><a id="8098" href="hoareTripleStack.html#1485" class="InductiveConstructor">hoareTripleStackGen</a> <a id="8118" href="verificationStackScripts.hoareTripleStackBasic.html#8118" class="Bound">==&gt;stg₁</a> <a id="8126" href="verificationStackScripts.hoareTripleStackBasic.html#8126" class="Bound">&lt;==stg₁</a><a id="8133" class="Symbol">)</a> <a id="8135" class="Symbol">.</a><a id="8136" href="verificationStackScripts.stackHoareTriple.html#8314" class="Field">==&gt;g</a> <a id="8141" href="verificationStackScripts.hoareTripleStackBasic.html#8141" class="Bound">s</a> <a id="8143" href="verificationStackScripts.hoareTripleStackBasic.html#8143" class="Bound">p</a>
     <a id="8150" class="Symbol">=</a> <a id="8152" href="verificationStackScripts.hoareTripleStackBasic.html#5326" class="Function">lift2StateCorrectnessStackFun=&gt;</a> <a id="8184" href="verificationStackScripts.hoareTripleStackBasic.html#8089" class="Bound">φ</a>  <a id="8187" href="verificationStackScripts.hoareTripleStackBasic.html#8091" class="Bound">ψ</a>  <a id="8190" href="verificationStackScripts.hoareTripleStackBasic.html#8079" class="Bound">stackfun</a> <a id="8199" href="verificationStackScripts.hoareTripleStackBasic.html#8118" class="Bound">==&gt;stg₁</a> <a id="8207" href="verificationStackScripts.hoareTripleStackBasic.html#8141" class="Bound">s</a> <a id="8209" href="verificationStackScripts.hoareTripleStackBasic.html#8143" class="Bound">p</a>
<a id="8211" href="verificationStackScripts.hoareTripleStackBasic.html#7774" class="Function">lemmaHoareTripleStackPartToHoareTripleGeneric</a> <a id="8257" href="verificationStackScripts.hoareTripleStackBasic.html#8257" class="Bound">stackfun</a>  <a id="8267" href="verificationStackScripts.hoareTripleStackBasic.html#8267" class="Bound">φ</a> <a id="8269" href="verificationStackScripts.hoareTripleStackBasic.html#8269" class="Bound">ψ</a>
    <a id="8275" class="Symbol">(</a><a id="8276" href="hoareTripleStack.html#1485" class="InductiveConstructor">hoareTripleStackGen</a> <a id="8296" href="verificationStackScripts.hoareTripleStackBasic.html#8296" class="Bound">==&gt;stg₁</a> <a id="8304" href="verificationStackScripts.hoareTripleStackBasic.html#8304" class="Bound">&lt;==stg₁</a><a id="8311" class="Symbol">)</a> <a id="8313" class="Symbol">.</a><a id="8314" href="verificationStackScripts.stackHoareTriple.html#8363" class="Field">&lt;==g</a> <a id="8319" href="verificationStackScripts.hoareTripleStackBasic.html#8319" class="Bound">s</a> <a id="8321" href="verificationStackScripts.hoareTripleStackBasic.html#8321" class="Bound">p</a>
     <a id="8328" class="Symbol">=</a> <a id="8330" href="verificationStackScripts.hoareTripleStackBasic.html#6841" class="Function">lift2StateCorrectnessStackFun&lt;=</a> <a id="8362" href="verificationStackScripts.hoareTripleStackBasic.html#8267" class="Bound">φ</a>  <a id="8365" href="verificationStackScripts.hoareTripleStackBasic.html#8269" class="Bound">ψ</a>  <a id="8368" href="verificationStackScripts.hoareTripleStackBasic.html#8257" class="Bound">stackfun</a> <a id="8377" href="verificationStackScripts.hoareTripleStackBasic.html#8304" class="Bound">&lt;==stg₁</a> <a id="8385" href="verificationStackScripts.hoareTripleStackBasic.html#8319" class="Bound">s</a> <a id="8387" href="verificationStackScripts.hoareTripleStackBasic.html#8321" class="Bound">p</a>



<a id="8392" class="Comment">-- Hoare triple correctness of the stack function of an instruction</a>
<a id="8460" class="Comment">-- implies correctness of the Hoare triple for that instruction</a>

<a id="hoartTripleStackPartImpliesHoareTriple"></a><a id="8525" href="verificationStackScripts.hoareTripleStackBasic.html#8525" class="Function">hoartTripleStackPartImpliesHoareTriple</a> <a id="8564" class="Symbol">:</a>
     <a id="8571" class="Symbol">(</a><a id="8572" href="verificationStackScripts.hoareTripleStackBasic.html#8572" class="Bound">op</a> <a id="8575" class="Symbol">:</a> <a id="8577" href="instructionBasic.html#745" class="Datatype">InstructionBasic</a><a id="8593" class="Symbol">)</a>
     <a id="8600" class="Symbol">(</a><a id="8601" href="verificationStackScripts.hoareTripleStackBasic.html#8601" class="Bound">φ</a> <a id="8603" href="verificationStackScripts.hoareTripleStackBasic.html#8603" class="Bound">ψ</a> <a id="8605" class="Symbol">:</a> <a id="8607" href="stackPredicate.html#909" class="Function">StackPredicate</a><a id="8621" class="Symbol">)</a>
     <a id="8628" class="Symbol">→</a> <a id="8630" href="verificationStackScripts.hoareTripleStackBasic.html#1793" class="Function Operator">&lt;</a> <a id="8632" href="verificationStackScripts.hoareTripleStackBasic.html#8601" class="Bound">φ</a> <a id="8634" href="verificationStackScripts.hoareTripleStackBasic.html#1793" class="Function Operator">&gt;stackb</a> <a id="8642" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="8644" href="verificationStackScripts.hoareTripleStackBasic.html#8572" class="Bound">op</a> <a id="8647" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="8649" href="verificationStackScripts.hoareTripleStackBasic.html#1793" class="Function Operator">&lt;</a> <a id="8651" href="verificationStackScripts.hoareTripleStackBasic.html#8603" class="Bound">ψ</a> <a id="8653" href="verificationStackScripts.hoareTripleStackBasic.html#1793" class="Function Operator">&gt;</a>
     <a id="8660" class="Symbol">→</a> <a id="8662" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&lt;</a> <a id="8664" href="verificationStackScripts.sPredicate.html#2328" class="Function">stackPred2SPred</a> <a id="8680" href="verificationStackScripts.hoareTripleStackBasic.html#8601" class="Bound">φ</a>   <a id="8684" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&gt;ⁱᶠᶠ</a> <a id="8689" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="8691" href="verificationStackScripts.hoareTripleStackBasic.html#8572" class="Bound">op</a> <a id="8694" href="Data.List.Base.html#5025" class="Function Operator">]</a>  <a id="8697" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&lt;</a>  <a id="8700" href="verificationStackScripts.sPredicate.html#2328" class="Function">stackPred2SPred</a> <a id="8716" href="verificationStackScripts.hoareTripleStackBasic.html#8603" class="Bound">ψ</a>  <a id="8719" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&gt;</a>

<a id="8722" href="verificationStackScripts.hoareTripleStackBasic.html#8525" class="Function">hoartTripleStackPartImpliesHoareTriple</a> <a id="8761" href="verificationStackScripts.hoareTripleStackBasic.html#8761" class="Bound">op</a> <a id="8764" href="verificationStackScripts.hoareTripleStackBasic.html#8764" class="Bound">φ</a> <a id="8766" href="verificationStackScripts.hoareTripleStackBasic.html#8766" class="Bound">ψ</a> <a id="8768" href="verificationStackScripts.hoareTripleStackBasic.html#8768" class="Bound">x</a>
   <a id="8773" class="Symbol">=</a> <a id="8775" href="verificationStackScripts.hoareTripleStackBasic.html#2008" class="Function">lemmaGenericHoareTripleImpliesHoareTriple</a> <a id="8817" href="verificationStackScripts.hoareTripleStackBasic.html#8761" class="Bound">op</a>
      <a id="8826" class="Symbol">(</a><a id="8827" href="verificationStackScripts.sPredicate.html#2328" class="Function">stackPred2SPred</a> <a id="8843" href="verificationStackScripts.hoareTripleStackBasic.html#8764" class="Bound">φ</a><a id="8844" class="Symbol">)</a>
      <a id="8852" class="Symbol">(</a><a id="8853" href="verificationStackScripts.sPredicate.html#2328" class="Function">stackPred2SPred</a> <a id="8869" href="verificationStackScripts.hoareTripleStackBasic.html#8766" class="Bound">ψ</a><a id="8870" class="Symbol">)</a>
      <a id="8878" class="Symbol">(</a><a id="8879" href="verificationStackScripts.hoareTripleStackBasic.html#3016" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="8922" href="verificationStackScripts.hoareTripleStackBasic.html#8761" class="Bound">op</a>
         <a id="8934" class="Symbol">(</a><a id="8935" href="verificationStackScripts.sPredicate.html#2328" class="Function">stackPred2SPred</a> <a id="8951" href="verificationStackScripts.hoareTripleStackBasic.html#8764" class="Bound">φ</a><a id="8952" class="Symbol">)</a>
        <a id="8962" class="Symbol">(</a><a id="8963" href="verificationStackScripts.sPredicate.html#2328" class="Function">stackPred2SPred</a> <a id="8979" href="verificationStackScripts.hoareTripleStackBasic.html#8766" class="Bound">ψ</a><a id="8980" class="Symbol">)</a>
        <a id="8990" class="Symbol">(</a><a id="8991" href="verificationStackScripts.hoareTripleStackBasic.html#7774" class="Function">lemmaHoareTripleStackPartToHoareTripleGeneric</a>
           <a id="9048" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟦</a> <a id="9050" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="9052" href="verificationStackScripts.hoareTripleStackBasic.html#8761" class="Bound">op</a> <a id="9055" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="9057" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟧ˢ</a>  <a id="9061" href="verificationStackScripts.hoareTripleStackBasic.html#8764" class="Bound">φ</a> <a id="9063" href="verificationStackScripts.hoareTripleStackBasic.html#8766" class="Bound">ψ</a> <a id="9065" href="verificationStackScripts.hoareTripleStackBasic.html#8768" class="Bound">x</a><a id="9066" class="Symbol">))</a>
</pre></body></html>