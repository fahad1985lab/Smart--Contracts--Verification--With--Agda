<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>verificationStackScripts.hoareTripleStackBasic</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="basicBitcoinDataType.html" class="Module">basicBitcoinDataType</a>

<a id="35" class="Keyword">module</a> <a id="42" href="verificationStackScripts.hoareTripleStackBasic.html" class="Module">verificationStackScripts.hoareTripleStackBasic</a> <a id="89" class="Symbol">(</a><a id="90" href="verificationStackScripts.hoareTripleStackBasic.html#90" class="Bound">param</a> <a id="96" class="Symbol">:</a> <a id="98" href="basicBitcoinDataType.html#1169" class="Record">GlobalParameters</a><a id="114" class="Symbol">)</a> <a id="116" class="Keyword">where</a>

<a id="123" class="Keyword">open</a> <a id="128" class="Keyword">import</a> <a id="135" href="Data.Nat.html" class="Module">Data.Nat</a>  <a id="145" class="Keyword">renaming</a> <a id="154" class="Symbol">(</a><a id="155" href="Data.Nat.Base.html#1535" class="Datatype Operator">_≤_</a> <a id="159" class="Symbol">to</a> <a id="162" class="Datatype Operator">_≤&#39;_</a> <a id="167" class="Symbol">;</a> <a id="169" href="Data.Nat.Base.html#1645" class="Function Operator">_&lt;_</a> <a id="173" class="Symbol">to</a> <a id="176" class="Function Operator">_&lt;&#39;_</a><a id="180" class="Symbol">)</a>
<a id="182" class="Keyword">open</a> <a id="187" class="Keyword">import</a> <a id="194" href="Data.List.html" class="Module">Data.List</a> <a id="204" class="Keyword">hiding</a> <a id="211" class="Symbol">(</a><a id="212" href="Data.List.Base.html#1810" class="Function Operator">_++_</a><a id="216" class="Symbol">)</a>
<a id="218" class="Keyword">open</a> <a id="223" class="Keyword">import</a> <a id="230" href="Data.Sum.html" class="Module">Data.Sum</a>
<a id="239" class="Keyword">open</a> <a id="244" class="Keyword">import</a> <a id="251" href="Data.Maybe.html" class="Module">Data.Maybe</a>
<a id="262" class="Keyword">open</a> <a id="267" class="Keyword">import</a> <a id="274" href="Data.Unit.html" class="Module">Data.Unit</a>  <a id="285" class="Keyword">hiding</a> <a id="292" class="Symbol">(</a><a id="293" href="Data.Unit.Base.html#1023" class="Record Operator">_≤_</a><a id="296" class="Symbol">)</a>
<a id="298" class="Keyword">open</a> <a id="303" class="Keyword">import</a> <a id="310" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="321" class="Keyword">open</a> <a id="326" class="Keyword">import</a> <a id="333" href="Data.Bool.html" class="Module">Data.Bool</a>  <a id="344" class="Keyword">hiding</a> <a id="351" class="Symbol">(</a><a id="352" href="Data.Bool.Base.html#672" class="Datatype Operator">_≤_</a> <a id="356" class="Symbol">;</a> <a id="358" href="Data.Bool.Base.html#1283" class="Function Operator">if_then_else_</a> <a id="372" class="Symbol">)</a> <a id="374" class="Keyword">renaming</a> <a id="383" class="Symbol">(</a><a id="384" href="Data.Bool.Base.html#986" class="Function Operator">_∧_</a> <a id="388" class="Symbol">to</a> <a id="391" class="Function Operator">_∧b_</a> <a id="396" class="Symbol">;</a> <a id="398" href="Data.Bool.Base.html#1044" class="Function Operator">_∨_</a> <a id="402" class="Symbol">to</a> <a id="405" class="Function Operator">_∨b_</a> <a id="410" class="Symbol">;</a> <a id="412" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="414" class="Symbol">to</a> <a id="417" class="Function">True</a><a id="421" class="Symbol">)</a>
<a id="423" class="Keyword">open</a> <a id="428" class="Keyword">import</a> <a id="435" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="450" class="Keyword">hiding</a> <a id="457" class="Symbol">(</a><a id="458" href="Data.Bool.Base.html#672" class="Datatype Operator">_≤_</a> <a id="462" class="Symbol">;</a> <a id="464" href="Data.Bool.Base.html#1283" class="Function Operator">if_then_else_</a> <a id="478" class="Symbol">)</a> <a id="480" class="Keyword">renaming</a> <a id="489" class="Symbol">(</a><a id="490" href="Data.Bool.Base.html#986" class="Function Operator">_∧_</a> <a id="494" class="Symbol">to</a> <a id="497" class="Function Operator">_∧b_</a> <a id="502" class="Symbol">;</a> <a id="504" href="Data.Bool.Base.html#1044" class="Function Operator">_∨_</a> <a id="508" class="Symbol">to</a> <a id="511" class="Function Operator">_∨b_</a> <a id="516" class="Symbol">;</a> <a id="518" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="520" class="Symbol">to</a> <a id="523" class="Function">True</a><a id="527" class="Symbol">)</a>
<a id="529" class="Keyword">open</a> <a id="534" class="Keyword">import</a> <a id="541" href="Data.Product.html" class="Module">Data.Product</a> <a id="554" class="Keyword">renaming</a> <a id="563" class="Symbol">(</a><a id="564" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="568" class="Symbol">to</a> <a id="571" class="InductiveConstructor Operator">_,,_</a> <a id="576" class="Symbol">)</a>
<a id="578" class="Keyword">open</a> <a id="583" class="Keyword">import</a> <a id="590" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="604" class="Keyword">hiding</a> <a id="611" class="Symbol">(</a><a id="612" href="Data.Nat.Base.html#1535" class="Datatype Operator">_≤_</a><a id="615" class="Symbol">)</a>
<a id="617" class="Keyword">import</a> <a id="624" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="662" class="Symbol">as</a> <a id="665" class="Module">Eq</a>
<a id="668" class="Keyword">open</a> <a id="673" href="Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="676" class="Keyword">using</a> <a id="682" class="Symbol">(</a><a id="683" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="686" class="Symbol">;</a> <a id="688" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="692" class="Symbol">;</a> <a id="694" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a><a id="698" class="Symbol">;</a> <a id="700" class="Keyword">module</a> <a id="707" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a><a id="718" class="Symbol">;</a> <a id="720" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a><a id="723" class="Symbol">)</a>
<a id="725" class="Keyword">open</a> <a id="730" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a>
<a id="742" class="Keyword">open</a> <a id="747" class="Keyword">import</a> <a id="754" href="Agda.Builtin.Equality.html" class="Module">Agda.Builtin.Equality</a>


<a id="778" class="Comment">-- our libraries</a>
<a id="795" class="Keyword">open</a> <a id="800" class="Keyword">import</a> <a id="807" href="libraries.listLib.html" class="Module">libraries.listLib</a>
<a id="825" class="Keyword">open</a> <a id="830" class="Keyword">import</a> <a id="837" href="libraries.natLib.html" class="Module">libraries.natLib</a>
<a id="854" class="Keyword">open</a> <a id="859" class="Keyword">import</a> <a id="866" href="libraries.boolLib.html" class="Module">libraries.boolLib</a>
<a id="884" class="Keyword">open</a> <a id="889" class="Keyword">import</a> <a id="896" href="libraries.andLib.html" class="Module">libraries.andLib</a>
<a id="913" class="Keyword">open</a> <a id="918" class="Keyword">import</a> <a id="925" href="libraries.maybeLib.html" class="Module">libraries.maybeLib</a>
<a id="944" class="Keyword">open</a> <a id="949" class="Keyword">import</a> <a id="956" href="libraries.emptyLib.html" class="Module">libraries.emptyLib</a>


<a id="977" class="Keyword">open</a> <a id="982" class="Keyword">import</a> <a id="989" href="stack.html" class="Module">stack</a>
<a id="995" class="Keyword">open</a> <a id="1000" class="Keyword">import</a> <a id="1007" href="stackPredicate.html" class="Module">stackPredicate</a>
<a id="1022" class="Keyword">open</a> <a id="1027" class="Keyword">import</a> <a id="1034" href="instructionBasic.html" class="Module">instructionBasic</a>
<a id="1051" class="Keyword">open</a> <a id="1056" class="Keyword">import</a> <a id="1063" href="hoareTripleStack.html" class="Module">hoareTripleStack</a> <a id="1080" href="verificationStackScripts.hoareTripleStackBasic.html#90" class="Bound">param</a>
<a id="1086" class="Keyword">open</a> <a id="1091" class="Keyword">import</a> <a id="1098" href="verificationStackScripts.stackState.html" class="Module">verificationStackScripts.stackState</a>
<a id="1134" class="Keyword">open</a> <a id="1139" class="Keyword">import</a> <a id="1146" href="verificationStackScripts.sPredicate.html" class="Module">verificationStackScripts.sPredicate</a>
<a id="1182" class="Keyword">open</a> <a id="1187" class="Keyword">import</a> <a id="1194" href="verificationStackScripts.semanticsStackInstructions.html" class="Module">verificationStackScripts.semanticsStackInstructions</a> <a id="1246" href="verificationStackScripts.hoareTripleStackBasic.html#90" class="Bound">param</a>
<a id="1252" class="Keyword">open</a> <a id="1257" class="Keyword">import</a> <a id="1264" href="verificationStackScripts.stackSemanticsInstructionsBasic.html" class="Module">verificationStackScripts.stackSemanticsInstructionsBasic</a> <a id="1321" href="verificationStackScripts.hoareTripleStackBasic.html#90" class="Bound">param</a>
<a id="1327" class="Keyword">open</a> <a id="1332" class="Keyword">import</a> <a id="1339" href="verificationStackScripts.stackVerificationLemmas.html" class="Module">verificationStackScripts.stackVerificationLemmas</a> <a id="1388" href="verificationStackScripts.hoareTripleStackBasic.html#90" class="Bound">param</a>
<a id="1394" class="Keyword">open</a> <a id="1399" class="Keyword">import</a> <a id="1406" href="verificationStackScripts.stackHoareTriple.html" class="Module">verificationStackScripts.stackHoareTriple</a> <a id="1448" href="verificationStackScripts.hoareTripleStackBasic.html#90" class="Bound">param</a>


<a id="1456" class="Comment">--------------------------------------------------------------------------</a>
<a id="1531" class="Comment">--   defines hoare triples for stack functions</a>
<a id="1578" class="Comment">--   and that their correspondence to the full hoare triples for nonif instructions</a>
<a id="1662" class="Comment">---------------------------------------------------------------------------------------</a>


<a id="1752" class="Comment">-- Hoare triple  with stack instructions</a>
<a id="&lt;_&gt;stackb_&lt;_&gt;"></a><a id="1793" href="verificationStackScripts.hoareTripleStackBasic.html#1793" class="Function Operator">&lt;_&gt;stackb_&lt;_&gt;</a> <a id="1807" class="Symbol">:</a> <a id="1809" href="stackPredicate.html#909" class="Function">StackPredicate</a> <a id="1824" class="Symbol">→</a> <a id="1826" href="instructionBasic.html#1042" class="Function">BitcoinScriptBasic</a> <a id="1845" class="Symbol">→</a> <a id="1847" href="stackPredicate.html#909" class="Function">StackPredicate</a> <a id="1862" class="Symbol">→</a> <a id="1864" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="1868" href="verificationStackScripts.hoareTripleStackBasic.html#1793" class="Function Operator">&lt;</a> <a id="1870" href="verificationStackScripts.hoareTripleStackBasic.html#1870" class="Bound">φ</a> <a id="1872" href="verificationStackScripts.hoareTripleStackBasic.html#1793" class="Function Operator">&gt;stackb</a> <a id="1880" href="verificationStackScripts.hoareTripleStackBasic.html#1880" class="Bound">prog</a> <a id="1885" href="verificationStackScripts.hoareTripleStackBasic.html#1793" class="Function Operator">&lt;</a> <a id="1887" href="verificationStackScripts.hoareTripleStackBasic.html#1887" class="Bound">ψ</a> <a id="1889" href="verificationStackScripts.hoareTripleStackBasic.html#1793" class="Function Operator">&gt;</a> <a id="1891" class="Symbol">=</a> <a id="1893" href="hoareTripleStack.html#1354" class="Record Operator">&lt;</a> <a id="1895" href="verificationStackScripts.hoareTripleStackBasic.html#1870" class="Bound">φ</a> <a id="1897" href="hoareTripleStack.html#1354" class="Record Operator">&gt;gˢ</a> <a id="1901" class="Symbol">(</a><a id="1902" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟦</a> <a id="1904" href="verificationStackScripts.hoareTripleStackBasic.html#1880" class="Bound">prog</a>  <a id="1910" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟧ˢ</a> <a id="1913" class="Symbol">)</a> <a id="1915" href="hoareTripleStack.html#1354" class="Record Operator">&lt;</a> <a id="1917" href="verificationStackScripts.hoareTripleStackBasic.html#1887" class="Bound">ψ</a> <a id="1919" href="hoareTripleStack.html#1354" class="Record Operator">&gt;</a>

<a id="1922" class="Comment">-- Generalisation of &lt;_&gt;_&lt;_&gt;   by referring instead of Bitcoin Scripts</a>
<a id="1993" class="Comment">--                to functions of type StackState → Maybe StackState</a>
<a id="2062" class="Comment">-- Note that there is a version &lt;_&gt;gˢ_&lt;_&gt; in module hoareTripleStack for StackPredicate</a>
<a id="2150" class="Comment">--      which refers to StackPredicate instead of StackStatePred</a>


<a id="2217" class="Keyword">record</a> <a id="&lt;_&gt;g_&lt;_&gt;"></a><a id="2224" href="verificationStackScripts.hoareTripleStackBasic.html#2224" class="Record Operator">&lt;_&gt;g_&lt;_&gt;</a>  <a id="2234" class="Symbol">(</a><a id="2235" href="verificationStackScripts.hoareTripleStackBasic.html#2235" class="Bound">φ</a> <a id="2237" class="Symbol">:</a> <a id="2239" href="verificationStackScripts.sPredicate.html#1186" class="Function">StackStatePred</a><a id="2253" class="Symbol">)</a> <a id="2255" class="Symbol">(</a><a id="2256" href="verificationStackScripts.hoareTripleStackBasic.html#2256" class="Bound">stackfun</a> <a id="2265" class="Symbol">:</a> <a id="2267" href="verificationStackScripts.stackState.html#931" class="Record">StackState</a> <a id="2278" class="Symbol">→</a> <a id="2280" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="2286" href="verificationStackScripts.stackState.html#931" class="Record">StackState</a><a id="2296" class="Symbol">)</a>
                 <a id="2315" class="Symbol">(</a><a id="2316" href="verificationStackScripts.hoareTripleStackBasic.html#2316" class="Bound">ψ</a> <a id="2318" class="Symbol">:</a> <a id="2320" href="verificationStackScripts.sPredicate.html#1186" class="Function">StackStatePred</a><a id="2334" class="Symbol">)</a> <a id="2336" class="Symbol">:</a> <a id="2338" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="2342" class="Keyword">where</a>
  <a id="2350" class="Keyword">constructor</a> <a id="hoareTripleStackGenStackState"></a><a id="2362" href="verificationStackScripts.hoareTripleStackBasic.html#2362" class="InductiveConstructor">hoareTripleStackGenStackState</a>
  <a id="2394" class="Keyword">field</a>
    <a id="&lt;_&gt;g_&lt;_&gt;.==&gt;stg"></a><a id="2404" href="verificationStackScripts.hoareTripleStackBasic.html#2404" class="Field">==&gt;stg</a> <a id="2411" class="Symbol">:</a> <a id="2413" class="Symbol">(</a><a id="2414" href="verificationStackScripts.hoareTripleStackBasic.html#2414" class="Bound">s</a> <a id="2416" class="Symbol">:</a> <a id="2418" href="verificationStackScripts.stackState.html#931" class="Record">StackState</a><a id="2428" class="Symbol">)</a>
            <a id="2442" class="Symbol">→</a> <a id="2444" href="verificationStackScripts.hoareTripleStackBasic.html#2235" class="Bound">φ</a> <a id="2446" href="verificationStackScripts.hoareTripleStackBasic.html#2414" class="Bound">s</a>
            <a id="2460" class="Symbol">→</a> <a id="2462" href="libraries.maybeLib.html#614" class="Function">liftPred2Maybe</a> <a id="2477" href="verificationStackScripts.hoareTripleStackBasic.html#2316" class="Bound">ψ</a> <a id="2479" class="Symbol">(</a><a id="2480" href="verificationStackScripts.hoareTripleStackBasic.html#2256" class="Bound">stackfun</a> <a id="2489" href="verificationStackScripts.hoareTripleStackBasic.html#2414" class="Bound">s</a><a id="2490" class="Symbol">)</a>
    <a id="&lt;_&gt;g_&lt;_&gt;.&lt;==stg"></a><a id="2496" href="verificationStackScripts.hoareTripleStackBasic.html#2496" class="Field">&lt;==stg</a> <a id="2503" class="Symbol">:</a> <a id="2505" class="Symbol">(</a><a id="2506" href="verificationStackScripts.hoareTripleStackBasic.html#2506" class="Bound">s</a> <a id="2508" class="Symbol">:</a> <a id="2510" href="verificationStackScripts.stackState.html#931" class="Record">StackState</a><a id="2520" class="Symbol">)</a>
            <a id="2534" class="Symbol">→</a> <a id="2536" href="libraries.maybeLib.html#614" class="Function">liftPred2Maybe</a> <a id="2551" href="verificationStackScripts.hoareTripleStackBasic.html#2316" class="Bound">ψ</a> <a id="2553" class="Symbol">(</a><a id="2554" href="verificationStackScripts.hoareTripleStackBasic.html#2256" class="Bound">stackfun</a> <a id="2563" href="verificationStackScripts.hoareTripleStackBasic.html#2506" class="Bound">s</a><a id="2564" class="Symbol">)</a>
            <a id="2578" class="Symbol">→</a> <a id="2580" href="verificationStackScripts.hoareTripleStackBasic.html#2235" class="Bound">φ</a> <a id="2582" href="verificationStackScripts.hoareTripleStackBasic.html#2506" class="Bound">s</a>
<a id="2584" class="Keyword">open</a> <a id="2589" href="verificationStackScripts.hoareTripleStackBasic.html#2224" class="Module Operator">&lt;_&gt;g_&lt;_&gt;</a> <a id="2598" class="Keyword">public</a>





<a id="2610" class="Comment">-- Proof that the generic Hoare triple implies the standard one for an instruction</a>
<a id="lemmaGenericHoareTripleImpliesHoareTriple"></a><a id="2693" href="verificationStackScripts.hoareTripleStackBasic.html#2693" class="Function">lemmaGenericHoareTripleImpliesHoareTriple</a> <a id="2735" class="Symbol">:</a> <a id="2737" class="Symbol">(</a><a id="2738" href="verificationStackScripts.hoareTripleStackBasic.html#2738" class="Bound">instr</a> <a id="2744" class="Symbol">:</a> <a id="2746" href="instructionBasic.html#745" class="Datatype">InstructionBasic</a><a id="2762" class="Symbol">)</a>
                                            <a id="2808" class="Symbol">(</a><a id="2809" href="verificationStackScripts.hoareTripleStackBasic.html#2809" class="Bound">φ</a> <a id="2811" href="verificationStackScripts.hoareTripleStackBasic.html#2811" class="Bound">ψ</a> <a id="2813" class="Symbol">:</a> <a id="2815" href="verificationStackScripts.sPredicate.html#1186" class="Function">StackStatePred</a><a id="2829" class="Symbol">)</a>
                                            <a id="2875" class="Symbol">→</a> <a id="2877" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&lt;</a> <a id="2879" href="verificationStackScripts.hoareTripleStackBasic.html#2809" class="Bound">φ</a> <a id="2881" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&gt;ssgen</a> <a id="2888" href="verificationStackScripts.semanticsStackInstructions.html#1063" class="Function Operator">⟦</a> <a id="2890" href="verificationStackScripts.hoareTripleStackBasic.html#2738" class="Bound">instr</a> <a id="2896" href="verificationStackScripts.semanticsStackInstructions.html#1063" class="Function Operator">⟧ₛ</a>  <a id="2900" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&lt;</a> <a id="2902" href="verificationStackScripts.hoareTripleStackBasic.html#2811" class="Bound">ψ</a> <a id="2904" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&gt;</a>
                                            <a id="2950" class="Symbol">→</a> <a id="2952" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&lt;</a> <a id="2954" href="verificationStackScripts.hoareTripleStackBasic.html#2809" class="Bound">φ</a> <a id="2956" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&gt;ⁱᶠᶠ</a> <a id="2961" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="2963" href="verificationStackScripts.hoareTripleStackBasic.html#2738" class="Bound">instr</a> <a id="2969" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="2971" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&lt;</a> <a id="2973" href="verificationStackScripts.hoareTripleStackBasic.html#2811" class="Bound">ψ</a> <a id="2975" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&gt;</a>
<a id="2977" href="verificationStackScripts.hoareTripleStackBasic.html#2693" class="Function">lemmaGenericHoareTripleImpliesHoareTriple</a> <a id="3019" href="verificationStackScripts.hoareTripleStackBasic.html#3019" class="Bound">instr</a> <a id="3025" href="verificationStackScripts.hoareTripleStackBasic.html#3025" class="Bound">φ</a> <a id="3027" href="verificationStackScripts.hoareTripleStackBasic.html#3027" class="Bound">ψ</a> <a id="3029" href="verificationStackScripts.hoareTripleStackBasic.html#3029" class="Bound">prog</a> <a id="3034" class="Symbol">.</a><a id="3035" href="verificationStackScripts.stackHoareTriple.html#1711" class="Field">==&gt;</a> <a id="3039" class="Symbol">=</a> <a id="3041" href="verificationStackScripts.hoareTripleStackBasic.html#3029" class="Bound">prog</a> <a id="3046" class="Symbol">.</a><a id="3047" href="verificationStackScripts.stackHoareTriple.html#8314" class="Field">==&gt;g</a>
<a id="3052" href="verificationStackScripts.hoareTripleStackBasic.html#2693" class="Function">lemmaGenericHoareTripleImpliesHoareTriple</a> <a id="3094" href="verificationStackScripts.hoareTripleStackBasic.html#3094" class="Bound">instr</a> <a id="3100" href="verificationStackScripts.hoareTripleStackBasic.html#3100" class="Bound">φ</a> <a id="3102" href="verificationStackScripts.hoareTripleStackBasic.html#3102" class="Bound">ψ</a> <a id="3104" href="verificationStackScripts.hoareTripleStackBasic.html#3104" class="Bound">prog</a> <a id="3109" class="Symbol">.</a><a id="3110" href="verificationStackScripts.stackHoareTriple.html#1763" class="Field">&lt;==</a> <a id="3114" class="Symbol">=</a> <a id="3116" href="verificationStackScripts.hoareTripleStackBasic.html#3104" class="Bound">prog</a> <a id="3121" class="Symbol">.</a><a id="3122" href="verificationStackScripts.stackHoareTriple.html#8363" class="Field">&lt;==g</a>


<a id="lemmaGenericHoareTripleImpliesHoareTriple&#39;&#39;"></a><a id="3129" href="verificationStackScripts.hoareTripleStackBasic.html#3129" class="Function">lemmaGenericHoareTripleImpliesHoareTriple&#39;&#39;</a> <a id="3173" class="Symbol">:</a> <a id="3175" class="Symbol">(</a><a id="3176" href="verificationStackScripts.hoareTripleStackBasic.html#3176" class="Bound">prog</a> <a id="3181" class="Symbol">:</a> <a id="3183" href="instructionBasic.html#1042" class="Function">BitcoinScriptBasic</a><a id="3201" class="Symbol">)</a>
                                            <a id="3247" class="Symbol">(</a><a id="3248" href="verificationStackScripts.hoareTripleStackBasic.html#3248" class="Bound">φ</a> <a id="3250" href="verificationStackScripts.hoareTripleStackBasic.html#3250" class="Bound">ψ</a> <a id="3252" class="Symbol">:</a> <a id="3254" href="verificationStackScripts.sPredicate.html#1186" class="Function">StackStatePred</a><a id="3268" class="Symbol">)</a>
                                            <a id="3314" class="Symbol">→</a> <a id="3316" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&lt;</a> <a id="3318" href="verificationStackScripts.hoareTripleStackBasic.html#3248" class="Bound">φ</a> <a id="3320" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&gt;ssgen</a> <a id="3327" href="verificationStackScripts.semanticsStackInstructions.html#1260" class="Function Operator">⟦</a> <a id="3329" href="verificationStackScripts.hoareTripleStackBasic.html#3176" class="Bound">prog</a> <a id="3334" href="verificationStackScripts.semanticsStackInstructions.html#1260" class="Function Operator">⟧</a>  <a id="3337" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&lt;</a> <a id="3339" href="verificationStackScripts.hoareTripleStackBasic.html#3250" class="Bound">ψ</a> <a id="3341" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&gt;</a>
                                            <a id="3387" class="Symbol">→</a> <a id="3389" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&lt;</a> <a id="3391" href="verificationStackScripts.hoareTripleStackBasic.html#3248" class="Bound">φ</a> <a id="3393" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&gt;ⁱᶠᶠ</a> <a id="3398" href="verificationStackScripts.hoareTripleStackBasic.html#3176" class="Bound">prog</a> <a id="3403" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&lt;</a> <a id="3405" href="verificationStackScripts.hoareTripleStackBasic.html#3250" class="Bound">ψ</a> <a id="3407" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&gt;</a>
<a id="3409" href="verificationStackScripts.hoareTripleStackBasic.html#3129" class="Function">lemmaGenericHoareTripleImpliesHoareTriple&#39;&#39;</a> <a id="3453" href="verificationStackScripts.hoareTripleStackBasic.html#3453" class="Bound">prog</a> <a id="3458" href="verificationStackScripts.hoareTripleStackBasic.html#3458" class="Bound">φ</a> <a id="3460" href="verificationStackScripts.hoareTripleStackBasic.html#3460" class="Bound">ψ</a> <a id="3462" href="verificationStackScripts.hoareTripleStackBasic.html#3462" class="Bound">prog₁</a> <a id="3468" class="Symbol">.</a><a id="3469" href="verificationStackScripts.stackHoareTriple.html#1711" class="Field">==&gt;</a> <a id="3473" class="Symbol">=</a> <a id="3475" href="verificationStackScripts.hoareTripleStackBasic.html#3462" class="Bound">prog₁</a> <a id="3481" class="Symbol">.</a><a id="3482" href="verificationStackScripts.stackHoareTriple.html#8314" class="Field">==&gt;g</a>
<a id="3487" href="verificationStackScripts.hoareTripleStackBasic.html#3129" class="Function">lemmaGenericHoareTripleImpliesHoareTriple&#39;&#39;</a> <a id="3531" href="verificationStackScripts.hoareTripleStackBasic.html#3531" class="Bound">prog</a> <a id="3536" href="verificationStackScripts.hoareTripleStackBasic.html#3536" class="Bound">φ</a> <a id="3538" href="verificationStackScripts.hoareTripleStackBasic.html#3538" class="Bound">ψ</a> <a id="3540" href="verificationStackScripts.hoareTripleStackBasic.html#3540" class="Bound">prog₁</a> <a id="3546" class="Symbol">.</a><a id="3547" href="verificationStackScripts.stackHoareTriple.html#1763" class="Field">&lt;==</a> <a id="3551" class="Symbol">=</a> <a id="3553" href="verificationStackScripts.hoareTripleStackBasic.html#3540" class="Bound">prog₁</a> <a id="3559" class="Symbol">.</a><a id="3560" href="verificationStackScripts.stackHoareTriple.html#8363" class="Field">&lt;==g</a>



<a id="3568" class="Comment">-- intermediate step towards showing that the</a>
<a id="3614" class="Comment">--   Hoare triple of a stack function implies</a>
<a id="3660" class="Comment">--   the Hoare triple of the instruction</a>
<a id="lemmaNonIfInstrGenericCondImpliesTripleaux"></a><a id="3701" href="verificationStackScripts.hoareTripleStackBasic.html#3701" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="3744" class="Symbol">:</a>
          <a id="3756" class="Symbol">(</a><a id="3757" href="verificationStackScripts.hoareTripleStackBasic.html#3757" class="Bound">op</a> <a id="3760" class="Symbol">:</a> <a id="3762" href="instructionBasic.html#745" class="Datatype">InstructionBasic</a><a id="3778" class="Symbol">)</a>
          <a id="3790" class="Symbol">(</a><a id="3791" href="verificationStackScripts.hoareTripleStackBasic.html#3791" class="Bound">φ</a> <a id="3793" href="verificationStackScripts.hoareTripleStackBasic.html#3793" class="Bound">ψ</a> <a id="3795" class="Symbol">:</a> <a id="3797" href="verificationStackScripts.sPredicate.html#1186" class="Function">StackStatePred</a><a id="3811" class="Symbol">)</a>
          <a id="3823" class="Symbol">→</a> <a id="3825" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&lt;</a> <a id="3827" href="verificationStackScripts.hoareTripleStackBasic.html#3791" class="Bound">φ</a> <a id="3829" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&gt;ssgen</a> <a id="3836" href="verificationStackScripts.stackState.html#2066" class="Function">stackTransform2StackStateTransform</a> <a id="3871" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟦</a> <a id="3873" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="3875" href="verificationStackScripts.hoareTripleStackBasic.html#3757" class="Bound">op</a> <a id="3878" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="3880" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟧ˢ</a> <a id="3883" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&lt;</a> <a id="3885" href="verificationStackScripts.hoareTripleStackBasic.html#3793" class="Bound">ψ</a> <a id="3887" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&gt;</a>
          <a id="3899" class="Symbol">→</a> <a id="3901" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&lt;</a> <a id="3903" href="verificationStackScripts.hoareTripleStackBasic.html#3791" class="Bound">φ</a> <a id="3905" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&gt;ssgen</a> <a id="3912" href="verificationStackScripts.semanticsStackInstructions.html#1063" class="Function Operator">⟦</a> <a id="3914" href="verificationStackScripts.hoareTripleStackBasic.html#3757" class="Bound">op</a> <a id="3917" href="verificationStackScripts.semanticsStackInstructions.html#1063" class="Function Operator">⟧ₛ</a>  <a id="3921" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&lt;</a> <a id="3923" href="verificationStackScripts.hoareTripleStackBasic.html#3793" class="Bound">ψ</a> <a id="3925" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&gt;</a>
<a id="3927" href="verificationStackScripts.hoareTripleStackBasic.html#3701" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="3970" href="instructionBasic.html#776" class="InductiveConstructor">opEqual</a>  <a id="3979" href="verificationStackScripts.hoareTripleStackBasic.html#3979" class="Bound">φ</a> <a id="3981" href="verificationStackScripts.hoareTripleStackBasic.html#3981" class="Bound">ψ</a> <a id="3983" href="verificationStackScripts.hoareTripleStackBasic.html#3983" class="Bound">x</a> <a id="3985" class="Symbol">=</a> <a id="3987" href="verificationStackScripts.hoareTripleStackBasic.html#3983" class="Bound">x</a>
<a id="3989" href="verificationStackScripts.hoareTripleStackBasic.html#3701" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4032" href="instructionBasic.html#784" class="InductiveConstructor">opAdd</a>  <a id="4039" href="verificationStackScripts.hoareTripleStackBasic.html#4039" class="Bound">φ</a> <a id="4041" href="verificationStackScripts.hoareTripleStackBasic.html#4041" class="Bound">ψ</a> <a id="4043" href="verificationStackScripts.hoareTripleStackBasic.html#4043" class="Bound">x</a> <a id="4045" class="Symbol">=</a> <a id="4047" href="verificationStackScripts.hoareTripleStackBasic.html#4043" class="Bound">x</a>
<a id="4049" href="verificationStackScripts.hoareTripleStackBasic.html#3701" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4092" class="Symbol">(</a><a id="4093" href="instructionBasic.html#950" class="InductiveConstructor">opPush</a> <a id="4100" href="verificationStackScripts.hoareTripleStackBasic.html#4100" class="Bound">x₁</a><a id="4102" class="Symbol">)</a>  <a id="4105" href="verificationStackScripts.hoareTripleStackBasic.html#4105" class="Bound">φ</a> <a id="4107" href="verificationStackScripts.hoareTripleStackBasic.html#4107" class="Bound">ψ</a> <a id="4109" href="verificationStackScripts.hoareTripleStackBasic.html#4109" class="Bound">x</a> <a id="4111" class="Symbol">=</a> <a id="4113" href="verificationStackScripts.hoareTripleStackBasic.html#4109" class="Bound">x</a>
<a id="4115" href="verificationStackScripts.hoareTripleStackBasic.html#3701" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4158" href="instructionBasic.html#790" class="InductiveConstructor">opSub</a>  <a id="4165" href="verificationStackScripts.hoareTripleStackBasic.html#4165" class="Bound">φ</a> <a id="4167" href="verificationStackScripts.hoareTripleStackBasic.html#4167" class="Bound">ψ</a> <a id="4169" href="verificationStackScripts.hoareTripleStackBasic.html#4169" class="Bound">x</a> <a id="4171" class="Symbol">=</a> <a id="4173" href="verificationStackScripts.hoareTripleStackBasic.html#4169" class="Bound">x</a>
<a id="4175" href="verificationStackScripts.hoareTripleStackBasic.html#3701" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4218" href="instructionBasic.html#796" class="InductiveConstructor">opVerify</a>  <a id="4228" href="verificationStackScripts.hoareTripleStackBasic.html#4228" class="Bound">φ</a> <a id="4230" href="verificationStackScripts.hoareTripleStackBasic.html#4230" class="Bound">ψ</a> <a id="4232" href="verificationStackScripts.hoareTripleStackBasic.html#4232" class="Bound">x</a> <a id="4234" class="Symbol">=</a> <a id="4236" href="verificationStackScripts.hoareTripleStackBasic.html#4232" class="Bound">x</a>
<a id="4238" href="verificationStackScripts.hoareTripleStackBasic.html#3701" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4281" href="instructionBasic.html#915" class="InductiveConstructor">opCheckSig</a>  <a id="4293" href="verificationStackScripts.hoareTripleStackBasic.html#4293" class="Bound">φ</a> <a id="4295" href="verificationStackScripts.hoareTripleStackBasic.html#4295" class="Bound">ψ</a> <a id="4297" href="verificationStackScripts.hoareTripleStackBasic.html#4297" class="Bound">x</a> <a id="4299" class="Symbol">=</a> <a id="4301" href="verificationStackScripts.hoareTripleStackBasic.html#4297" class="Bound">x</a>
<a id="4303" href="verificationStackScripts.hoareTripleStackBasic.html#3701" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4346" href="instructionBasic.html#805" class="InductiveConstructor">opEqualVerify</a>  <a id="4361" href="verificationStackScripts.hoareTripleStackBasic.html#4361" class="Bound">φ</a> <a id="4363" href="verificationStackScripts.hoareTripleStackBasic.html#4363" class="Bound">ψ</a> <a id="4365" href="verificationStackScripts.hoareTripleStackBasic.html#4365" class="Bound">x</a> <a id="4367" class="Symbol">=</a> <a id="4369" href="verificationStackScripts.hoareTripleStackBasic.html#4365" class="Bound">x</a>
<a id="4371" href="verificationStackScripts.hoareTripleStackBasic.html#3701" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4414" href="instructionBasic.html#833" class="InductiveConstructor">opDup</a>  <a id="4421" href="verificationStackScripts.hoareTripleStackBasic.html#4421" class="Bound">φ</a> <a id="4423" href="verificationStackScripts.hoareTripleStackBasic.html#4423" class="Bound">ψ</a> <a id="4425" href="verificationStackScripts.hoareTripleStackBasic.html#4425" class="Bound">x</a> <a id="4427" class="Symbol">=</a> <a id="4429" href="verificationStackScripts.hoareTripleStackBasic.html#4425" class="Bound">x</a>
<a id="4431" href="verificationStackScripts.hoareTripleStackBasic.html#3701" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4474" href="instructionBasic.html#819" class="InductiveConstructor">opDrop</a>  <a id="4482" href="verificationStackScripts.hoareTripleStackBasic.html#4482" class="Bound">φ</a> <a id="4484" href="verificationStackScripts.hoareTripleStackBasic.html#4484" class="Bound">ψ</a> <a id="4486" href="verificationStackScripts.hoareTripleStackBasic.html#4486" class="Bound">x</a> <a id="4488" class="Symbol">=</a> <a id="4490" href="verificationStackScripts.hoareTripleStackBasic.html#4486" class="Bound">x</a>
<a id="4492" href="verificationStackScripts.hoareTripleStackBasic.html#3701" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4535" href="instructionBasic.html#826" class="InductiveConstructor">opSwap</a>  <a id="4543" href="verificationStackScripts.hoareTripleStackBasic.html#4543" class="Bound">φ</a> <a id="4545" href="verificationStackScripts.hoareTripleStackBasic.html#4545" class="Bound">ψ</a> <a id="4547" href="verificationStackScripts.hoareTripleStackBasic.html#4547" class="Bound">x</a> <a id="4549" class="Symbol">=</a> <a id="4551" href="verificationStackScripts.hoareTripleStackBasic.html#4547" class="Bound">x</a>
<a id="4553" href="verificationStackScripts.hoareTripleStackBasic.html#3701" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4596" href="instructionBasic.html#863" class="InductiveConstructor">opHash</a>  <a id="4604" href="verificationStackScripts.hoareTripleStackBasic.html#4604" class="Bound">φ</a> <a id="4606" href="verificationStackScripts.hoareTripleStackBasic.html#4606" class="Bound">ψ</a> <a id="4608" href="verificationStackScripts.hoareTripleStackBasic.html#4608" class="Bound">x</a> <a id="4610" class="Symbol">=</a> <a id="4612" href="verificationStackScripts.hoareTripleStackBasic.html#4608" class="Bound">x</a>
<a id="4614" href="verificationStackScripts.hoareTripleStackBasic.html#3701" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4657" href="instructionBasic.html#881" class="InductiveConstructor">opCHECKLOCKTIMEVERIFY</a>  <a id="4680" href="verificationStackScripts.hoareTripleStackBasic.html#4680" class="Bound">φ</a> <a id="4682" href="verificationStackScripts.hoareTripleStackBasic.html#4682" class="Bound">ψ</a> <a id="4684" href="verificationStackScripts.hoareTripleStackBasic.html#4684" class="Bound">x</a> <a id="4686" class="Symbol">=</a> <a id="4688" href="verificationStackScripts.hoareTripleStackBasic.html#4684" class="Bound">x</a>
<a id="4690" href="verificationStackScripts.hoareTripleStackBasic.html#3701" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4733" href="instructionBasic.html#903" class="InductiveConstructor">opCheckSig3</a>  <a id="4746" href="verificationStackScripts.hoareTripleStackBasic.html#4746" class="Bound">φ</a> <a id="4748" href="verificationStackScripts.hoareTripleStackBasic.html#4748" class="Bound">ψ</a> <a id="4750" href="verificationStackScripts.hoareTripleStackBasic.html#4750" class="Bound">x</a> <a id="4752" class="Symbol">=</a> <a id="4754" href="verificationStackScripts.hoareTripleStackBasic.html#4750" class="Bound">x</a>
<a id="4756" href="verificationStackScripts.hoareTripleStackBasic.html#3701" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="4799" href="instructionBasic.html#870" class="InductiveConstructor">opMultiSig</a>  <a id="4811" href="verificationStackScripts.hoareTripleStackBasic.html#4811" class="Bound">φ</a> <a id="4813" href="verificationStackScripts.hoareTripleStackBasic.html#4813" class="Bound">ψ</a> <a id="4815" href="verificationStackScripts.hoareTripleStackBasic.html#4815" class="Bound">x</a> <a id="4817" class="Symbol">=</a> <a id="4819" href="verificationStackScripts.hoareTripleStackBasic.html#4815" class="Bound">x</a>


<a id="lemmaNonIfInstrGenericCondImpliesHoareTriple"></a><a id="4823" href="verificationStackScripts.hoareTripleStackBasic.html#4823" class="Function">lemmaNonIfInstrGenericCondImpliesHoareTriple</a> <a id="4868" class="Symbol">:</a>
          <a id="4880" class="Symbol">(</a><a id="4881" href="verificationStackScripts.hoareTripleStackBasic.html#4881" class="Bound">op</a> <a id="4884" class="Symbol">:</a> <a id="4886" href="instructionBasic.html#745" class="Datatype">InstructionBasic</a><a id="4902" class="Symbol">)</a>
          <a id="4914" class="Symbol">(</a><a id="4915" href="verificationStackScripts.hoareTripleStackBasic.html#4915" class="Bound">φ</a> <a id="4917" href="verificationStackScripts.hoareTripleStackBasic.html#4917" class="Bound">ψ</a> <a id="4919" class="Symbol">:</a> <a id="4921" href="verificationStackScripts.sPredicate.html#1186" class="Function">StackStatePred</a><a id="4935" class="Symbol">)</a>
          <a id="4947" class="Symbol">→</a> <a id="4949" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&lt;</a> <a id="4951" href="verificationStackScripts.hoareTripleStackBasic.html#4915" class="Bound">φ</a> <a id="4953" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&gt;ssgen</a> <a id="4960" href="verificationStackScripts.stackState.html#2066" class="Function">stackTransform2StackStateTransform</a> <a id="4995" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟦</a> <a id="4997" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="4999" href="verificationStackScripts.hoareTripleStackBasic.html#4881" class="Bound">op</a> <a id="5002" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="5004" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟧ˢ</a> <a id="5007" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&lt;</a> <a id="5009" href="verificationStackScripts.hoareTripleStackBasic.html#4917" class="Bound">ψ</a> <a id="5011" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&gt;</a>
          <a id="5023" class="Symbol">→</a> <a id="5025" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&lt;</a> <a id="5027" href="verificationStackScripts.hoareTripleStackBasic.html#4915" class="Bound">φ</a> <a id="5029" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&gt;ⁱᶠᶠ</a> <a id="5034" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="5036" href="verificationStackScripts.hoareTripleStackBasic.html#4881" class="Bound">op</a> <a id="5039" href="Data.List.Base.html#5025" class="Function Operator">]</a>  <a id="5042" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&lt;</a> <a id="5044" href="verificationStackScripts.hoareTripleStackBasic.html#4917" class="Bound">ψ</a> <a id="5046" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&gt;</a>
<a id="5048" href="verificationStackScripts.hoareTripleStackBasic.html#4823" class="Function">lemmaNonIfInstrGenericCondImpliesHoareTriple</a> <a id="5093" href="verificationStackScripts.hoareTripleStackBasic.html#5093" class="Bound">op</a> <a id="5096" href="verificationStackScripts.hoareTripleStackBasic.html#5096" class="Bound">φ</a> <a id="5098" href="verificationStackScripts.hoareTripleStackBasic.html#5098" class="Bound">ψ</a> <a id="5100" href="verificationStackScripts.hoareTripleStackBasic.html#5100" class="Bound">p</a>
  <a id="5104" class="Symbol">=</a> <a id="5106" href="verificationStackScripts.hoareTripleStackBasic.html#2693" class="Function">lemmaGenericHoareTripleImpliesHoareTriple</a> <a id="5148" href="verificationStackScripts.hoareTripleStackBasic.html#5093" class="Bound">op</a> <a id="5151" href="verificationStackScripts.hoareTripleStackBasic.html#5096" class="Bound">φ</a> <a id="5153" href="verificationStackScripts.hoareTripleStackBasic.html#5098" class="Bound">ψ</a>
      <a id="5161" class="Symbol">(</a><a id="5162" href="verificationStackScripts.hoareTripleStackBasic.html#3701" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="5205" href="verificationStackScripts.hoareTripleStackBasic.html#5093" class="Bound">op</a> <a id="5208" href="verificationStackScripts.hoareTripleStackBasic.html#5096" class="Bound">φ</a> <a id="5210" href="verificationStackScripts.hoareTripleStackBasic.html#5098" class="Bound">ψ</a> <a id="5212" href="verificationStackScripts.hoareTripleStackBasic.html#5100" class="Bound">p</a><a id="5213" class="Symbol">)</a>



<a id="5218" class="Comment">-- auxiliary function used for proving lemmaLift2StateCorrectnessStackFun=&gt;</a>
<a id="lemmaLift2StateCorrectnessStackFun=&gt;aux"></a><a id="5294" href="verificationStackScripts.hoareTripleStackBasic.html#5294" class="Function">lemmaLift2StateCorrectnessStackFun=&gt;aux</a> <a id="5334" class="Symbol">:</a> <a id="5336" class="Symbol">(</a><a id="5337" href="verificationStackScripts.hoareTripleStackBasic.html#5337" class="Bound">ψ</a> <a id="5339" class="Symbol">:</a> <a id="5341" href="stackPredicate.html#909" class="Function">StackPredicate</a><a id="5355" class="Symbol">)</a>
                                          <a id="5399" class="Symbol">(</a><a id="5400" href="verificationStackScripts.hoareTripleStackBasic.html#5400" class="Bound">funRes</a> <a id="5407" class="Symbol">:</a> <a id="5409" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="5415" href="stack.html#702" class="Function">Stack</a><a id="5420" class="Symbol">)</a>
                                          <a id="5464" class="Symbol">(</a><a id="5465" href="verificationStackScripts.hoareTripleStackBasic.html#5465" class="Bound">currentTime₁</a> <a id="5478" class="Symbol">:</a> <a id="5480" href="basicBitcoinDataType.html#662" class="Function">Time</a><a id="5484" class="Symbol">)</a>
                                          <a id="5528" class="Symbol">(</a><a id="5529" href="verificationStackScripts.hoareTripleStackBasic.html#5529" class="Bound">msg₁</a> <a id="5534" class="Symbol">:</a> <a id="5536" href="basicBitcoinDataType.html#854" class="Datatype">Msg</a><a id="5539" class="Symbol">)</a>
                                          <a id="5583" class="Symbol">(</a><a id="5584" href="verificationStackScripts.hoareTripleStackBasic.html#5584" class="Bound">p</a> <a id="5586" class="Symbol">:</a> <a id="5588" href="libraries.maybeLib.html#614" class="Function">liftPred2Maybe</a> <a id="5603" class="Symbol">(</a><a id="5604" href="verificationStackScripts.hoareTripleStackBasic.html#5337" class="Bound">ψ</a> <a id="5606" href="verificationStackScripts.hoareTripleStackBasic.html#5465" class="Bound">currentTime₁</a> <a id="5619" href="verificationStackScripts.hoareTripleStackBasic.html#5529" class="Bound">msg₁</a><a id="5623" class="Symbol">)</a> <a id="5625" href="verificationStackScripts.hoareTripleStackBasic.html#5400" class="Bound">funRes</a><a id="5631" class="Symbol">)</a>
                                          <a id="5675" class="Symbol">→</a> <a id="5677" class="Symbol">((</a><a id="5679" href="verificationStackScripts.sPredicate.html#2328" class="Function">stackPred2SPred</a> <a id="5695" href="verificationStackScripts.hoareTripleStackBasic.html#5337" class="Bound">ψ</a> <a id="5697" class="Symbol">)</a> <a id="5699" href="libraries.maybeLib.html#1221" class="Function Operator">⁺</a><a id="5700" class="Symbol">)</a>
                                             <a id="5747" class="Symbol">(</a><a id="5748" href="verificationStackScripts.stackState.html#1477" class="Function">stackState2WithMaybe</a>
                                               <a id="5816" class="InductiveConstructor Operator">⟨</a> <a id="5818" href="verificationStackScripts.hoareTripleStackBasic.html#5465" class="Bound">currentTime₁</a> <a id="5831" class="InductiveConstructor Operator">,</a> <a id="5833" href="verificationStackScripts.hoareTripleStackBasic.html#5529" class="Bound">msg₁</a> <a id="5838" class="InductiveConstructor Operator">,</a> <a id="5840" href="verificationStackScripts.hoareTripleStackBasic.html#5400" class="Bound">funRes</a> <a id="5847" class="InductiveConstructor Operator">⟩</a><a id="5848" class="Symbol">)</a>
<a id="5850" href="verificationStackScripts.hoareTripleStackBasic.html#5294" class="Function">lemmaLift2StateCorrectnessStackFun=&gt;aux</a> <a id="5890" href="verificationStackScripts.hoareTripleStackBasic.html#5890" class="Bound">ψ</a> <a id="5892" class="Symbol">(</a><a id="5893" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="5898" href="verificationStackScripts.hoareTripleStackBasic.html#5898" class="Bound">x</a><a id="5899" class="Symbol">)</a> <a id="5901" href="verificationStackScripts.hoareTripleStackBasic.html#5901" class="Bound">currentTime₁</a> <a id="5914" href="verificationStackScripts.hoareTripleStackBasic.html#5914" class="Bound">msg₁</a> <a id="5919" href="verificationStackScripts.hoareTripleStackBasic.html#5919" class="Bound">p</a> <a id="5921" class="Symbol">=</a> <a id="5923" href="verificationStackScripts.hoareTripleStackBasic.html#5919" class="Bound">p</a>


<a id="5927" class="Comment">-- Stack correctness implies correctness of the hoare triple</a>
<a id="5988" class="Comment">--   here direction =&gt;</a>
<a id="lift2StateCorrectnessStackFun=&gt;"></a><a id="6011" href="verificationStackScripts.hoareTripleStackBasic.html#6011" class="Function">lift2StateCorrectnessStackFun=&gt;</a> <a id="6043" class="Symbol">:</a> <a id="6045" class="Symbol">(</a><a id="6046" href="verificationStackScripts.hoareTripleStackBasic.html#6046" class="Bound">φ</a> <a id="6048" href="verificationStackScripts.hoareTripleStackBasic.html#6048" class="Bound">ψ</a> <a id="6050" class="Symbol">:</a> <a id="6052" href="stackPredicate.html#909" class="Function">StackPredicate</a><a id="6066" class="Symbol">)</a>
                                  <a id="6102" class="Symbol">(</a><a id="6103" href="verificationStackScripts.hoareTripleStackBasic.html#6103" class="Bound">stackfun</a> <a id="6112" class="Symbol">:</a> <a id="6114" href="stack.html#1152" class="Function">StackTransformer</a><a id="6130" class="Symbol">)</a>
                                  <a id="6166" class="Symbol">(</a><a id="6167" href="verificationStackScripts.hoareTripleStackBasic.html#6167" class="Bound">stackCorrectness</a> <a id="6184" class="Symbol">:</a> <a id="6186" class="Symbol">(</a><a id="6187" href="verificationStackScripts.hoareTripleStackBasic.html#6187" class="Bound">time</a> <a id="6192" class="Symbol">:</a> <a id="6194" href="basicBitcoinDataType.html#662" class="Function">Time</a><a id="6198" class="Symbol">)(</a><a id="6200" href="verificationStackScripts.hoareTripleStackBasic.html#6200" class="Bound">msg</a> <a id="6204" class="Symbol">:</a> <a id="6206" href="basicBitcoinDataType.html#854" class="Datatype">Msg</a><a id="6209" class="Symbol">)(</a><a id="6211" href="verificationStackScripts.hoareTripleStackBasic.html#6211" class="Bound">s</a> <a id="6213" class="Symbol">:</a> <a id="6215" href="stack.html#702" class="Function">Stack</a><a id="6220" class="Symbol">)</a>
                                  <a id="6256" class="Symbol">→</a> <a id="6258" href="verificationStackScripts.hoareTripleStackBasic.html#6046" class="Bound">φ</a> <a id="6260" href="verificationStackScripts.hoareTripleStackBasic.html#6187" class="Bound">time</a> <a id="6265" href="verificationStackScripts.hoareTripleStackBasic.html#6200" class="Bound">msg</a> <a id="6269" href="verificationStackScripts.hoareTripleStackBasic.html#6211" class="Bound">s</a> <a id="6271" class="Symbol">→</a> <a id="6273" href="libraries.maybeLib.html#614" class="Function">liftPred2Maybe</a> <a id="6288" class="Symbol">(</a><a id="6289" href="verificationStackScripts.hoareTripleStackBasic.html#6048" class="Bound">ψ</a> <a id="6291" href="verificationStackScripts.hoareTripleStackBasic.html#6187" class="Bound">time</a> <a id="6296" href="verificationStackScripts.hoareTripleStackBasic.html#6200" class="Bound">msg</a><a id="6299" class="Symbol">)</a> <a id="6301" class="Symbol">(</a><a id="6302" href="verificationStackScripts.hoareTripleStackBasic.html#6103" class="Bound">stackfun</a> <a id="6311" href="verificationStackScripts.hoareTripleStackBasic.html#6187" class="Bound">time</a> <a id="6316" href="verificationStackScripts.hoareTripleStackBasic.html#6200" class="Bound">msg</a> <a id="6320" href="verificationStackScripts.hoareTripleStackBasic.html#6211" class="Bound">s</a><a id="6321" class="Symbol">))</a>
                                  <a id="6358" class="Symbol">(</a><a id="6359" href="verificationStackScripts.hoareTripleStackBasic.html#6359" class="Bound">s</a> <a id="6361" class="Symbol">:</a> <a id="6363" href="verificationStackScripts.stackState.html#931" class="Record">StackState</a><a id="6373" class="Symbol">)</a>
                                  <a id="6409" class="Symbol">→</a> <a id="6411" href="verificationStackScripts.sPredicate.html#2328" class="Function">stackPred2SPred</a> <a id="6427" href="verificationStackScripts.hoareTripleStackBasic.html#6046" class="Bound">φ</a> <a id="6429" href="verificationStackScripts.hoareTripleStackBasic.html#6359" class="Bound">s</a>
                                  <a id="6465" class="Symbol">→</a> <a id="6467" class="Symbol">((</a><a id="6469" href="verificationStackScripts.sPredicate.html#2328" class="Function">stackPred2SPred</a> <a id="6485" href="verificationStackScripts.hoareTripleStackBasic.html#6048" class="Bound">ψ</a><a id="6486" class="Symbol">)</a> <a id="6488" href="libraries.maybeLib.html#1221" class="Function Operator">⁺</a><a id="6489" class="Symbol">)</a>
                                                    <a id="6543" class="Symbol">(</a><a id="6544" href="verificationStackScripts.stackState.html#2066" class="Function">stackTransform2StackStateTransform</a> <a id="6579" href="verificationStackScripts.hoareTripleStackBasic.html#6103" class="Bound">stackfun</a> <a id="6588" href="verificationStackScripts.hoareTripleStackBasic.html#6359" class="Bound">s</a><a id="6589" class="Symbol">)</a>
<a id="6591" href="verificationStackScripts.hoareTripleStackBasic.html#6011" class="Function">lift2StateCorrectnessStackFun=&gt;</a> <a id="6623" href="verificationStackScripts.hoareTripleStackBasic.html#6623" class="Bound">φ</a> <a id="6625" href="verificationStackScripts.hoareTripleStackBasic.html#6625" class="Bound">ψ</a> <a id="6627" href="verificationStackScripts.hoareTripleStackBasic.html#6627" class="Bound">stackfun</a> <a id="6636" href="verificationStackScripts.hoareTripleStackBasic.html#6636" class="Bound">stackCorrectness</a> <a id="6653" href="verificationStackScripts.stackState.html#975" class="InductiveConstructor Operator">⟨</a> <a id="6655" href="verificationStackScripts.hoareTripleStackBasic.html#6655" class="Bound">currentTime₁</a> <a id="6668" href="verificationStackScripts.stackState.html#975" class="InductiveConstructor Operator">,</a> <a id="6670" href="verificationStackScripts.hoareTripleStackBasic.html#6670" class="Bound">msg₁</a> <a id="6675" href="verificationStackScripts.stackState.html#975" class="InductiveConstructor Operator">,</a> <a id="6677" href="verificationStackScripts.hoareTripleStackBasic.html#6677" class="Bound">stack₁</a> <a id="6684" href="verificationStackScripts.stackState.html#975" class="InductiveConstructor Operator">⟩</a>  <a id="6687" href="verificationStackScripts.hoareTripleStackBasic.html#6687" class="Bound">and3</a>
      <a id="6698" class="Symbol">=</a> <a id="6700" href="verificationStackScripts.hoareTripleStackBasic.html#5294" class="Function">lemmaLift2StateCorrectnessStackFun=&gt;aux</a> <a id="6740" href="verificationStackScripts.hoareTripleStackBasic.html#6625" class="Bound">ψ</a>  <a id="6743" class="Symbol">(</a><a id="6744" href="verificationStackScripts.hoareTripleStackBasic.html#6627" class="Bound">stackfun</a> <a id="6753" href="verificationStackScripts.hoareTripleStackBasic.html#6655" class="Bound">currentTime₁</a> <a id="6766" href="verificationStackScripts.hoareTripleStackBasic.html#6670" class="Bound">msg₁</a> <a id="6771" href="verificationStackScripts.hoareTripleStackBasic.html#6677" class="Bound">stack₁</a><a id="6777" class="Symbol">)</a> <a id="6779" href="verificationStackScripts.hoareTripleStackBasic.html#6655" class="Bound">currentTime₁</a> <a id="6792" href="verificationStackScripts.hoareTripleStackBasic.html#6670" class="Bound">msg₁</a>
                   <a id="6816" class="Symbol">(</a><a id="6817" href="verificationStackScripts.hoareTripleStackBasic.html#6636" class="Bound">stackCorrectness</a> <a id="6834" href="verificationStackScripts.hoareTripleStackBasic.html#6655" class="Bound">currentTime₁</a> <a id="6847" href="verificationStackScripts.hoareTripleStackBasic.html#6670" class="Bound">msg₁</a> <a id="6852" href="verificationStackScripts.hoareTripleStackBasic.html#6677" class="Bound">stack₁</a> <a id="6859" href="verificationStackScripts.hoareTripleStackBasic.html#6687" class="Bound">and3</a><a id="6863" class="Symbol">)</a>


<a id="lemmaLift2StateCorrectnessStackFun&lt;=aux"></a><a id="6867" href="verificationStackScripts.hoareTripleStackBasic.html#6867" class="Function">lemmaLift2StateCorrectnessStackFun&lt;=aux</a> <a id="6907" class="Symbol">:</a>
     <a id="6914" class="Symbol">(</a><a id="6915" href="verificationStackScripts.hoareTripleStackBasic.html#6915" class="Bound">φ</a> <a id="6917" href="verificationStackScripts.hoareTripleStackBasic.html#6917" class="Bound">ψ</a> <a id="6919" class="Symbol">:</a> <a id="6921" href="stackPredicate.html#909" class="Function">StackPredicate</a><a id="6935" class="Symbol">)</a>
     <a id="6942" class="Symbol">(</a><a id="6943" href="verificationStackScripts.hoareTripleStackBasic.html#6943" class="Bound">funRes</a> <a id="6950" class="Symbol">:</a> <a id="6952" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="6958" href="stack.html#702" class="Function">Stack</a><a id="6963" class="Symbol">)</a>
     <a id="6970" class="Symbol">(</a><a id="6971" href="verificationStackScripts.hoareTripleStackBasic.html#6971" class="Bound">currentTime₁</a> <a id="6984" class="Symbol">:</a> <a id="6986" href="basicBitcoinDataType.html#662" class="Function">Time</a><a id="6990" class="Symbol">)</a>
     <a id="6997" class="Symbol">(</a><a id="6998" href="verificationStackScripts.hoareTripleStackBasic.html#6998" class="Bound">msg₁</a> <a id="7003" class="Symbol">:</a> <a id="7005" href="basicBitcoinDataType.html#854" class="Datatype">Msg</a><a id="7008" class="Symbol">)</a>
     <a id="7015" class="Symbol">(</a><a id="7016" href="verificationStackScripts.hoareTripleStackBasic.html#7016" class="Bound">stack₁</a> <a id="7023" class="Symbol">:</a> <a id="7025" href="stack.html#702" class="Function">Stack</a><a id="7030" class="Symbol">)</a>
     <a id="7037" class="Symbol">(</a><a id="7038" href="verificationStackScripts.hoareTripleStackBasic.html#7038" class="Bound">p</a> <a id="7040" class="Symbol">:</a> <a id="7042" class="Symbol">((λ</a> <a id="7046" href="verificationStackScripts.hoareTripleStackBasic.html#7046" class="Bound">s</a> <a id="7048" class="Symbol">→</a> <a id="7050" href="verificationStackScripts.hoareTripleStackBasic.html#6917" class="Bound">ψ</a> <a id="7052" class="Symbol">(</a><a id="7053" class="Field">currentTime</a> <a id="7065" href="verificationStackScripts.hoareTripleStackBasic.html#7046" class="Bound">s</a><a id="7066" class="Symbol">)</a> <a id="7068" class="Symbol">(</a><a id="7069" class="Field">msg</a> <a id="7073" href="verificationStackScripts.hoareTripleStackBasic.html#7046" class="Bound">s</a><a id="7074" class="Symbol">)</a> <a id="7076" class="Symbol">(</a><a id="7077" href="verificationStackScripts.stackState.html#1132" class="Field">stack</a> <a id="7083" href="verificationStackScripts.hoareTripleStackBasic.html#7046" class="Bound">s</a><a id="7084" class="Symbol">)</a> <a id="7086" class="Symbol">)</a> <a id="7088" href="libraries.maybeLib.html#1221" class="Function Operator">⁺</a><a id="7089" class="Symbol">)</a>
            <a id="7103" class="Symbol">(</a><a id="7104" href="verificationStackScripts.stackState.html#1907" class="Function">exeTransformerDepIfStack&#39;</a>
             <a id="7143" class="Symbol">(</a><a id="7144" href="verificationStackScripts.stackState.html#1709" class="Function">liftStackToStateTransformerAux&#39;</a> <a id="7176" href="verificationStackScripts.hoareTripleStackBasic.html#6943" class="Bound">funRes</a><a id="7182" class="Symbol">)</a>
              <a id="7198" class="InductiveConstructor Operator">⟨</a> <a id="7200" href="verificationStackScripts.hoareTripleStackBasic.html#6971" class="Bound">currentTime₁</a> <a id="7213" class="InductiveConstructor Operator">,</a> <a id="7215" href="verificationStackScripts.hoareTripleStackBasic.html#6998" class="Bound">msg₁</a> <a id="7220" class="InductiveConstructor Operator">,</a> <a id="7222" href="verificationStackScripts.hoareTripleStackBasic.html#7016" class="Bound">stack₁</a>  <a id="7230" class="InductiveConstructor Operator">⟩</a><a id="7231" class="Symbol">))</a>
     <a id="7239" class="Symbol">(</a><a id="7240" href="verificationStackScripts.hoareTripleStackBasic.html#7240" class="Bound">q</a> <a id="7242" class="Symbol">:</a> <a id="7244" href="libraries.maybeLib.html#614" class="Function">liftPred2Maybe</a> <a id="7259" class="Symbol">(</a><a id="7260" href="verificationStackScripts.hoareTripleStackBasic.html#6917" class="Bound">ψ</a> <a id="7262" href="verificationStackScripts.hoareTripleStackBasic.html#6971" class="Bound">currentTime₁</a> <a id="7275" href="verificationStackScripts.hoareTripleStackBasic.html#6998" class="Bound">msg₁</a><a id="7279" class="Symbol">)</a> <a id="7281" href="verificationStackScripts.hoareTripleStackBasic.html#6943" class="Bound">funRes</a> <a id="7288" class="Symbol">→</a> <a id="7290" href="verificationStackScripts.hoareTripleStackBasic.html#6915" class="Bound">φ</a> <a id="7292" href="verificationStackScripts.hoareTripleStackBasic.html#6971" class="Bound">currentTime₁</a> <a id="7305" href="verificationStackScripts.hoareTripleStackBasic.html#6998" class="Bound">msg₁</a> <a id="7310" href="verificationStackScripts.hoareTripleStackBasic.html#7016" class="Bound">stack₁</a><a id="7316" class="Symbol">)</a>
     <a id="7323" class="Symbol">→</a> <a id="7325" href="verificationStackScripts.hoareTripleStackBasic.html#6915" class="Bound">φ</a> <a id="7327" href="verificationStackScripts.hoareTripleStackBasic.html#6971" class="Bound">currentTime₁</a> <a id="7340" href="verificationStackScripts.hoareTripleStackBasic.html#6998" class="Bound">msg₁</a> <a id="7345" href="verificationStackScripts.hoareTripleStackBasic.html#7016" class="Bound">stack₁</a>
<a id="7352" href="verificationStackScripts.hoareTripleStackBasic.html#6867" class="Function">lemmaLift2StateCorrectnessStackFun&lt;=aux</a> <a id="7392" href="verificationStackScripts.hoareTripleStackBasic.html#7392" class="Bound">φ</a> <a id="7394" href="verificationStackScripts.hoareTripleStackBasic.html#7394" class="Bound">ψ</a> <a id="7396" class="Symbol">(</a><a id="7397" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="7402" href="verificationStackScripts.hoareTripleStackBasic.html#7402" class="Bound">x</a><a id="7403" class="Symbol">)</a> <a id="7405" href="verificationStackScripts.hoareTripleStackBasic.html#7405" class="Bound">currentTime₁</a> <a id="7418" href="verificationStackScripts.hoareTripleStackBasic.html#7418" class="Bound">msg₁</a> <a id="7423" href="verificationStackScripts.hoareTripleStackBasic.html#7423" class="Bound">stack₁</a> <a id="7430" href="verificationStackScripts.hoareTripleStackBasic.html#7430" class="Bound">p</a> <a id="7432" href="verificationStackScripts.hoareTripleStackBasic.html#7432" class="Bound">q</a> <a id="7434" class="Symbol">=</a> <a id="7436" href="verificationStackScripts.hoareTripleStackBasic.html#7432" class="Bound">q</a> <a id="7438" href="verificationStackScripts.hoareTripleStackBasic.html#7430" class="Bound">p</a>


<a id="7442" class="Comment">-- Stack correctness implies correctness of the hoare triple</a>
<a id="7503" class="Comment">--   here direction &lt;=</a>
<a id="lift2StateCorrectnessStackFun&lt;="></a><a id="7526" href="verificationStackScripts.hoareTripleStackBasic.html#7526" class="Function">lift2StateCorrectnessStackFun&lt;=</a> <a id="7558" class="Symbol">:</a> <a id="7560" class="Symbol">(</a><a id="7561" href="verificationStackScripts.hoareTripleStackBasic.html#7561" class="Bound">φ</a> <a id="7563" href="verificationStackScripts.hoareTripleStackBasic.html#7563" class="Bound">ψ</a> <a id="7565" class="Symbol">:</a> <a id="7567" href="stackPredicate.html#909" class="Function">StackPredicate</a><a id="7581" class="Symbol">)</a>
                                  <a id="7617" class="Symbol">(</a><a id="7618" href="verificationStackScripts.hoareTripleStackBasic.html#7618" class="Bound">stackfun</a> <a id="7627" class="Symbol">:</a> <a id="7629" href="stack.html#1152" class="Function">StackTransformer</a><a id="7645" class="Symbol">)(</a><a id="7647" href="verificationStackScripts.hoareTripleStackBasic.html#7647" class="Bound">stackCorrectness</a> <a id="7664" class="Symbol">:</a> <a id="7666" class="Symbol">(</a><a id="7667" href="verificationStackScripts.hoareTripleStackBasic.html#7667" class="Bound">time</a> <a id="7672" class="Symbol">:</a> <a id="7674" href="basicBitcoinDataType.html#662" class="Function">Time</a><a id="7678" class="Symbol">)(</a><a id="7680" href="verificationStackScripts.hoareTripleStackBasic.html#7680" class="Bound">msg</a> <a id="7684" class="Symbol">:</a> <a id="7686" href="basicBitcoinDataType.html#854" class="Datatype">Msg</a><a id="7689" class="Symbol">)(</a><a id="7691" href="verificationStackScripts.hoareTripleStackBasic.html#7691" class="Bound">s</a> <a id="7693" class="Symbol">:</a> <a id="7695" href="stack.html#702" class="Function">Stack</a><a id="7700" class="Symbol">)</a>
                                  <a id="7736" class="Symbol">→</a> <a id="7738" href="libraries.maybeLib.html#614" class="Function">liftPred2Maybe</a> <a id="7753" class="Symbol">(</a><a id="7754" href="verificationStackScripts.hoareTripleStackBasic.html#7563" class="Bound">ψ</a> <a id="7756" href="verificationStackScripts.hoareTripleStackBasic.html#7667" class="Bound">time</a> <a id="7761" href="verificationStackScripts.hoareTripleStackBasic.html#7680" class="Bound">msg</a><a id="7764" class="Symbol">)</a> <a id="7766" class="Symbol">(</a><a id="7767" href="verificationStackScripts.hoareTripleStackBasic.html#7618" class="Bound">stackfun</a> <a id="7776" href="verificationStackScripts.hoareTripleStackBasic.html#7667" class="Bound">time</a> <a id="7781" href="verificationStackScripts.hoareTripleStackBasic.html#7680" class="Bound">msg</a> <a id="7785" href="verificationStackScripts.hoareTripleStackBasic.html#7691" class="Bound">s</a><a id="7786" class="Symbol">)</a> <a id="7788" class="Symbol">→</a> <a id="7790" href="verificationStackScripts.hoareTripleStackBasic.html#7561" class="Bound">φ</a> <a id="7792" href="verificationStackScripts.hoareTripleStackBasic.html#7667" class="Bound">time</a> <a id="7797" href="verificationStackScripts.hoareTripleStackBasic.html#7680" class="Bound">msg</a> <a id="7801" href="verificationStackScripts.hoareTripleStackBasic.html#7691" class="Bound">s</a><a id="7802" class="Symbol">)</a>
                                  <a id="7838" class="Symbol">(</a><a id="7839" href="verificationStackScripts.hoareTripleStackBasic.html#7839" class="Bound">s</a> <a id="7841" class="Symbol">:</a> <a id="7843" href="verificationStackScripts.stackState.html#931" class="Record">StackState</a><a id="7853" class="Symbol">)</a>
                                  <a id="7889" class="Symbol">→</a> <a id="7891" class="Symbol">((</a><a id="7893" href="verificationStackScripts.sPredicate.html#2328" class="Function">stackPred2SPred</a> <a id="7909" href="verificationStackScripts.hoareTripleStackBasic.html#7563" class="Bound">ψ</a><a id="7910" class="Symbol">)</a> <a id="7912" href="libraries.maybeLib.html#1221" class="Function Operator">⁺</a><a id="7913" class="Symbol">)</a>
                                                    <a id="7967" class="Symbol">(</a><a id="7968" href="verificationStackScripts.stackState.html#2066" class="Function">stackTransform2StackStateTransform</a> <a id="8003" href="verificationStackScripts.hoareTripleStackBasic.html#7618" class="Bound">stackfun</a> <a id="8012" href="verificationStackScripts.hoareTripleStackBasic.html#7839" class="Bound">s</a><a id="8013" class="Symbol">)</a>
                                  <a id="8049" class="Symbol">→</a> <a id="8051" href="verificationStackScripts.sPredicate.html#2328" class="Function">stackPred2SPred</a> <a id="8067" href="verificationStackScripts.hoareTripleStackBasic.html#7561" class="Bound">φ</a> <a id="8069" href="verificationStackScripts.hoareTripleStackBasic.html#7839" class="Bound">s</a>
<a id="8071" href="verificationStackScripts.hoareTripleStackBasic.html#7526" class="Function">lift2StateCorrectnessStackFun&lt;=</a>  <a id="8104" href="verificationStackScripts.hoareTripleStackBasic.html#8104" class="Bound">φ</a> <a id="8106" href="verificationStackScripts.hoareTripleStackBasic.html#8106" class="Bound">ψ</a> <a id="8108" href="verificationStackScripts.hoareTripleStackBasic.html#8108" class="Bound">stackfun</a> <a id="8117" href="verificationStackScripts.hoareTripleStackBasic.html#8117" class="Bound">stackCorrectness</a> <a id="8134" href="verificationStackScripts.stackState.html#975" class="InductiveConstructor Operator">⟨</a> <a id="8136" href="verificationStackScripts.hoareTripleStackBasic.html#8136" class="Bound">currentTime₁</a> <a id="8149" href="verificationStackScripts.stackState.html#975" class="InductiveConstructor Operator">,</a> <a id="8151" href="verificationStackScripts.hoareTripleStackBasic.html#8151" class="Bound">msg₁</a> <a id="8156" href="verificationStackScripts.stackState.html#975" class="InductiveConstructor Operator">,</a> <a id="8158" href="verificationStackScripts.hoareTripleStackBasic.html#8158" class="Bound">stack₁</a>  <a id="8166" href="verificationStackScripts.stackState.html#975" class="InductiveConstructor Operator">⟩</a> <a id="8168" href="verificationStackScripts.hoareTripleStackBasic.html#8168" class="Bound">x</a>
              <a id="8184" class="Symbol">=</a> <a id="8186" href="verificationStackScripts.hoareTripleStackBasic.html#6867" class="Function">lemmaLift2StateCorrectnessStackFun&lt;=aux</a> <a id="8226" href="verificationStackScripts.hoareTripleStackBasic.html#8104" class="Bound">φ</a> <a id="8228" href="verificationStackScripts.hoareTripleStackBasic.html#8106" class="Bound">ψ</a> <a id="8230" class="Symbol">(</a><a id="8231" href="verificationStackScripts.hoareTripleStackBasic.html#8108" class="Bound">stackfun</a> <a id="8240" href="verificationStackScripts.hoareTripleStackBasic.html#8136" class="Bound">currentTime₁</a> <a id="8253" href="verificationStackScripts.hoareTripleStackBasic.html#8151" class="Bound">msg₁</a>  <a id="8259" href="verificationStackScripts.hoareTripleStackBasic.html#8158" class="Bound">stack₁</a><a id="8265" class="Symbol">)</a>
                    <a id="8287" href="verificationStackScripts.hoareTripleStackBasic.html#8136" class="Bound">currentTime₁</a> <a id="8300" href="verificationStackScripts.hoareTripleStackBasic.html#8151" class="Bound">msg₁</a> <a id="8305" href="verificationStackScripts.hoareTripleStackBasic.html#8158" class="Bound">stack₁</a> <a id="8312" href="verificationStackScripts.hoareTripleStackBasic.html#8168" class="Bound">x</a>  <a id="8315" class="Symbol">(</a><a id="8316" href="verificationStackScripts.hoareTripleStackBasic.html#8117" class="Bound">stackCorrectness</a> <a id="8333" href="verificationStackScripts.hoareTripleStackBasic.html#8136" class="Bound">currentTime₁</a> <a id="8346" href="verificationStackScripts.hoareTripleStackBasic.html#8151" class="Bound">msg₁</a> <a id="8351" href="verificationStackScripts.hoareTripleStackBasic.html#8158" class="Bound">stack₁</a><a id="8357" class="Symbol">)</a>



<a id="8362" class="Comment">-- Correctness of the stack function implies correctness of the Hoare triple</a>
<a id="8439" class="Comment">--    here generic</a>

<a id="lemmaHoareTripleStackPartToHoareTripleGeneric"></a><a id="8459" href="verificationStackScripts.hoareTripleStackBasic.html#8459" class="Function">lemmaHoareTripleStackPartToHoareTripleGeneric</a> <a id="8505" class="Symbol">:</a>
     <a id="8512" class="Symbol">(</a><a id="8513" href="verificationStackScripts.hoareTripleStackBasic.html#8513" class="Bound">stackfun</a> <a id="8522" class="Symbol">:</a> <a id="8524" href="stack.html#1152" class="Function">StackTransformer</a><a id="8540" class="Symbol">)</a>
     <a id="8547" class="Symbol">(</a><a id="8548" href="verificationStackScripts.hoareTripleStackBasic.html#8548" class="Bound">φ</a> <a id="8550" href="verificationStackScripts.hoareTripleStackBasic.html#8550" class="Bound">ψ</a> <a id="8552" class="Symbol">:</a> <a id="8554" href="stackPredicate.html#909" class="Function">StackPredicate</a><a id="8568" class="Symbol">)</a>
     <a id="8575" class="Symbol">→</a> <a id="8577" href="hoareTripleStack.html#1354" class="Record Operator">&lt;</a> <a id="8579" href="verificationStackScripts.hoareTripleStackBasic.html#8548" class="Bound">φ</a> <a id="8581" href="hoareTripleStack.html#1354" class="Record Operator">&gt;gˢ</a> <a id="8585" href="verificationStackScripts.hoareTripleStackBasic.html#8513" class="Bound">stackfun</a>  <a id="8595" href="hoareTripleStack.html#1354" class="Record Operator">&lt;</a> <a id="8597" href="verificationStackScripts.hoareTripleStackBasic.html#8550" class="Bound">ψ</a> <a id="8599" href="hoareTripleStack.html#1354" class="Record Operator">&gt;</a>
     <a id="8606" class="Symbol">→</a> <a id="8608" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&lt;</a> <a id="8610" href="verificationStackScripts.sPredicate.html#2328" class="Function">stackPred2SPred</a> <a id="8626" href="verificationStackScripts.hoareTripleStackBasic.html#8548" class="Bound">φ</a> <a id="8628" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&gt;ssgen</a>
        <a id="8643" href="verificationStackScripts.stackState.html#2066" class="Function">stackTransform2StackStateTransform</a>  <a id="8679" href="verificationStackScripts.hoareTripleStackBasic.html#8513" class="Bound">stackfun</a>
        <a id="8696" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&lt;</a> <a id="8698" href="verificationStackScripts.sPredicate.html#2328" class="Function">stackPred2SPred</a> <a id="8714" href="verificationStackScripts.hoareTripleStackBasic.html#8550" class="Bound">ψ</a> <a id="8716" href="verificationStackScripts.stackHoareTriple.html#8170" class="Record Operator">&gt;</a>
<a id="8718" href="verificationStackScripts.hoareTripleStackBasic.html#8459" class="Function">lemmaHoareTripleStackPartToHoareTripleGeneric</a> <a id="8764" href="verificationStackScripts.hoareTripleStackBasic.html#8764" class="Bound">stackfun</a>  <a id="8774" href="verificationStackScripts.hoareTripleStackBasic.html#8774" class="Bound">φ</a> <a id="8776" href="verificationStackScripts.hoareTripleStackBasic.html#8776" class="Bound">ψ</a>
    <a id="8782" class="Symbol">(</a><a id="8783" href="hoareTripleStack.html#1485" class="InductiveConstructor">hoareTripleStackGen</a> <a id="8803" href="verificationStackScripts.hoareTripleStackBasic.html#8803" class="Bound">==&gt;stg₁</a> <a id="8811" href="verificationStackScripts.hoareTripleStackBasic.html#8811" class="Bound">&lt;==stg₁</a><a id="8818" class="Symbol">)</a> <a id="8820" class="Symbol">.</a><a id="8821" href="verificationStackScripts.stackHoareTriple.html#8314" class="Field">==&gt;g</a> <a id="8826" href="verificationStackScripts.hoareTripleStackBasic.html#8826" class="Bound">s</a> <a id="8828" href="verificationStackScripts.hoareTripleStackBasic.html#8828" class="Bound">p</a>
     <a id="8835" class="Symbol">=</a> <a id="8837" href="verificationStackScripts.hoareTripleStackBasic.html#6011" class="Function">lift2StateCorrectnessStackFun=&gt;</a> <a id="8869" href="verificationStackScripts.hoareTripleStackBasic.html#8774" class="Bound">φ</a>  <a id="8872" href="verificationStackScripts.hoareTripleStackBasic.html#8776" class="Bound">ψ</a>  <a id="8875" href="verificationStackScripts.hoareTripleStackBasic.html#8764" class="Bound">stackfun</a> <a id="8884" href="verificationStackScripts.hoareTripleStackBasic.html#8803" class="Bound">==&gt;stg₁</a> <a id="8892" href="verificationStackScripts.hoareTripleStackBasic.html#8826" class="Bound">s</a> <a id="8894" href="verificationStackScripts.hoareTripleStackBasic.html#8828" class="Bound">p</a>
<a id="8896" href="verificationStackScripts.hoareTripleStackBasic.html#8459" class="Function">lemmaHoareTripleStackPartToHoareTripleGeneric</a> <a id="8942" href="verificationStackScripts.hoareTripleStackBasic.html#8942" class="Bound">stackfun</a>  <a id="8952" href="verificationStackScripts.hoareTripleStackBasic.html#8952" class="Bound">φ</a> <a id="8954" href="verificationStackScripts.hoareTripleStackBasic.html#8954" class="Bound">ψ</a>
    <a id="8960" class="Symbol">(</a><a id="8961" href="hoareTripleStack.html#1485" class="InductiveConstructor">hoareTripleStackGen</a> <a id="8981" href="verificationStackScripts.hoareTripleStackBasic.html#8981" class="Bound">==&gt;stg₁</a> <a id="8989" href="verificationStackScripts.hoareTripleStackBasic.html#8989" class="Bound">&lt;==stg₁</a><a id="8996" class="Symbol">)</a> <a id="8998" class="Symbol">.</a><a id="8999" href="verificationStackScripts.stackHoareTriple.html#8363" class="Field">&lt;==g</a> <a id="9004" href="verificationStackScripts.hoareTripleStackBasic.html#9004" class="Bound">s</a> <a id="9006" href="verificationStackScripts.hoareTripleStackBasic.html#9006" class="Bound">p</a>
     <a id="9013" class="Symbol">=</a> <a id="9015" href="verificationStackScripts.hoareTripleStackBasic.html#7526" class="Function">lift2StateCorrectnessStackFun&lt;=</a> <a id="9047" href="verificationStackScripts.hoareTripleStackBasic.html#8952" class="Bound">φ</a>  <a id="9050" href="verificationStackScripts.hoareTripleStackBasic.html#8954" class="Bound">ψ</a>  <a id="9053" href="verificationStackScripts.hoareTripleStackBasic.html#8942" class="Bound">stackfun</a> <a id="9062" href="verificationStackScripts.hoareTripleStackBasic.html#8989" class="Bound">&lt;==stg₁</a> <a id="9070" href="verificationStackScripts.hoareTripleStackBasic.html#9004" class="Bound">s</a> <a id="9072" href="verificationStackScripts.hoareTripleStackBasic.html#9006" class="Bound">p</a>



<a id="9077" class="Comment">-- Hoare triple correctness of the stack function of an instruction</a>
<a id="9145" class="Comment">-- implies correctness of the Hoare triple for that instruction</a>

<a id="hoartTripleStackPartImpliesHoareTriple"></a><a id="9210" href="verificationStackScripts.hoareTripleStackBasic.html#9210" class="Function">hoartTripleStackPartImpliesHoareTriple</a> <a id="9249" class="Symbol">:</a>
     <a id="9256" class="Symbol">(</a><a id="9257" href="verificationStackScripts.hoareTripleStackBasic.html#9257" class="Bound">op</a> <a id="9260" class="Symbol">:</a> <a id="9262" href="instructionBasic.html#745" class="Datatype">InstructionBasic</a><a id="9278" class="Symbol">)</a>
     <a id="9285" class="Symbol">(</a><a id="9286" href="verificationStackScripts.hoareTripleStackBasic.html#9286" class="Bound">φ</a> <a id="9288" href="verificationStackScripts.hoareTripleStackBasic.html#9288" class="Bound">ψ</a> <a id="9290" class="Symbol">:</a> <a id="9292" href="stackPredicate.html#909" class="Function">StackPredicate</a><a id="9306" class="Symbol">)</a>
     <a id="9313" class="Symbol">→</a> <a id="9315" href="verificationStackScripts.hoareTripleStackBasic.html#1793" class="Function Operator">&lt;</a> <a id="9317" href="verificationStackScripts.hoareTripleStackBasic.html#9286" class="Bound">φ</a> <a id="9319" href="verificationStackScripts.hoareTripleStackBasic.html#1793" class="Function Operator">&gt;stackb</a> <a id="9327" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="9329" href="verificationStackScripts.hoareTripleStackBasic.html#9257" class="Bound">op</a> <a id="9332" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="9334" href="verificationStackScripts.hoareTripleStackBasic.html#1793" class="Function Operator">&lt;</a> <a id="9336" href="verificationStackScripts.hoareTripleStackBasic.html#9288" class="Bound">ψ</a> <a id="9338" href="verificationStackScripts.hoareTripleStackBasic.html#1793" class="Function Operator">&gt;</a>
     <a id="9345" class="Symbol">→</a> <a id="9347" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&lt;</a> <a id="9349" href="verificationStackScripts.sPredicate.html#2328" class="Function">stackPred2SPred</a> <a id="9365" href="verificationStackScripts.hoareTripleStackBasic.html#9286" class="Bound">φ</a>   <a id="9369" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&gt;ⁱᶠᶠ</a> <a id="9374" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="9376" href="verificationStackScripts.hoareTripleStackBasic.html#9257" class="Bound">op</a> <a id="9379" href="Data.List.Base.html#5025" class="Function Operator">]</a>  <a id="9382" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&lt;</a>  <a id="9385" href="verificationStackScripts.sPredicate.html#2328" class="Function">stackPred2SPred</a> <a id="9401" href="verificationStackScripts.hoareTripleStackBasic.html#9288" class="Bound">ψ</a>  <a id="9404" href="verificationStackScripts.stackHoareTriple.html#1589" class="Record Operator">&gt;</a>

<a id="9407" href="verificationStackScripts.hoareTripleStackBasic.html#9210" class="Function">hoartTripleStackPartImpliesHoareTriple</a> <a id="9446" href="verificationStackScripts.hoareTripleStackBasic.html#9446" class="Bound">op</a> <a id="9449" href="verificationStackScripts.hoareTripleStackBasic.html#9449" class="Bound">φ</a> <a id="9451" href="verificationStackScripts.hoareTripleStackBasic.html#9451" class="Bound">ψ</a> <a id="9453" href="verificationStackScripts.hoareTripleStackBasic.html#9453" class="Bound">x</a>
   <a id="9458" class="Symbol">=</a> <a id="9460" href="verificationStackScripts.hoareTripleStackBasic.html#2693" class="Function">lemmaGenericHoareTripleImpliesHoareTriple</a> <a id="9502" href="verificationStackScripts.hoareTripleStackBasic.html#9446" class="Bound">op</a>
      <a id="9511" class="Symbol">(</a><a id="9512" href="verificationStackScripts.sPredicate.html#2328" class="Function">stackPred2SPred</a> <a id="9528" href="verificationStackScripts.hoareTripleStackBasic.html#9449" class="Bound">φ</a><a id="9529" class="Symbol">)</a>
      <a id="9537" class="Symbol">(</a><a id="9538" href="verificationStackScripts.sPredicate.html#2328" class="Function">stackPred2SPred</a> <a id="9554" href="verificationStackScripts.hoareTripleStackBasic.html#9451" class="Bound">ψ</a><a id="9555" class="Symbol">)</a>
      <a id="9563" class="Symbol">(</a><a id="9564" href="verificationStackScripts.hoareTripleStackBasic.html#3701" class="Function">lemmaNonIfInstrGenericCondImpliesTripleaux</a> <a id="9607" href="verificationStackScripts.hoareTripleStackBasic.html#9446" class="Bound">op</a>
         <a id="9619" class="Symbol">(</a><a id="9620" href="verificationStackScripts.sPredicate.html#2328" class="Function">stackPred2SPred</a> <a id="9636" href="verificationStackScripts.hoareTripleStackBasic.html#9449" class="Bound">φ</a><a id="9637" class="Symbol">)</a>
        <a id="9647" class="Symbol">(</a><a id="9648" href="verificationStackScripts.sPredicate.html#2328" class="Function">stackPred2SPred</a> <a id="9664" href="verificationStackScripts.hoareTripleStackBasic.html#9451" class="Bound">ψ</a><a id="9665" class="Symbol">)</a>
        <a id="9675" class="Symbol">(</a><a id="9676" href="verificationStackScripts.hoareTripleStackBasic.html#8459" class="Function">lemmaHoareTripleStackPartToHoareTripleGeneric</a>
           <a id="9733" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟦</a> <a id="9735" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="9737" href="verificationStackScripts.hoareTripleStackBasic.html#9446" class="Bound">op</a> <a id="9740" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="9742" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#1850" class="Function Operator">⟧ˢ</a>  <a id="9746" href="verificationStackScripts.hoareTripleStackBasic.html#9449" class="Bound">φ</a> <a id="9748" href="verificationStackScripts.hoareTripleStackBasic.html#9451" class="Bound">ψ</a> <a id="9750" href="verificationStackScripts.hoareTripleStackBasic.html#9453" class="Bound">x</a><a id="9751" class="Symbol">))</a>
</pre></body></html>