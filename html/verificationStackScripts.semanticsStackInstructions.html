<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>verificationStackScripts.semanticsStackInstructions</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="basicBitcoinDataType.html" class="Module">basicBitcoinDataType</a>

<a id="35" class="Keyword">module</a> <a id="42" href="verificationStackScripts.semanticsStackInstructions.html" class="Module">verificationStackScripts.semanticsStackInstructions</a> <a id="94" class="Symbol">(</a><a id="95" href="verificationStackScripts.semanticsStackInstructions.html#95" class="Bound">param</a> <a id="101" class="Symbol">:</a> <a id="103" href="basicBitcoinDataType.html#1548" class="Record">GlobalParameters</a><a id="119" class="Symbol">)</a> <a id="121" class="Keyword">where</a>



<a id="130" class="Keyword">open</a> <a id="135" class="Keyword">import</a> <a id="142" href="Data.Nat.html" class="Module">Data.Nat</a>  <a id="152" class="Keyword">hiding</a> <a id="159" class="Symbol">(</a><a id="160" href="Data.Nat.Base.html#1535" class="Datatype Operator">_≤_</a><a id="163" class="Symbol">)</a>
<a id="165" class="Keyword">open</a> <a id="170" class="Keyword">import</a> <a id="177" href="Data.List.html" class="Module">Data.List</a> <a id="187" class="Keyword">hiding</a> <a id="194" class="Symbol">(</a><a id="195" href="Data.List.Base.html#1810" class="Function Operator">_++_</a><a id="199" class="Symbol">)</a>
<a id="201" class="Keyword">open</a> <a id="206" class="Keyword">import</a> <a id="213" href="Data.Unit.html" class="Module">Data.Unit</a>  <a id="224" class="Keyword">hiding</a> <a id="231" class="Symbol">(</a><a id="232" href="Data.Unit.Base.html#1023" class="Record Operator">_≤_</a><a id="235" class="Symbol">)</a>
<a id="237" class="Keyword">open</a> <a id="242" class="Keyword">import</a> <a id="249" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="260" class="Keyword">open</a> <a id="265" class="Keyword">import</a> <a id="272" href="Data.Bool.html" class="Module">Data.Bool</a>  <a id="283" class="Keyword">hiding</a> <a id="290" class="Symbol">(</a><a id="291" href="Data.Bool.Base.html#672" class="Datatype Operator">_≤_</a> <a id="295" class="Symbol">;</a> <a id="297" href="Data.Bool.Base.html#1283" class="Function Operator">if_then_else_</a> <a id="311" class="Symbol">)</a> <a id="313" class="Keyword">renaming</a> <a id="322" class="Symbol">(</a><a id="323" href="Data.Bool.Base.html#986" class="Function Operator">_∧_</a> <a id="327" class="Symbol">to</a> <a id="330" class="Function Operator">_∧b_</a> <a id="335" class="Symbol">;</a> <a id="337" href="Data.Bool.Base.html#1044" class="Function Operator">_∨_</a> <a id="341" class="Symbol">to</a> <a id="344" class="Function Operator">_∨b_</a> <a id="349" class="Symbol">;</a> <a id="351" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="353" class="Symbol">to</a> <a id="356" class="Function">True</a><a id="360" class="Symbol">)</a>
<a id="362" class="Keyword">open</a> <a id="367" class="Keyword">import</a> <a id="374" href="Data.Product.html" class="Module">Data.Product</a> <a id="387" class="Keyword">renaming</a> <a id="396" class="Symbol">(</a><a id="397" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="401" class="Symbol">to</a> <a id="404" class="InductiveConstructor Operator">_,,_</a> <a id="409" class="Symbol">)</a>
<a id="411" class="Keyword">open</a> <a id="416" class="Keyword">import</a> <a id="423" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="437" class="Keyword">hiding</a> <a id="444" class="Symbol">(</a><a id="445" href="Data.Nat.Base.html#1535" class="Datatype Operator">_≤_</a><a id="448" class="Symbol">)</a>
<a id="450" class="Keyword">open</a> <a id="455" class="Keyword">import</a> <a id="462" href="Data.Maybe.html" class="Module">Data.Maybe</a>
<a id="473" class="Keyword">import</a> <a id="480" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="518" class="Symbol">as</a> <a id="521" class="Module">Eq</a>
<a id="524" class="Keyword">open</a> <a id="529" href="Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="532" class="Keyword">using</a> <a id="538" class="Symbol">(</a><a id="539" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="542" class="Symbol">;</a> <a id="544" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="548" class="Symbol">;</a> <a id="550" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a><a id="554" class="Symbol">;</a> <a id="556" class="Keyword">module</a> <a id="563" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a><a id="574" class="Symbol">;</a> <a id="576" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a><a id="579" class="Symbol">)</a>
<a id="581" class="Keyword">open</a> <a id="586" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a>
<a id="598" class="Keyword">open</a> <a id="603" class="Keyword">import</a> <a id="610" href="Agda.Builtin.Equality.html" class="Module">Agda.Builtin.Equality</a>


<a id="634" class="Comment">--our libraries</a>
<a id="650" class="Keyword">open</a> <a id="655" class="Keyword">import</a> <a id="662" href="libraries.listLib.html" class="Module">libraries.listLib</a>
<a id="680" class="Keyword">open</a> <a id="685" class="Keyword">import</a> <a id="692" href="libraries.natLib.html" class="Module">libraries.natLib</a>
<a id="709" class="Keyword">open</a> <a id="714" class="Keyword">import</a> <a id="721" href="libraries.boolLib.html" class="Module">libraries.boolLib</a>
<a id="739" class="Keyword">open</a> <a id="744" class="Keyword">import</a> <a id="751" href="libraries.andLib.html" class="Module">libraries.andLib</a>
<a id="768" class="Keyword">open</a> <a id="773" class="Keyword">import</a> <a id="780" href="libraries.miscLib.html" class="Module">libraries.miscLib</a>
<a id="798" class="Keyword">open</a> <a id="803" class="Keyword">import</a> <a id="810" href="libraries.maybeLib.html" class="Module">libraries.maybeLib</a>

<a id="830" class="Keyword">open</a> <a id="835" class="Keyword">import</a> <a id="842" href="stack.html" class="Module">stack</a>
<a id="848" class="Keyword">open</a> <a id="853" class="Keyword">import</a> <a id="860" href="semanticBasicOperations.html" class="Module">semanticBasicOperations</a> <a id="884" href="verificationStackScripts.semanticsStackInstructions.html#95" class="Bound">param</a>
<a id="890" class="Keyword">open</a> <a id="895" class="Keyword">import</a> <a id="902" href="instructionBasic.html" class="Module">instructionBasic</a>
<a id="919" class="Keyword">open</a> <a id="924" class="Keyword">import</a> <a id="931" href="verificationStackScripts.stackState.html" class="Module">verificationStackScripts.stackState</a>
<a id="967" class="Keyword">open</a> <a id="972" class="Keyword">import</a> <a id="979" href="verificationStackScripts.sPredicate.html" class="Module">verificationStackScripts.sPredicate</a>


<a id="1017" class="Comment">--semantics Stack Instructions semanticS</a>
<a id="⟦_⟧s"></a><a id="1058" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟦_⟧s</a> <a id="1063" class="Symbol">:</a> <a id="1065" href="instructionBasic.html#775" class="Datatype">InstructionBasic</a> <a id="1082" class="Symbol">→</a> <a id="1084" href="verificationStackScripts.stackState.html#961" class="Record">StackState</a> <a id="1095" class="Symbol">→</a> <a id="1097" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="1103" href="verificationStackScripts.stackState.html#961" class="Record">StackState</a>
<a id="1114" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟦</a> <a id="1116" href="instructionBasic.html#806" class="InductiveConstructor">opEqual</a> <a id="1124" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟧s</a> <a id="1127" class="Symbol">=</a> <a id="1129" href="verificationStackScripts.stackState.html#2332" class="Function">liftStackToStackStateTransformer&#39;</a>  <a id="1164" href="semanticBasicOperations.html#1692" class="Function">executeStackEquality</a>
<a id="1185" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟦</a> <a id="1187" href="instructionBasic.html#814" class="InductiveConstructor">opAdd</a> <a id="1193" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟧s</a> <a id="1196" class="Symbol">=</a> <a id="1198" href="verificationStackScripts.stackState.html#2332" class="Function">liftStackToStackStateTransformer&#39;</a> <a id="1232" href="semanticBasicOperations.html#1338" class="Function">executeStackAdd</a>
<a id="1248" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟦</a> <a id="1250" class="Symbol">(</a><a id="1251" href="instructionBasic.html#980" class="InductiveConstructor">opPush</a> <a id="1258" href="verificationStackScripts.semanticsStackInstructions.html#1258" class="Bound">x</a><a id="1259" class="Symbol">)</a> <a id="1261" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟧s</a> <a id="1264" class="Symbol">=</a> <a id="1266" href="verificationStackScripts.stackState.html#2332" class="Function">liftStackToStackStateTransformer&#39;</a> <a id="1300" class="Symbol">((</a><a id="1302" href="semanticBasicOperations.html#2392" class="Function">executeStackPush</a> <a id="1319" href="verificationStackScripts.semanticsStackInstructions.html#1258" class="Bound">x</a><a id="1320" class="Symbol">))</a>
<a id="1323" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟦</a> <a id="1325" href="instructionBasic.html#820" class="InductiveConstructor">opSub</a> <a id="1331" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟧s</a>  <a id="1335" class="Symbol">=</a> <a id="1337" href="verificationStackScripts.stackState.html#2332" class="Function">liftStackToStackStateTransformer&#39;</a> <a id="1371" href="semanticBasicOperations.html#2082" class="Function">executeStackSub</a>
<a id="1387" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟦</a> <a id="1389" href="instructionBasic.html#826" class="InductiveConstructor">opVerify</a> <a id="1398" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟧s</a> <a id="1401" class="Symbol">=</a> <a id="1403" href="verificationStackScripts.stackState.html#2332" class="Function">liftStackToStackStateTransformer&#39;</a> <a id="1437" href="semanticBasicOperations.html#1515" class="Function">executeStackVerify</a>
<a id="1456" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟦</a> <a id="1458" href="instructionBasic.html#945" class="InductiveConstructor">opCheckSig</a> <a id="1469" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟧s</a>  <a id="1473" class="Symbol">=</a>   <a id="1477" href="verificationStackScripts.stackState.html#2707" class="Function">liftMsgStackToStateTransformer&#39;</a> <a id="1509" href="semanticBasicOperations.html#3305" class="Function">executeStackCheckSig</a>
<a id="1530" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟦</a> <a id="1532" href="instructionBasic.html#835" class="InductiveConstructor">opEqualVerify</a> <a id="1546" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟧s</a> <a id="1549" class="Symbol">=</a> <a id="1551" href="verificationStackScripts.stackState.html#2332" class="Function">liftStackToStackStateTransformer&#39;</a> <a id="1585" href="semanticBasicOperations.html#1515" class="Function">executeStackVerify</a>
<a id="1604" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟦</a> <a id="1606" href="instructionBasic.html#863" class="InductiveConstructor">opDup</a> <a id="1612" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟧s</a> <a id="1615" class="Symbol">=</a> <a id="1617" href="verificationStackScripts.stackState.html#2332" class="Function">liftStackToStackStateTransformer&#39;</a> <a id="1651" href="semanticBasicOperations.html#2255" class="Function">executeStackDup</a>
<a id="1667" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟦</a> <a id="1669" href="instructionBasic.html#849" class="InductiveConstructor">opDrop</a> <a id="1676" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟧s</a> <a id="1679" class="Symbol">=</a> <a id="1681" href="verificationStackScripts.stackState.html#2332" class="Function">liftStackToStackStateTransformer&#39;</a> <a id="1715" href="semanticBasicOperations.html#2496" class="Function">executeStackDrop</a>
<a id="1732" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟦</a> <a id="1734" href="instructionBasic.html#856" class="InductiveConstructor">opSwap</a> <a id="1741" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟧s</a> <a id="1744" class="Symbol">=</a> <a id="1746" href="verificationStackScripts.stackState.html#2332" class="Function">liftStackToStackStateTransformer&#39;</a>  <a id="1781" href="semanticBasicOperations.html#1903" class="Function">executeStackSwap</a>
<a id="1798" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟦</a> <a id="1800" href="instructionBasic.html#911" class="InductiveConstructor">opCHECKLOCKTIMEVERIFY</a> <a id="1822" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟧s</a> <a id="1825" class="Symbol">=</a> <a id="1827" href="verificationStackScripts.stackState.html#2515" class="Function">liftTimeStackToStateTransformer&#39;</a> <a id="1860" href="semanticBasicOperations.html#2846" class="Function">executeOpCHECKLOCKTIMEVERIFY</a>
<a id="1889" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟦</a> <a id="1891" href="instructionBasic.html#933" class="InductiveConstructor">opCheckSig3</a>  <a id="1904" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟧s</a> <a id="1907" class="Symbol">=</a> <a id="1909" href="verificationStackScripts.stackState.html#2707" class="Function">liftMsgStackToStateTransformer&#39;</a> <a id="1941" href="semanticBasicOperations.html#4033" class="Function">executeStackCheckSig3Aux</a>
<a id="1966" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟦</a> <a id="1968" href="instructionBasic.html#893" class="InductiveConstructor">opHash</a>  <a id="1976" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟧s</a> <a id="1979" class="Symbol">=</a> <a id="1981" href="verificationStackScripts.stackState.html#2332" class="Function">liftStackToStackStateTransformer&#39;</a> <a id="2015" href="semanticBasicOperations.html#1208" class="Function">executeOpHash</a>
<a id="2029" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟦</a> <a id="2031" href="instructionBasic.html#900" class="InductiveConstructor">opMultiSig</a> <a id="2042" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟧s</a> <a id="2045" class="Symbol">=</a> <a id="2047" href="verificationStackScripts.stackState.html#2707" class="Function">liftMsgStackToStateTransformer&#39;</a> <a id="2079" href="semanticBasicOperations.html#8805" class="Function">executeMultiSig</a>



<a id="⟦_⟧s⁺"></a><a id="2098" href="verificationStackScripts.semanticsStackInstructions.html#2098" class="Function Operator">⟦_⟧s⁺</a> <a id="2104" class="Symbol">:</a> <a id="2106" href="instructionBasic.html#775" class="Datatype">InstructionBasic</a> <a id="2123" class="Symbol">→</a> <a id="2125" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="2131" href="verificationStackScripts.stackState.html#961" class="Record">StackState</a> <a id="2142" class="Symbol">→</a> <a id="2144" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="2150" href="verificationStackScripts.stackState.html#961" class="Record">StackState</a>
<a id="2161" href="verificationStackScripts.semanticsStackInstructions.html#2098" class="Function Operator">⟦</a> <a id="2163" href="verificationStackScripts.semanticsStackInstructions.html#2163" class="Bound">op</a> <a id="2166" href="verificationStackScripts.semanticsStackInstructions.html#2098" class="Function Operator">⟧s⁺</a> <a id="2170" href="verificationStackScripts.semanticsStackInstructions.html#2170" class="Bound">t</a> <a id="2172" class="Symbol">=</a> <a id="2174" href="verificationStackScripts.semanticsStackInstructions.html#2170" class="Bound">t</a> <a id="2176" href="Data.Maybe.Base.html#2227" class="Function Operator">&gt;&gt;=</a> <a id="2180" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟦</a> <a id="2182" href="verificationStackScripts.semanticsStackInstructions.html#2163" class="Bound">op</a> <a id="2185" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟧s</a>
<a id="2188" class="Comment">-- ⟦ op ⟧s⁺ nothing = nothing</a>
<a id="2218" class="Comment">-- ⟦ op ⟧s⁺ (just s ) = ⟦ op ⟧s s</a>


<a id="⟦_⟧"></a><a id="2254" href="verificationStackScripts.semanticsStackInstructions.html#2254" class="Function Operator">⟦_⟧</a> <a id="2258" class="Symbol">:</a> <a id="2260" href="instructionBasic.html#1072" class="Function">BitcoinScriptBasic</a> <a id="2279" class="Symbol">→</a> <a id="2281" href="verificationStackScripts.stackState.html#961" class="Record">StackState</a> <a id="2292" class="Symbol">→</a> <a id="2294" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="2300" href="verificationStackScripts.stackState.html#961" class="Record">StackState</a>
<a id="2311" href="verificationStackScripts.semanticsStackInstructions.html#2254" class="Function Operator">⟦</a> <a id="2313" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>  <a id="2317" href="verificationStackScripts.semanticsStackInstructions.html#2254" class="Function Operator">⟧</a>  <a id="2320" class="Symbol">=</a> <a id="2322" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a>
<a id="2327" href="verificationStackScripts.semanticsStackInstructions.html#2254" class="Function Operator">⟦</a> <a id="2329" href="verificationStackScripts.semanticsStackInstructions.html#2329" class="Bound">x</a> <a id="2331" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2333" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>  <a id="2337" href="verificationStackScripts.semanticsStackInstructions.html#2254" class="Function Operator">⟧</a>  <a id="2340" class="Symbol">=</a> <a id="2342" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟦</a> <a id="2344" href="verificationStackScripts.semanticsStackInstructions.html#2329" class="Bound">x</a> <a id="2346" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟧s</a>
<a id="2349" href="verificationStackScripts.semanticsStackInstructions.html#2254" class="CatchallClause Function Operator">⟦</a><a id="2350" class="CatchallClause"> </a><a id="2351" href="verificationStackScripts.semanticsStackInstructions.html#2351" class="CatchallClause Bound">x</a><a id="2352" class="CatchallClause"> </a><a id="2353" href="Agda.Builtin.List.html#200" class="CatchallClause InductiveConstructor Operator">∷</a><a id="2354" class="CatchallClause"> </a><a id="2355" href="verificationStackScripts.semanticsStackInstructions.html#2355" class="CatchallClause Bound">l</a><a id="2356" class="CatchallClause">   </a><a id="2359" href="verificationStackScripts.semanticsStackInstructions.html#2254" class="CatchallClause Function Operator">⟧</a><a id="2360" class="CatchallClause">  </a><a id="2362" href="verificationStackScripts.semanticsStackInstructions.html#2362" class="CatchallClause Bound">s</a> <a id="2364" class="Symbol">=</a> <a id="2366" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟦</a> <a id="2368" href="verificationStackScripts.semanticsStackInstructions.html#2351" class="Bound">x</a> <a id="2370" href="verificationStackScripts.semanticsStackInstructions.html#1058" class="Function Operator">⟧s</a> <a id="2373" href="verificationStackScripts.semanticsStackInstructions.html#2362" class="Bound">s</a> <a id="2375" href="Data.Maybe.Base.html#2227" class="Function Operator">&gt;&gt;=</a>  <a id="2380" href="verificationStackScripts.semanticsStackInstructions.html#2254" class="Function Operator">⟦</a> <a id="2382" href="verificationStackScripts.semanticsStackInstructions.html#2355" class="Bound">l</a> <a id="2384" href="verificationStackScripts.semanticsStackInstructions.html#2254" class="Function Operator">⟧</a>

<a id="⟦_⟧⁺"></a><a id="2387" href="verificationStackScripts.semanticsStackInstructions.html#2387" class="Function Operator">⟦_⟧⁺</a> <a id="2392" class="Symbol">:</a> <a id="2394" href="instructionBasic.html#1072" class="Function">BitcoinScriptBasic</a> <a id="2413" class="Symbol">→</a> <a id="2415" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="2421" href="verificationStackScripts.stackState.html#961" class="Record">StackState</a> <a id="2432" class="Symbol">→</a> <a id="2434" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="2440" href="verificationStackScripts.stackState.html#961" class="Record">StackState</a>
<a id="2451" href="verificationStackScripts.semanticsStackInstructions.html#2387" class="Function Operator">⟦</a> <a id="2453" href="verificationStackScripts.semanticsStackInstructions.html#2453" class="Bound">p</a> <a id="2455" href="verificationStackScripts.semanticsStackInstructions.html#2387" class="Function Operator">⟧⁺</a> <a id="2458" href="verificationStackScripts.semanticsStackInstructions.html#2458" class="Bound">s</a> <a id="2460" class="Symbol">=</a> <a id="2462" href="verificationStackScripts.semanticsStackInstructions.html#2458" class="Bound">s</a> <a id="2464" href="Data.Maybe.Base.html#2227" class="Function Operator">&gt;&gt;=</a> <a id="2468" href="verificationStackScripts.semanticsStackInstructions.html#2254" class="Function Operator">⟦</a> <a id="2470" href="verificationStackScripts.semanticsStackInstructions.html#2453" class="Bound">p</a> <a id="2472" href="verificationStackScripts.semanticsStackInstructions.html#2254" class="Function Operator">⟧</a>


<a id="validStackAux"></a><a id="2476" href="verificationStackScripts.semanticsStackInstructions.html#2476" class="Function">validStackAux</a> <a id="2490" class="Symbol">:</a> <a id="2492" class="Symbol">(</a><a id="2493" href="verificationStackScripts.semanticsStackInstructions.html#2493" class="Bound">pbkh</a> <a id="2498" class="Symbol">:</a> <a id="2500" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="2501" class="Symbol">)</a> <a id="2503" class="Symbol">→</a>  <a id="2506" class="Symbol">(</a><a id="2507" href="verificationStackScripts.semanticsStackInstructions.html#2507" class="Bound">msg</a> <a id="2511" class="Symbol">:</a> <a id="2513" href="basicBitcoinDataType.html#886" class="Datatype">Msg</a><a id="2516" class="Symbol">)</a> <a id="2518" class="Symbol">→</a>  <a id="2521" href="stack.html#772" class="Function">Stack</a> <a id="2527" class="Symbol">→</a>  <a id="2530" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
<a id="2535" href="verificationStackScripts.semanticsStackInstructions.html#2476" class="Function">validStackAux</a> <a id="2549" href="verificationStackScripts.semanticsStackInstructions.html#2549" class="Bound">pkh</a> <a id="2553" href="verificationStackScripts.semanticsStackInstructions.html#2553" class="Bound">msg[]</a>  <a id="2560" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>  <a id="2564" class="Symbol">=</a> <a id="2566" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>
<a id="2572" href="verificationStackScripts.semanticsStackInstructions.html#2476" class="Function">validStackAux</a> <a id="2586" href="verificationStackScripts.semanticsStackInstructions.html#2586" class="Bound">pkh</a> <a id="2590" href="verificationStackScripts.semanticsStackInstructions.html#2590" class="Bound">msg</a> <a id="2594" class="Symbol">(</a><a id="2595" href="verificationStackScripts.semanticsStackInstructions.html#2595" class="Bound">pbk</a> <a id="2599" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2601" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2603" class="Symbol">)</a> <a id="2605" class="Symbol">=</a> <a id="2607" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>
<a id="2613" href="verificationStackScripts.semanticsStackInstructions.html#2476" class="Function">validStackAux</a> <a id="2627" href="verificationStackScripts.semanticsStackInstructions.html#2627" class="Bound">pkh</a> <a id="2631" href="verificationStackScripts.semanticsStackInstructions.html#2631" class="Bound">msg</a> <a id="2635" class="Symbol">(</a><a id="2636" href="verificationStackScripts.semanticsStackInstructions.html#2636" class="Bound">pbk</a> <a id="2640" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2642" href="verificationStackScripts.semanticsStackInstructions.html#2642" class="Bound">sig</a> <a id="2646" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2648" href="verificationStackScripts.semanticsStackInstructions.html#2648" class="Bound">s</a><a id="2649" class="Symbol">)</a> <a id="2651" class="Symbol">=</a> <a id="2653" href="semanticBasicOperations.html#1123" class="Function">hashFun</a> <a id="2661" href="verificationStackScripts.semanticsStackInstructions.html#2636" class="Bound">pbk</a>  <a id="2666" href="libraries.natLib.html#736" class="Function Operator">==b</a> <a id="2670" href="verificationStackScripts.semanticsStackInstructions.html#2627" class="Bound">pkh</a> <a id="2674" href="verificationStackScripts.semanticsStackInstructions.html#330" class="Function Operator">∧b</a> <a id="2677" href="semanticBasicOperations.html#3104" class="Function">isSigned</a>  <a id="2687" href="verificationStackScripts.semanticsStackInstructions.html#2631" class="Bound">msg</a> <a id="2691" href="verificationStackScripts.semanticsStackInstructions.html#2642" class="Bound">sig</a> <a id="2695" href="verificationStackScripts.semanticsStackInstructions.html#2636" class="Bound">pbk</a>

<a id="validStack"></a><a id="2700" href="verificationStackScripts.semanticsStackInstructions.html#2700" class="Function">validStack</a> <a id="2711" class="Symbol">:</a> <a id="2713" class="Symbol">(</a><a id="2714" href="verificationStackScripts.semanticsStackInstructions.html#2714" class="Bound">pkh</a> <a id="2718" class="Symbol">:</a> <a id="2720" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="2721" class="Symbol">)</a> <a id="2723" class="Symbol">→</a>  <a id="2726" href="verificationStackScripts.sPredicate.html#1124" class="Function">BStackStatePred</a>
<a id="2742" href="verificationStackScripts.semanticsStackInstructions.html#2700" class="Function">validStack</a> <a id="2753" href="verificationStackScripts.semanticsStackInstructions.html#2753" class="Bound">pkh</a> <a id="2757" href="verificationStackScripts.stackState.html#1005" class="InductiveConstructor Operator">⟨</a> <a id="2759" href="verificationStackScripts.semanticsStackInstructions.html#2759" class="Bound">time</a> <a id="2764" href="verificationStackScripts.stackState.html#1005" class="InductiveConstructor Operator">,</a> <a id="2766" href="verificationStackScripts.semanticsStackInstructions.html#2766" class="Bound">msg₁</a> <a id="2771" href="verificationStackScripts.stackState.html#1005" class="InductiveConstructor Operator">,</a> <a id="2773" href="verificationStackScripts.semanticsStackInstructions.html#2773" class="Bound">stack₁</a> <a id="2780" href="verificationStackScripts.stackState.html#1005" class="InductiveConstructor Operator">⟩</a> <a id="2782" class="Symbol">=</a> <a id="2784" href="verificationStackScripts.semanticsStackInstructions.html#2476" class="Function">validStackAux</a>  <a id="2799" href="verificationStackScripts.semanticsStackInstructions.html#2753" class="Bound">pkh</a>   <a id="2805" href="verificationStackScripts.semanticsStackInstructions.html#2766" class="Bound">msg₁</a>  <a id="2811" href="verificationStackScripts.semanticsStackInstructions.html#2773" class="Bound">stack₁</a>
</pre></body></html>