<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="basicBitcoinDataType.html" class="Module">basicBitcoinDataType</a>

<a id="35" class="Keyword">module</a> <a id="42" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html" class="Module">verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion</a> <a id="119" class="Symbol">(</a><a id="120" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#120" class="Bound">param</a> <a id="126" class="Symbol">:</a> <a id="128" href="basicBitcoinDataType.html#1548" class="Record">GlobalParameters</a><a id="144" class="Symbol">)</a>  <a id="147" class="Keyword">where</a>

<a id="154" class="Keyword">open</a> <a id="159" class="Keyword">import</a> <a id="166" href="Data.Nat.html" class="Module">Data.Nat</a>  <a id="176" class="Keyword">hiding</a> <a id="183" class="Symbol">(</a><a id="184" href="Data.Nat.Base.html#1535" class="Datatype Operator">_≤_</a><a id="187" class="Symbol">)</a>
<a id="189" class="Keyword">open</a> <a id="194" class="Keyword">import</a> <a id="201" href="Data.List.html" class="Module">Data.List</a> <a id="211" class="Keyword">hiding</a> <a id="218" class="Symbol">(</a><a id="219" href="Data.List.Base.html#1810" class="Function Operator">_++_</a><a id="223" class="Symbol">)</a>
<a id="225" class="Keyword">open</a> <a id="230" class="Keyword">import</a> <a id="237" href="Data.Unit.html" class="Module">Data.Unit</a>  <a id="248" class="Keyword">hiding</a> <a id="255" class="Symbol">(</a><a id="256" href="Data.Unit.Base.html#1023" class="Record Operator">_≤_</a><a id="259" class="Symbol">)</a>
<a id="261" class="Keyword">open</a> <a id="266" class="Keyword">import</a> <a id="273" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="284" class="Keyword">open</a> <a id="289" class="Keyword">import</a> <a id="296" href="Data.Sum.html" class="Module">Data.Sum</a>
<a id="305" class="Keyword">open</a> <a id="310" class="Keyword">import</a> <a id="317" href="Data.Bool.html" class="Module">Data.Bool</a>  <a id="328" class="Keyword">hiding</a> <a id="335" class="Symbol">(</a><a id="336" href="Data.Bool.Base.html#672" class="Datatype Operator">_≤_</a> <a id="340" class="Symbol">;</a> <a id="342" href="Data.Bool.Base.html#1283" class="Function Operator">if_then_else_</a> <a id="356" class="Symbol">)</a> <a id="358" class="Keyword">renaming</a> <a id="367" class="Symbol">(</a><a id="368" href="Data.Bool.Base.html#986" class="Function Operator">_∧_</a> <a id="372" class="Symbol">to</a> <a id="375" class="Function Operator">_∧b_</a> <a id="380" class="Symbol">;</a> <a id="382" href="Data.Bool.Base.html#1044" class="Function Operator">_∨_</a> <a id="386" class="Symbol">to</a> <a id="389" class="Function Operator">_∨b_</a> <a id="394" class="Symbol">;</a> <a id="396" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="398" class="Symbol">to</a> <a id="401" class="Function">True</a><a id="405" class="Symbol">)</a>
<a id="407" class="Keyword">open</a> <a id="412" class="Keyword">import</a> <a id="419" href="Data.Product.html" class="Module">Data.Product</a> <a id="432" class="Keyword">renaming</a> <a id="441" class="Symbol">(</a><a id="442" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="446" class="Symbol">to</a> <a id="449" class="InductiveConstructor Operator">_,,_</a> <a id="454" class="Symbol">)</a>
<a id="456" class="Keyword">open</a> <a id="461" class="Keyword">import</a> <a id="468" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="482" class="Keyword">hiding</a> <a id="489" class="Symbol">(</a><a id="490" href="Data.Nat.Base.html#1535" class="Datatype Operator">_≤_</a><a id="493" class="Symbol">)</a>
<a id="495" class="Keyword">open</a> <a id="500" class="Keyword">import</a> <a id="507" href="Data.List.NonEmpty.html" class="Module">Data.List.NonEmpty</a> <a id="526" class="Keyword">hiding</a> <a id="533" class="Symbol">(</a><a id="534" href="Data.List.NonEmpty.Base.html#1141" class="Field">head</a> <a id="539" class="Symbol">;</a> <a id="541" href="Data.List.NonEmpty.Base.html#1268" class="Function Operator">[_]</a> <a id="545" class="Symbol">)</a>
<a id="547" class="Keyword">open</a> <a id="552" class="Keyword">import</a> <a id="559" href="Data.Maybe.html" class="Module">Data.Maybe</a>
<a id="570" class="Keyword">open</a> <a id="575" class="Keyword">import</a> <a id="582" href="Relation.Nullary.html" class="Module">Relation.Nullary</a>

<a id="600" class="Keyword">import</a> <a id="607" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="645" class="Symbol">as</a> <a id="648" class="Module">Eq</a>
<a id="651" class="Keyword">open</a> <a id="656" href="Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="659" class="Keyword">using</a> <a id="665" class="Symbol">(</a><a id="666" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="669" class="Symbol">;</a> <a id="671" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="675" class="Symbol">;</a> <a id="677" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a><a id="681" class="Symbol">;</a> <a id="683" class="Keyword">module</a> <a id="690" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a><a id="701" class="Symbol">;</a> <a id="703" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a><a id="706" class="Symbol">)</a>
<a id="708" class="Keyword">open</a> <a id="713" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a>
<a id="725" class="Keyword">open</a> <a id="730" class="Keyword">import</a> <a id="737" href="Agda.Builtin.Equality.html" class="Module">Agda.Builtin.Equality</a>


<a id="761" class="Comment">--our libraries</a>
<a id="777" class="Keyword">open</a> <a id="782" class="Keyword">import</a> <a id="789" href="libraries.listLib.html" class="Module">libraries.listLib</a>
<a id="807" class="Keyword">open</a> <a id="812" class="Keyword">import</a> <a id="819" href="libraries.equalityLib.html" class="Module">libraries.equalityLib</a>
<a id="841" class="Keyword">open</a> <a id="846" class="Keyword">import</a> <a id="853" href="libraries.natLib.html" class="Module">libraries.natLib</a>
<a id="870" class="Keyword">open</a> <a id="875" class="Keyword">import</a> <a id="882" href="libraries.boolLib.html" class="Module">libraries.boolLib</a>
<a id="900" class="Keyword">open</a> <a id="905" class="Keyword">import</a> <a id="912" href="libraries.emptyLib.html" class="Module">libraries.emptyLib</a>
<a id="931" class="Keyword">open</a> <a id="936" class="Keyword">import</a> <a id="943" href="libraries.andLib.html" class="Module">libraries.andLib</a>
<a id="960" class="Keyword">open</a> <a id="965" class="Keyword">import</a> <a id="972" href="libraries.miscLib.html" class="Module">libraries.miscLib</a>
<a id="990" class="Keyword">open</a> <a id="995" class="Keyword">import</a> <a id="1002" href="libraries.maybeLib.html" class="Module">libraries.maybeLib</a>

<a id="1022" class="Keyword">open</a> <a id="1027" class="Keyword">import</a> <a id="1034" href="stack.html" class="Module">stack</a>
<a id="1040" class="Keyword">open</a> <a id="1045" class="Keyword">import</a> <a id="1052" href="stackPredicate.html" class="Module">stackPredicate</a>
<a id="1067" class="Keyword">open</a> <a id="1072" class="Keyword">import</a> <a id="1079" href="semanticBasicOperations.html" class="Module">semanticBasicOperations</a> <a id="1103" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#120" class="Bound">param</a>
<a id="1109" class="Keyword">open</a> <a id="1114" class="Keyword">import</a> <a id="1121" href="hoareTripleStack.html" class="Module">hoareTripleStack</a> <a id="1138" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#120" class="Bound">param</a>
<a id="1144" class="Keyword">open</a> <a id="1149" class="Keyword">import</a> <a id="1156" href="instruction.html" class="Module">instruction</a>
<a id="1168" class="Keyword">open</a> <a id="1173" class="Keyword">import</a> <a id="1180" href="verificationStackScripts.stackState.html" class="Module">verificationStackScripts.stackState</a>
<a id="1216" class="Keyword">open</a> <a id="1221" class="Keyword">import</a> <a id="1228" href="verificationStackScripts.sPredicate.html" class="Module">verificationStackScripts.sPredicate</a>
<a id="1264" class="Keyword">open</a> <a id="1269" class="Keyword">import</a> <a id="1276" href="verificationStackScripts.stackHoareTriple.html" class="Module">verificationStackScripts.stackHoareTriple</a> <a id="1318" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#120" class="Bound">param</a>
<a id="1324" class="Keyword">open</a> <a id="1329" class="Keyword">import</a> <a id="1336" href="verificationStackScripts.stackVerificationLemmas.html" class="Module">verificationStackScripts.stackVerificationLemmas</a> <a id="1385" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#120" class="Bound">param</a>
<a id="1391" class="Keyword">open</a> <a id="1396" class="Keyword">import</a> <a id="1403" href="verificationStackScripts.stackSemanticsInstructionsBasic.html" class="Module">verificationStackScripts.stackSemanticsInstructionsBasic</a> <a id="1460" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#120" class="Bound">param</a>
<a id="1466" class="Keyword">open</a> <a id="1471" class="Keyword">import</a> <a id="1478" href="verificationStackScripts.semanticsStackInstructions.html" class="Module">verificationStackScripts.semanticsStackInstructions</a> <a id="1530" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#120" class="Bound">param</a>
<a id="1536" class="Keyword">open</a> <a id="1541" class="Keyword">import</a> <a id="1548" href="verificationStackScripts.stackVerificationP2PKH.html" class="Module">verificationStackScripts.stackVerificationP2PKH</a> <a id="1596" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#120" class="Bound">param</a>
<a id="1602" class="Keyword">open</a> <a id="1607" class="Keyword">import</a> <a id="1614" href="verificationStackScripts.stackVerificationP2PKHindexed.html" class="Module">verificationStackScripts.stackVerificationP2PKHindexed</a> <a id="1669" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#120" class="Bound">param</a>

<a id="1676" class="Comment">-------------------------------------------------------------</a>
<a id="1738" class="Comment">--   This file explores the symoblic execution of the P2PKH program</a>
<a id="1806" class="Comment">--     in order to determine the case distinction</a>
<a id="1856" class="Comment">--     and extract a program from it</a>
<a id="1893" class="Comment">--</a>
<a id="1896" class="Comment">--   This is done by postulating parameters and applying ⟦ scriptP2PKHᵇ pbkh ⟧ˢ</a>
<a id="1976" class="Comment">--     to parameters</a>
<a id="1997" class="Comment">--------------------------------------------------------------------------------</a>

<a id="2079" class="Keyword">private</a>
  <a id="2089" class="Keyword">postulate</a> <a id="time₁"></a><a id="2099" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2099" class="Postulate">time₁</a> <a id="2105" class="Symbol">:</a> <a id="2107" href="basicBitcoinDataType.html#694" class="Function">Time</a>
  <a id="2114" class="Keyword">postulate</a> <a id="msg₁"></a><a id="2124" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2124" class="Postulate">msg₁</a> <a id="2129" class="Symbol">:</a> <a id="2131" href="basicBitcoinDataType.html#886" class="Datatype">Msg</a>
  <a id="2137" class="Keyword">postulate</a> <a id="stack₁"></a><a id="2147" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2147" class="Postulate">stack₁</a> <a id="2154" class="Symbol">:</a> <a id="2156" href="stack.html#772" class="Function">Stack</a>
  <a id="2164" class="Keyword">postulate</a> <a id="pbkh"></a><a id="2174" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2174" class="Postulate">pbkh</a> <a id="2179" class="Symbol">:</a> <a id="2181" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
  <a id="2185" class="Keyword">postulate</a> <a id="pbk"></a><a id="2195" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2195" class="Postulate">pbk</a> <a id="2199" class="Symbol">:</a> <a id="2201" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
  <a id="2205" class="Keyword">postulate</a> <a id="x₁"></a><a id="2215" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2215" class="Postulate">x₁</a> <a id="2218" class="Symbol">:</a> <a id="2220" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
  <a id="2224" class="Keyword">postulate</a> <a id="sig₁"></a><a id="2234" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2234" class="Postulate">sig₁</a> <a id="2239" class="Symbol">:</a> <a id="2241" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>


<a id="2245" class="Comment">{- We first create a symbolic execution of the scriptP2PKHᵇ pbkh to see what kind
   of case distinction happens -}</a>

<a id="check"></a><a id="2362" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2362" class="Function">check</a> <a id="2368" class="Symbol">=</a> <a id="2370" href="verificationStackScripts.stackVerificationP2PKH.html#5626" class="Function">scriptP2PKHᵇ</a>

<a id="2384" class="Comment">--stack Verification P2PKH symbolic Execution test P2PKHscript</a>
<a id="testP2PKHscript"></a><a id="2447" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2447" class="Function">testP2PKHscript</a> <a id="2463" class="Symbol">:</a> <a id="2465" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="2471" href="stack.html#772" class="Function">Stack</a>
<a id="2477" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2447" class="Function">testP2PKHscript</a> <a id="2493" class="Symbol">=</a>
  <a id="2497" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟦</a> <a id="2499" href="verificationStackScripts.stackVerificationP2PKH.html#5626" class="Function">scriptP2PKHᵇ</a> <a id="2512" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2174" class="Postulate">pbkh</a> <a id="2517" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟧ˢ</a> <a id="2520" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2099" class="Postulate">time₁</a> <a id="2526" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2124" class="Postulate">msg₁</a> <a id="2531" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2147" class="Postulate">stack₁</a>




<a id="2542" class="Comment">--⟦ scriptP2PKHᵇ pbkh ⟧ˢ time₁ msg₁ stack</a>

<a id="2585" class="Comment">{- evaluation gives

executeStackDup stack₁ &gt;&gt;=
(λ stack₂ →
   executeOpHash stack₂ &gt;&gt;=
   (λ stack₃ →
      executeStackEquality (pbkh ∷ stack₃) &gt;&gt;=
      (λ stack₄ →
         executeStackVerify stack₄ &gt;&gt;=
         (λ stack₅ → executeStackCheckSig msg₁ stack₅))))

Improved layout
executeStackDup stack₁ &gt;&gt;= (λ stack₂ →  executeOpHash stack₂ &gt;&gt;=
   (λ stack₃ →  executeStackEquality (pbkh ∷ stack₃) &gt;&gt;=
   (λ stack₄ →  executeStackVerify stack₄ &gt;&gt;=
   (λ stack₅ → executeStackCheckSig msg₁ stack₅))))



-- old version was

lift2Maybe
(λ stack₂ →
   lift2Maybe
   (λ stack₃ →
      lift2Maybe
      (λ stack₄ →
         lift2Maybe (λ stack₅ → executeStackCheckSig msg₁ stack₅)
         (executeStackVerify stack₄))
      (executeStackEquality (pbkh ∷ stack₃)))
   (executeOpHash stack₂))
(executeStackDup stack₁)

-}</a>

<a id="3404" class="Comment">-- We define a term giving the result of the evaluation</a>
<a id="3460" class="Comment">--stack Verification P2PKH symbolic Execution test P2PKHscript two</a>
<a id="testP2PKHscript2"></a><a id="3527" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3527" class="Function">testP2PKHscript2</a> <a id="3544" class="Symbol">:</a> <a id="3546" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="3552" href="stack.html#772" class="Function">Stack</a>
<a id="3558" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3527" class="Function">testP2PKHscript2</a> <a id="3575" class="Symbol">=</a>
 <a id="3578" href="semanticBasicOperations.html#2255" class="Function">executeStackDup</a> <a id="3594" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2147" class="Postulate">stack₁</a>                <a id="3616" href="Data.Maybe.Base.html#2227" class="Function Operator">&gt;&gt;=</a>  <a id="3621" class="Symbol">λ</a> <a id="3623" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3623" class="Bound">stack₂</a> <a id="3630" class="Symbol">→</a>  <a id="3633" href="semanticBasicOperations.html#1208" class="Function">executeOpHash</a> <a id="3647" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3623" class="Bound">stack₂</a>       <a id="3660" href="Data.Maybe.Base.html#2227" class="Function Operator">&gt;&gt;=</a> <a id="3664" class="Symbol">λ</a> <a id="3666" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3666" class="Bound">stack₃</a> <a id="3673" class="Symbol">→</a>
 <a id="3676" href="semanticBasicOperations.html#1692" class="Function">executeStackEquality</a> <a id="3697" class="Symbol">(</a><a id="3698" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2174" class="Postulate">pbkh</a> <a id="3703" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3705" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3666" class="Bound">stack₃</a><a id="3711" class="Symbol">)</a>  <a id="3714" href="Data.Maybe.Base.html#2227" class="Function Operator">&gt;&gt;=</a>  <a id="3719" class="Symbol">λ</a> <a id="3721" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3721" class="Bound">stack₄</a> <a id="3728" class="Symbol">→</a>  <a id="3731" href="semanticBasicOperations.html#1515" class="Function">executeStackVerify</a> <a id="3750" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3721" class="Bound">stack₄</a>  <a id="3758" href="Data.Maybe.Base.html#2227" class="Function Operator">&gt;&gt;=</a> <a id="3762" class="Symbol">λ</a> <a id="3764" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3764" class="Bound">stack₅</a> <a id="3771" class="Symbol">→</a>
 <a id="3774" href="semanticBasicOperations.html#3305" class="Function">executeStackCheckSig</a> <a id="3795" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2124" class="Postulate">msg₁</a> <a id="3800" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3764" class="Bound">stack₅</a>

<a id="3808" class="Comment">--stack Verification P2PKH symbolic Execution test P2PKHscript two Using More Space</a>
<a id="testP2PKHscript2UsingMoreSpace"></a><a id="3892" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3892" class="Function">testP2PKHscript2UsingMoreSpace</a> <a id="3923" class="Symbol">=</a>
 <a id="3926" href="semanticBasicOperations.html#2255" class="Function">executeStackDup</a> <a id="3942" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2147" class="Postulate">stack₁</a>                             <a id="3977" href="Data.Maybe.Base.html#2227" class="Function Operator">&gt;&gt;=</a>
 <a id="3982" class="Symbol">λ</a> <a id="3984" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3984" class="Bound">stack₂</a> <a id="3991" class="Symbol">→</a>  <a id="3994" href="semanticBasicOperations.html#1208" class="Function">executeOpHash</a> <a id="4008" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#3984" class="Bound">stack₂</a>                   <a id="4033" href="Data.Maybe.Base.html#2227" class="Function Operator">&gt;&gt;=</a>
 <a id="4038" class="Symbol">λ</a> <a id="4040" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4040" class="Bound">stack₃</a> <a id="4047" class="Symbol">→</a>  <a id="4050" href="semanticBasicOperations.html#1692" class="Function">executeStackEquality</a> <a id="4071" class="Symbol">(</a><a id="4072" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2174" class="Postulate">pbkh</a> <a id="4077" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4079" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4040" class="Bound">stack₃</a><a id="4085" class="Symbol">)</a>   <a id="4089" href="Data.Maybe.Base.html#2227" class="Function Operator">&gt;&gt;=</a>
 <a id="4094" class="Symbol">λ</a> <a id="4096" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4096" class="Bound">stack₄</a> <a id="4103" class="Symbol">→</a>  <a id="4106" href="semanticBasicOperations.html#1515" class="Function">executeStackVerify</a> <a id="4125" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4096" class="Bound">stack₄</a>              <a id="4145" href="Data.Maybe.Base.html#2227" class="Function Operator">&gt;&gt;=</a>
 <a id="4150" class="Symbol">λ</a> <a id="4152" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4152" class="Bound">stack₅</a> <a id="4159" class="Symbol">→</a>  <a id="4162" href="semanticBasicOperations.html#3305" class="Function">executeStackCheckSig</a> <a id="4183" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2124" class="Postulate">msg₁</a> <a id="4188" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4152" class="Bound">stack₅</a>


<a id="4197" class="Comment">--stack Verification P2PKH symbolic Execution test P2PKHscript two Using Do</a>
<a id="testP2PKHscript2UsingMoreSpaceUsingDo"></a><a id="4273" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4273" class="Function">testP2PKHscript2UsingMoreSpaceUsingDo</a> <a id="4311" class="Symbol">=</a>
 <a id="4314" class="Keyword">do</a>  <a id="4318" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4318" class="Bound">stack₂</a> <a id="4325" href="Data.Maybe.Base.html#2227" class="Function Operator">←</a> <a id="4327" href="semanticBasicOperations.html#2255" class="Function">executeStackDup</a> <a id="4343" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2147" class="Postulate">stack₁</a>
     <a id="4355" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4355" class="Bound">stack₃</a> <a id="4362" href="Data.Maybe.Base.html#2227" class="Function Operator">←</a> <a id="4364" href="semanticBasicOperations.html#1208" class="Function">executeOpHash</a> <a id="4378" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4318" class="Bound">stack₂</a>
     <a id="4390" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4390" class="Bound">stack₄</a> <a id="4397" href="Data.Maybe.Base.html#2227" class="Function Operator">←</a> <a id="4399" href="semanticBasicOperations.html#1692" class="Function">executeStackEquality</a> <a id="4420" class="Symbol">(</a><a id="4421" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2174" class="Postulate">pbkh</a> <a id="4426" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4428" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4355" class="Bound">stack₃</a><a id="4434" class="Symbol">)</a>
     <a id="4441" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4441" class="Bound">stack₅</a> <a id="4448" href="Data.Maybe.Base.html#2227" class="Function Operator">←</a> <a id="4450" href="semanticBasicOperations.html#1515" class="Function">executeStackVerify</a> <a id="4469" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4390" class="Bound">stack₄</a>
     <a id="4481" href="semanticBasicOperations.html#3305" class="Function">executeStackCheckSig</a> <a id="4502" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2124" class="Postulate">msg₁</a> <a id="4507" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#4441" class="Bound">stack₅</a>



<a id="4517" class="Comment">{- in imperative programming we would write

   stack₂ := executeStackDup stack₁;
   stack₃ := executeOpHash stack₂;
   stack₄ := executeStackEquality (pbkh ∷ stack₃);
   stack₅ := executeStackVerify stack₄;
   executeStackCheckSig msg₁ stack₅;

-}</a>





<a id="4771" class="Comment">{-
If we execute the first line
(executeStackDup stack₁)

we see it will give
nothing if stack₁ = []
just something if stack₁ is nonempty

So let&#39;s check what happens if stack₁ = []
-}</a>

<a id="4957" class="Comment">--stack Verification P2PKH symbolic Execution Empty</a>
<a id="testP2PKHscriptEmpty"></a><a id="5009" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5009" class="Function">testP2PKHscriptEmpty</a> <a id="5030" class="Symbol">:</a> <a id="5032" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="5038" href="stack.html#772" class="Function">Stack</a>
<a id="5044" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5009" class="Function">testP2PKHscriptEmpty</a> <a id="5065" class="Symbol">=</a>
 <a id="5068" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟦</a> <a id="5070" href="verificationStackScripts.stackVerificationP2PKH.html#5626" class="Function">scriptP2PKHᵇ</a> <a id="5083" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2174" class="Postulate">pbkh</a> <a id="5088" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟧ˢ</a> <a id="5091" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2099" class="Postulate">time₁</a> <a id="5097" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2124" class="Postulate">msg₁</a> <a id="5102" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>



<a id="5108" class="Comment">--⟦ scriptP2PKHᵇ pbkh ⟧ˢ time₁ msg₁ []</a>



<a id="5150" class="Comment">{- if we evaluate it we get:

nothing

So now get the first (trivial) theorem
(without the postulated parameters)
-}</a>


<a id="5269" class="Comment">--nothing</a>
<a id="stackfunP2PKHemptyIsNothing"></a><a id="5279" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5279" class="Function">stackfunP2PKHemptyIsNothing</a> <a id="5307" class="Symbol">:</a> <a id="5309" class="Symbol">(</a><a id="5310" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5310" class="Bound">pubKeyHash</a> <a id="5321" class="Symbol">:</a> <a id="5323" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="5324" class="Symbol">)(</a><a id="5326" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5326" class="Bound">time₁</a> <a id="5332" class="Symbol">:</a> <a id="5334" href="basicBitcoinDataType.html#694" class="Function">Time</a><a id="5338" class="Symbol">)(</a><a id="5340" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5340" class="Bound">msg₁</a> <a id="5345" class="Symbol">:</a> <a id="5347" href="basicBitcoinDataType.html#886" class="Datatype">Msg</a><a id="5350" class="Symbol">)</a>
                              <a id="5382" class="Symbol">→</a> <a id="5384" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟦</a> <a id="5386" href="verificationStackScripts.stackVerificationP2PKH.html#5626" class="Function">scriptP2PKHᵇ</a> <a id="5399" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5310" class="Bound">pubKeyHash</a> <a id="5410" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟧ˢ</a> <a id="5413" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5326" class="Bound">time₁</a> <a id="5419" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5340" class="Bound">msg₁</a> <a id="5424" class="InductiveConstructor">[]</a> <a id="5427" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="5429" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>
<a id="5437" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5279" class="Function">stackfunP2PKHemptyIsNothing</a> <a id="5465" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5465" class="Bound">pubKeyHash</a> <a id="5476" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5476" class="Bound">time₁</a> <a id="5482" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5482" class="Bound">msg₁</a> <a id="5487" class="Symbol">=</a> <a id="5489" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>




<a id="5498" class="Comment">{- Now we look at what happens if the stack is non empty

lets a test for symbolic execution -}</a>

<a id="5595" class="Comment">--stack Verification P2PKH symbolic Execution nonestack</a>
<a id="teststackfunP2PKHNonEmptyStack"></a><a id="5651" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5651" class="Function">teststackfunP2PKHNonEmptyStack</a> <a id="5682" class="Symbol">:</a>  <a id="5685" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="5691" href="stack.html#772" class="Function">Stack</a>
<a id="5697" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#5651" class="Function">teststackfunP2PKHNonEmptyStack</a> <a id="5728" class="Symbol">=</a>
  <a id="5732" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟦</a> <a id="5734" href="verificationStackScripts.stackVerificationP2PKH.html#5626" class="Function">scriptP2PKHᵇ</a> <a id="5747" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2174" class="Postulate">pbkh</a> <a id="5752" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟧ˢ</a> <a id="5755" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2099" class="Postulate">time₁</a> <a id="5761" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2124" class="Postulate">msg₁</a> <a id="5766" class="Symbol">(</a><a id="5767" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2195" class="Postulate">pbk</a> <a id="5771" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="5773" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2147" class="Postulate">stack₁</a><a id="5779" class="Symbol">)</a>


<a id="5783" class="Comment">{- If we compute it we get
executeStackVerify (compareNaturals pbkh (param .hash pbk) ∷ pbk ∷ stack₁)
&gt;&gt;= (λ stack₂ → executeStackCheckSig msg₁ stack₂)

-- older version was
lift2Maybe (λ stack₂ → executeStackCheckSig msg₁ stack₂)
(executeStackVerify
 (compareNaturals pbkh (hashFun pbk) ∷ pbk ∷ stack₁))
-}</a>

<a id="6092" class="Comment">--stack Verification P2PKH symbolic Execution NonEmpty Stack Normal Form</a>
<a id="stackfunP2PKHNonEmptyStackNormalForm"></a><a id="6165" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6165" class="Function">stackfunP2PKHNonEmptyStackNormalForm</a> <a id="6202" class="Symbol">:</a>  <a id="6205" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="6211" href="stack.html#772" class="Function">Stack</a>
<a id="6217" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6165" class="Function">stackfunP2PKHNonEmptyStackNormalForm</a> <a id="6254" class="Symbol">=</a>
 <a id="6257" href="semanticBasicOperations.html#1515" class="Function">executeStackVerify</a> <a id="6276" class="Symbol">(</a><a id="6277" href="libraries.natLib.html#1060" class="Function">compareNaturals</a> <a id="6293" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2174" class="Postulate">pbkh</a> <a id="6298" class="Symbol">(</a><a id="6299" href="semanticBasicOperations.html#1123" class="Function">hashFun</a> <a id="6307" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2195" class="Postulate">pbk</a><a id="6310" class="Symbol">)</a> <a id="6312" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6314" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2195" class="Postulate">pbk</a> <a id="6318" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6320" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2147" class="Postulate">stack₁</a><a id="6326" class="Symbol">)</a> <a id="6328" href="Data.Maybe.Base.html#2227" class="Function Operator">&gt;&gt;=</a>
 <a id="6333" href="semanticBasicOperations.html#3305" class="Function">executeStackCheckSig</a> <a id="6354" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2124" class="Postulate">msg₁</a>

<a id="6360" class="Comment">--stack Verification P2PKH symbolic Execution NonEmpty Stack Normal Form</a>
<a id="stackfunP2PKHNonEmptyStackNormalFormDo"></a><a id="6433" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6433" class="Function">stackfunP2PKHNonEmptyStackNormalFormDo</a> <a id="6472" class="Symbol">:</a>  <a id="6475" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="6481" href="stack.html#772" class="Function">Stack</a>
<a id="6487" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6433" class="Function">stackfunP2PKHNonEmptyStackNormalFormDo</a> <a id="6526" class="Symbol">=</a>
 <a id="6529" class="Keyword">do</a>   <a id="6534" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6534" class="Bound">stack₂</a> <a id="6541" href="Data.Maybe.Base.html#2227" class="Function Operator">←</a> <a id="6543" href="semanticBasicOperations.html#1515" class="Function">executeStackVerify</a> <a id="6562" class="Symbol">(</a><a id="6563" href="libraries.natLib.html#1060" class="Function">compareNaturals</a> <a id="6579" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2174" class="Postulate">pbkh</a> <a id="6584" class="Symbol">(</a><a id="6585" href="semanticBasicOperations.html#1123" class="Function">hashFun</a> <a id="6593" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2195" class="Postulate">pbk</a><a id="6596" class="Symbol">)</a> <a id="6598" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6600" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2195" class="Postulate">pbk</a> <a id="6604" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6606" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2147" class="Postulate">stack₁</a><a id="6612" class="Symbol">)</a>
      <a id="6620" href="semanticBasicOperations.html#3305" class="Function">executeStackCheckSig</a> <a id="6641" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2124" class="Postulate">msg₁</a> <a id="6646" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6534" class="Bound">stack₂</a>




<a id="6657" class="Comment">--stack Verification P2PKH symbolic Execution NonEmpty Stack Normal Form First Part</a>
<a id="stackfunP2PKHNonEmptyStackNormalFormFirstPart"></a><a id="6741" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6741" class="Function">stackfunP2PKHNonEmptyStackNormalFormFirstPart</a> <a id="6787" class="Symbol">:</a>  <a id="6790" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="6796" href="stack.html#772" class="Function">Stack</a>
<a id="6802" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6741" class="Function">stackfunP2PKHNonEmptyStackNormalFormFirstPart</a> <a id="6848" class="Symbol">=</a>
 <a id="6851" href="semanticBasicOperations.html#1515" class="Function">executeStackVerify</a> <a id="6870" class="Symbol">(</a><a id="6871" href="libraries.natLib.html#1060" class="Function">compareNaturals</a> <a id="6887" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2174" class="Postulate">pbkh</a> <a id="6892" class="Symbol">(</a><a id="6893" href="semanticBasicOperations.html#1123" class="Function">hashFun</a> <a id="6901" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2195" class="Postulate">pbk</a><a id="6904" class="Symbol">)</a> <a id="6906" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6908" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2195" class="Postulate">pbk</a> <a id="6912" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6914" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2147" class="Postulate">stack₁</a><a id="6920" class="Symbol">)</a>

<a id="6923" class="Comment">--stack Verification P2PKH symbolic Execution NonEmpty Stack Normal Form First Part Zoomed In</a>
<a id="stackfunP2PKHNonEmptyStackNormalFormFirstPartZoomedIn"></a><a id="7017" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7017" class="Function">stackfunP2PKHNonEmptyStackNormalFormFirstPartZoomedIn</a> <a id="7071" class="Symbol">:</a>  <a id="7074" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="7076" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7017" class="Function">stackfunP2PKHNonEmptyStackNormalFormFirstPartZoomedIn</a> <a id="7130" class="Symbol">=</a>
 <a id="7133" href="libraries.natLib.html#1060" class="Function">compareNaturals</a> <a id="7149" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2174" class="Postulate">pbkh</a> <a id="7154" class="Symbol">(</a><a id="7155" href="semanticBasicOperations.html#1123" class="Function">hashFun</a> <a id="7163" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2195" class="Postulate">pbk</a><a id="7166" class="Symbol">)</a>





<a id="7173" class="Comment">{-
We see that

(λ stack₂ → executeStackCheckSig msg₁ stack₂) = executeStackCheckSig msg₁

and can therefore use

executeStackVerify (compareNaturals pbkh (param .hash pbk) ∷ pbk ∷ stack₁)
&gt;&gt;= executeStackCheckSig msg₁

-- older version
lift2Maybe (executeStackCheckSig msg₁)
(executeStackVerify
 (compareNaturals pbkh (hashFun pbk) ∷ pbk ∷ stack₁))

 -}</a>



<a id="7531" class="Comment">--stack empty</a>
<a id="stackfunP2PKHNonEmptyStack"></a><a id="7545" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7545" class="Function">stackfunP2PKHNonEmptyStack</a> <a id="7572" class="Symbol">:</a> <a id="7574" class="Symbol">(</a><a id="7575" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7575" class="Bound">pubKeyHash</a> <a id="7586" class="Symbol">:</a> <a id="7588" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="7589" class="Symbol">)(</a><a id="7591" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7591" class="Bound">msg₁</a> <a id="7596" class="Symbol">:</a> <a id="7598" href="basicBitcoinDataType.html#886" class="Datatype">Msg</a><a id="7601" class="Symbol">)(</a><a id="7603" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7603" class="Bound">pbk</a> <a id="7607" class="Symbol">:</a> <a id="7609" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="7610" class="Symbol">)(</a><a id="7612" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7612" class="Bound">stack₂</a> <a id="7619" class="Symbol">:</a> <a id="7621" href="stack.html#772" class="Function">Stack</a><a id="7626" class="Symbol">)</a> <a id="7628" class="Symbol">→</a> <a id="7630" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="7636" href="stack.html#772" class="Function">Stack</a>
<a id="7642" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7545" class="Function">stackfunP2PKHNonEmptyStack</a> <a id="7669" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7669" class="Bound">pubKeyHash</a> <a id="7680" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7680" class="Bound">msg₁</a> <a id="7685" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7685" class="Bound">pbk</a> <a id="7689" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7689" class="Bound">stack₂</a>
              <a id="7710" class="Symbol">=</a> <a id="7712" href="semanticBasicOperations.html#1515" class="Function">executeStackVerify</a> <a id="7731" class="Symbol">(</a><a id="7732" href="libraries.natLib.html#1060" class="Function">compareNaturals</a> <a id="7748" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7669" class="Bound">pubKeyHash</a> <a id="7759" class="Symbol">(</a><a id="7760" href="semanticBasicOperations.html#1123" class="Function">hashFun</a> <a id="7768" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7685" class="Bound">pbk</a><a id="7771" class="Symbol">)</a> <a id="7773" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7775" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7685" class="Bound">pbk</a> <a id="7779" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7781" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7689" class="Bound">stack₂</a><a id="7787" class="Symbol">)</a>
                 <a id="7806" href="Data.Maybe.Base.html#2227" class="Function Operator">&gt;&gt;=</a> <a id="7810" href="semanticBasicOperations.html#3305" class="Function">executeStackCheckSig</a> <a id="7831" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7680" class="Bound">msg₁</a>




<a id="7840" class="Comment">{-
and check that this is correct
-}</a>

<a id="stackfunP2PKHemptyNonEmptyStackCorrect"></a><a id="7878" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7878" class="Function">stackfunP2PKHemptyNonEmptyStackCorrect</a> <a id="7917" class="Symbol">:</a> <a id="7919" class="Symbol">(</a><a id="7920" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7920" class="Bound">pubKeyHash</a> <a id="7931" class="Symbol">:</a> <a id="7933" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="7934" class="Symbol">)(</a><a id="7936" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7936" class="Bound">time₁</a> <a id="7942" class="Symbol">:</a> <a id="7944" href="basicBitcoinDataType.html#694" class="Function">Time</a><a id="7948" class="Symbol">)(</a><a id="7950" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7950" class="Bound">msg₁</a> <a id="7955" class="Symbol">:</a> <a id="7957" href="basicBitcoinDataType.html#886" class="Datatype">Msg</a><a id="7960" class="Symbol">)(</a><a id="7962" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7962" class="Bound">pbk</a> <a id="7966" class="Symbol">:</a> <a id="7968" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="7969" class="Symbol">)(</a><a id="7971" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7971" class="Bound">stack₂</a> <a id="7978" class="Symbol">:</a> <a id="7980" href="stack.html#772" class="Function">Stack</a><a id="7985" class="Symbol">)</a>
        <a id="7995" class="Symbol">→</a> <a id="7997" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟦</a> <a id="7999" href="verificationStackScripts.stackVerificationP2PKH.html#5626" class="Function">scriptP2PKHᵇ</a> <a id="8012" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7920" class="Bound">pubKeyHash</a>  <a id="8024" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟧ˢ</a> <a id="8027" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7936" class="Bound">time₁</a> <a id="8033" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7950" class="Bound">msg₁</a> <a id="8038" class="Symbol">(</a><a id="8039" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7962" class="Bound">pbk</a> <a id="8043" class="InductiveConstructor Operator">∷</a> <a id="8045" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7971" class="Bound">stack₂</a><a id="8051" class="Symbol">)</a> <a id="8053" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="8055" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7545" class="Function">stackfunP2PKHNonEmptyStack</a> <a id="8082" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7920" class="Bound">pubKeyHash</a> <a id="8093" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7950" class="Bound">msg₁</a>  <a id="8099" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7962" class="Bound">pbk</a> <a id="8103" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7971" class="Bound">stack₂</a>
<a id="8110" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#7878" class="Function">stackfunP2PKHemptyNonEmptyStackCorrect</a> <a id="8149" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8149" class="Bound">pubKeyHash</a> <a id="8160" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8160" class="Bound">time₁</a> <a id="8166" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8166" class="Bound">msg₁</a> <a id="8171" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8171" class="Bound">pbk</a> <a id="8175" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8175" class="Bound">stack₂</a> <a id="8182" class="Symbol">=</a> <a id="8184" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>



<a id="8192" class="Comment">{- We see now the case distinction depends on
   compres := compareNaturals pbkh (hashFun pbk)

since

executeStackVerify    (compres ∷  pbk ∷ stack₁)

will depend on whether compres is 0 or  suc x&#39;

so we abstract from

compres = compareNaturals pubKeyHash (hashFun pbk)

-}</a>

<a id="8469" class="Comment">-- This function will be repeated in stackVerificationP2PKHextractedProgram.agda</a>
<a id="8550" class="Comment">-- and therefore is kept private in this section in order to avoid a conflict</a>
<a id="8628" class="Comment">--stack Verification P2PKH symbolic Execution abstract</a>

<a id="p2PKHNonEmptyStackAbstr&#39;"></a><a id="8684" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8684" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="8709" class="Symbol">:</a> <a id="8711" class="Symbol">(</a><a id="8712" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8712" class="Bound">msg₁</a> <a id="8717" class="Symbol">:</a> <a id="8719" href="basicBitcoinDataType.html#886" class="Datatype">Msg</a><a id="8722" class="Symbol">)(</a><a id="8724" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8724" class="Bound">pbk</a> <a id="8728" class="Symbol">:</a> <a id="8730" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="8731" class="Symbol">)(</a><a id="8733" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8733" class="Bound">stack₁</a> <a id="8740" class="Symbol">:</a> <a id="8742" href="stack.html#772" class="Function">Stack</a><a id="8747" class="Symbol">)(</a><a id="8749" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8749" class="Bound">cmp</a> <a id="8753" class="Symbol">:</a> <a id="8755" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="8756" class="Symbol">)</a> <a id="8758" class="Symbol">→</a> <a id="8760" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="8766" href="stack.html#772" class="Function">Stack</a>
<a id="8772" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8684" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="8797" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8797" class="Bound">msg₁</a> <a id="8802" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8802" class="Bound">pbk</a> <a id="8806" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8806" class="Bound">stack₁</a> <a id="8813" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8813" class="Bound">cmp</a> <a id="8817" class="Symbol">=</a>  <a id="8820" href="semanticBasicOperations.html#1515" class="Function">executeStackVerify</a> <a id="8839" class="Symbol">(</a><a id="8840" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8813" class="Bound">cmp</a> <a id="8844" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>  <a id="8847" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8802" class="Bound">pbk</a> <a id="8851" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8853" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8806" class="Bound">stack₁</a><a id="8859" class="Symbol">)</a> <a id="8861" href="Data.Maybe.Base.html#2227" class="Function Operator">&gt;&gt;=</a>
                                                <a id="8913" href="semanticBasicOperations.html#3305" class="Function">executeStackCheckSig</a> <a id="8934" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8797" class="Bound">msg₁</a>

<a id="8940" class="Comment">--stack Verification P2PKH symbolic Execution abstract</a>

<a id="abstrFun"></a><a id="8996" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8996" class="Function">abstrFun</a> <a id="9005" class="Symbol">:</a> <a id="9007" class="Symbol">(</a><a id="9008" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9008" class="Bound">stack₁</a> <a id="9015" class="Symbol">:</a> <a id="9017" href="stack.html#772" class="Function">Stack</a><a id="9022" class="Symbol">)(</a><a id="9024" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9024" class="Bound">cmp</a> <a id="9028" class="Symbol">:</a> <a id="9030" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="9031" class="Symbol">)</a> <a id="9033" class="Symbol">→</a> <a id="9035" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="9041" href="stack.html#772" class="Function">Stack</a>
<a id="9047" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8996" class="Function">abstrFun</a> <a id="9056" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9056" class="Bound">stack₁</a> <a id="9063" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9063" class="Bound">cmp</a> <a id="9067" class="Symbol">=</a>  <a id="9070" class="Keyword">do</a>  <a id="9074" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9074" class="Bound">stack₂</a> <a id="9081" href="Data.Maybe.Base.html#2227" class="Function Operator">←</a> <a id="9083" href="semanticBasicOperations.html#1515" class="Function">executeStackVerify</a> <a id="9102" class="Symbol">(</a><a id="9103" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9063" class="Bound">cmp</a> <a id="9107" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>  <a id="9110" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2195" class="Postulate">pbk</a> <a id="9114" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9116" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9056" class="Bound">stack₁</a><a id="9122" class="Symbol">)</a>
                           <a id="9151" href="semanticBasicOperations.html#3305" class="Function">executeStackCheckSig</a> <a id="9172" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2124" class="Postulate">msg₁</a> <a id="9177" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9074" class="Bound">stack₂</a>



<a id="9187" class="Comment">--stack Verification P2PKH symbolic Executi on nonEmpty Stack Normal Form With Abstracted Fun</a>
<a id="stackfunP2PKHNonEmptyStackNormalFormUsingAbstractedFun"></a><a id="9281" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9281" class="Function">stackfunP2PKHNonEmptyStackNormalFormUsingAbstractedFun</a> <a id="9336" class="Symbol">:</a> <a id="9338" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="9344" href="stack.html#772" class="Function">Stack</a>
<a id="9350" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9281" class="Function">stackfunP2PKHNonEmptyStackNormalFormUsingAbstractedFun</a> <a id="9405" class="Symbol">=</a>
  <a id="9409" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8996" class="Function">abstrFun</a> <a id="9418" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2147" class="Postulate">stack₁</a> <a id="9425" class="Symbol">(</a><a id="9426" href="libraries.natLib.html#1060" class="Function">compareNaturals</a> <a id="9442" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2174" class="Postulate">pbkh</a> <a id="9447" class="Symbol">(</a><a id="9448" href="semanticBasicOperations.html#1123" class="Function">hashFun</a> <a id="9456" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2195" class="Postulate">pbk</a><a id="9459" class="Symbol">))</a>


<a id="stackfunP2PKHNonEmptyStackNormalFormUsingAbstractedFunTest"></a><a id="9464" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9464" class="Function">stackfunP2PKHNonEmptyStackNormalFormUsingAbstractedFunTest</a> <a id="9523" class="Symbol">:</a>
    <a id="9529" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#6165" class="Function">stackfunP2PKHNonEmptyStackNormalForm</a> <a id="9566" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="9568" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9281" class="Function">stackfunP2PKHNonEmptyStackNormalFormUsingAbstractedFun</a>
<a id="9623" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9464" class="Function">stackfunP2PKHNonEmptyStackNormalFormUsingAbstractedFunTest</a>  <a id="9683" class="Symbol">=</a> <a id="9685" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="9691" class="Comment">{- and we show that this is the right function
-}</a>

<a id="9742" class="Comment">-- This function will be repeated in stackVerificationP2PKHextractedProgram.agda</a>
<a id="9823" class="Comment">-- and therefore is kept private in this section in order to avoid a conflict</a>
<a id="9901" class="Keyword">private</a>
  <a id="stackfunP2PKHNonEmptyStackAbstractedCor"></a><a id="9911" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9911" class="Function">stackfunP2PKHNonEmptyStackAbstractedCor</a> <a id="9951" class="Symbol">:</a>  <a id="9954" class="Symbol">(</a><a id="9955" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9955" class="Bound">pubKeyHash</a> <a id="9966" class="Symbol">:</a> <a id="9968" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="9969" class="Symbol">)(</a><a id="9971" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9971" class="Bound">time₁</a> <a id="9977" class="Symbol">:</a> <a id="9979" href="basicBitcoinDataType.html#694" class="Function">Time</a><a id="9983" class="Symbol">)(</a><a id="9985" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9985" class="Bound">msg₁</a> <a id="9990" class="Symbol">:</a> <a id="9992" href="basicBitcoinDataType.html#886" class="Datatype">Msg</a><a id="9995" class="Symbol">)(</a><a id="9997" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9997" class="Bound">pbk</a> <a id="10001" class="Symbol">:</a> <a id="10003" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="10004" class="Symbol">)(</a><a id="10006" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10006" class="Bound">stack₂</a> <a id="10013" class="Symbol">:</a> <a id="10015" href="stack.html#772" class="Function">Stack</a><a id="10020" class="Symbol">)</a>
                  <a id="10040" class="Symbol">→</a> <a id="10042" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟦</a> <a id="10044" href="verificationStackScripts.stackVerificationP2PKH.html#5626" class="Function">scriptP2PKHᵇ</a> <a id="10057" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9955" class="Bound">pubKeyHash</a> <a id="10068" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟧ˢ</a> <a id="10071" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9971" class="Bound">time₁</a> <a id="10077" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9985" class="Bound">msg₁</a> <a id="10082" class="Symbol">(</a><a id="10083" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9997" class="Bound">pbk</a> <a id="10087" class="InductiveConstructor Operator">∷</a> <a id="10089" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10006" class="Bound">stack₂</a><a id="10095" class="Symbol">)</a>
                     <a id="10118" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="10120" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8684" class="Function">p2PKHNonEmptyStackAbstr&#39;</a>  <a id="10146" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9985" class="Bound">msg₁</a> <a id="10151" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9997" class="Bound">pbk</a> <a id="10155" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10006" class="Bound">stack₂</a>
                             <a id="10191" class="Symbol">(</a><a id="10192" href="libraries.natLib.html#1060" class="Function">compareNaturals</a> <a id="10208" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9955" class="Bound">pubKeyHash</a> <a id="10219" class="Symbol">(</a><a id="10220" href="semanticBasicOperations.html#1123" class="Function">hashFun</a> <a id="10228" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9997" class="Bound">pbk</a><a id="10231" class="Symbol">))</a>
  <a id="10236" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9911" class="Function">stackfunP2PKHNonEmptyStackAbstractedCor</a> <a id="10276" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10276" class="Bound">pubKeyHash</a> <a id="10287" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10287" class="Bound">time₁</a> <a id="10293" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10293" class="Bound">msg₁</a> <a id="10298" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10298" class="Bound">pbk</a> <a id="10302" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10302" class="Bound">stack₂</a> <a id="10309" class="Symbol">=</a> <a id="10311" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>


<a id="10318" class="Comment">{- Now we investigate what  p2PKHNonEmptyStackAbstr&#39;
When looking at it and see that

 p2PKHNonEmptyStackAbstr&#39; msg₁ pbk stack₂ cmp

will execute
executeStackVerify (cmp ∷  pbk ∷ stack₂)
which will in turn make a case disctintion on whether cmp is 0 or  not zero

(that corresponds to what the original function does because it makes this comparison
   compareNaturals pubKeyHash (hashFun pbk)
  which checks  whether the pbk provided  by the user hashes to the pubKeyHash of the locking script
    if it  is 0 it should fail, and if it is 1 it should succeed.

So lets make the test
-}</a>

<a id="testStackfunP2PKHNonEmptyStackAbstractedCompre0"></a><a id="10906" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10906" class="Function">testStackfunP2PKHNonEmptyStackAbstractedCompre0</a> <a id="10954" class="Symbol">:</a> <a id="10956" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="10962" href="stack.html#772" class="Function">Stack</a>
<a id="10968" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#10906" class="Function">testStackfunP2PKHNonEmptyStackAbstractedCompre0</a> <a id="11016" class="Symbol">=</a> <a id="11018" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8684" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="11043" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2124" class="Postulate">msg₁</a> <a id="11048" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2195" class="Postulate">pbk</a> <a id="11052" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2147" class="Postulate">stack₁</a> <a id="11059" class="Number">0</a>

<a id="11062" class="Comment">{- if we evaluate it we get

nothing
-}</a>

<a id="11103" class="Comment">-- we evaluate now</a>
<a id="11122" class="Comment">-- stack Verification P2PKH symbolic Execution abstr Fun Zero Case</a>
<a id="abstrFunZeroCase"></a><a id="11189" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11189" class="Function">abstrFunZeroCase</a> <a id="11206" class="Symbol">:</a> <a id="11208" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="11214" href="stack.html#772" class="Function">Stack</a>
<a id="11220" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11189" class="Function">abstrFunZeroCase</a> <a id="11237" class="Symbol">=</a> <a id="11239" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8996" class="Function">abstrFun</a> <a id="11248" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2147" class="Postulate">stack₁</a> <a id="11255" class="Number">0</a>



<a id="11260" class="Comment">{-

We  show now this is always the case

-}</a>

<a id="11306" class="Comment">-- This function will be repeated in stackVerificationP2PKHextractedProgram.agda</a>
<a id="11387" class="Comment">-- and therefore is kept private in this section in order to avoid a conflict</a>
<a id="11465" class="Keyword">private</a>
  <a id="stackfunP2PKHNonEmptyStackAbstractedCorCompr0IsNothing"></a><a id="11475" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11475" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorCompr0IsNothing</a> <a id="11530" class="Symbol">:</a> <a id="11532" class="Symbol">(</a><a id="11533" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11533" class="Bound">msg₁</a> <a id="11538" class="Symbol">:</a> <a id="11540" href="basicBitcoinDataType.html#886" class="Datatype">Msg</a><a id="11543" class="Symbol">)(</a><a id="11545" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11545" class="Bound">pbk</a> <a id="11549" class="Symbol">:</a> <a id="11551" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="11552" class="Symbol">)(</a><a id="11554" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11554" class="Bound">stack₂</a> <a id="11561" class="Symbol">:</a> <a id="11563" href="stack.html#772" class="Function">Stack</a><a id="11568" class="Symbol">)</a>
        <a id="11578" class="Symbol">→</a>  <a id="11581" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8684" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="11606" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11533" class="Bound">msg₁</a> <a id="11611" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11545" class="Bound">pbk</a> <a id="11615" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11554" class="Bound">stack₂</a> <a id="11622" class="Number">0</a> <a id="11624" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="11626" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>
  <a id="11636" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11475" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorCompr0IsNothing</a> <a id="11691" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11691" class="Bound">msg₁</a> <a id="11696" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11696" class="Bound">pbk</a> <a id="11700" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11700" class="Bound">stack₂</a> <a id="11707" class="Symbol">=</a> <a id="11709" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>


<a id="11716" class="Comment">{- Now we look at what happens  if the value is non zero -}</a>


<a id="testStackfunP2PKHNonEmptyStackAbstractedCompreSucCase"></a><a id="11778" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11778" class="Function">testStackfunP2PKHNonEmptyStackAbstractedCompreSucCase</a> <a id="11832" class="Symbol">:</a> <a id="11834" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="11840" href="stack.html#772" class="Function">Stack</a>
<a id="11846" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#11778" class="Function">testStackfunP2PKHNonEmptyStackAbstractedCompreSucCase</a> <a id="11900" class="Symbol">=</a> <a id="11902" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8684" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="11927" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2124" class="Postulate">msg₁</a> <a id="11932" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2195" class="Postulate">pbk</a> <a id="11936" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2147" class="Postulate">stack₁</a> <a id="11943" class="Symbol">(</a><a id="11944" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="11948" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2215" class="Postulate">x₁</a><a id="11950" class="Symbol">)</a>


<a id="11954" class="Comment">-- We evaluate</a>

<a id="11970" class="Comment">-- we evaluate now</a>
<a id="11989" class="Comment">--stack Verification P2PKH symbolic Execution abstr Fun Suc Case</a>
<a id="abstrFunSucCase"></a><a id="12054" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12054" class="Function">abstrFunSucCase</a> <a id="12070" class="Symbol">:</a> <a id="12072" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="12078" href="stack.html#772" class="Function">Stack</a>
<a id="12084" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12054" class="Function">abstrFunSucCase</a> <a id="12100" class="Symbol">=</a> <a id="12102" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8996" class="Function">abstrFun</a> <a id="12111" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2147" class="Postulate">stack₁</a> <a id="12118" class="Symbol">(</a><a id="12119" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="12123" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2215" class="Postulate">x₁</a><a id="12125" class="Symbol">)</a>


<a id="12129" class="Comment">-- we obtain</a>
<a id="12142" class="Comment">--stack Verification P2PKH symbolic Execution abstr Fun Suc Case Normal</a>
<a id="abstrFunSucCaseNormal"></a><a id="12214" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12214" class="Function">abstrFunSucCaseNormal</a> <a id="12236" class="Symbol">:</a> <a id="12238" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="12244" href="stack.html#772" class="Function">Stack</a>
<a id="12250" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#12214" class="Function">abstrFunSucCaseNormal</a> <a id="12272" class="Symbol">=</a> <a id="12274" href="semanticBasicOperations.html#3305" class="Function">executeStackCheckSig</a> <a id="12295" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2124" class="Postulate">msg₁</a> <a id="12300" class="Symbol">(</a><a id="12301" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2195" class="Postulate">pbk</a> <a id="12305" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="12307" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2147" class="Postulate">stack₁</a><a id="12313" class="Symbol">)</a>


<a id="12317" class="Comment">{-
executeStackCheckSig msg₁ (pbk ∷ stack₁)
-}</a>


<a id="12366" class="Comment">{- if we evalute
     testStackfunP2PKHNonEmptyStackAbstractedCompreSucCase
    we get

executeStackCheckSig msg₁ (pbk ∷ stack₁)


This corresponds to the situation where
the original stack₁ was non empty, and the comparision of the pbk with the pbkhash
got a result &gt; 0



If we look at
executeStackCheckSig

we see that it gives nothing when the stack has height &lt; 2
and otherwise does something,

so we can  make a case distinction on whether in

p2PKHNonEmptyStackAbstr&#39; msg₁ pbk stack₁ x

stack₁ is [] or nonempty

So lets look at the easy case []

    -}</a>


<a id="12929" class="Comment">-- we evaluate now</a>
<a id="12948" class="Comment">--stack Verification P2PKH symbolic Execution abstr Fun Suc Case Empty</a>
<a id="abstrFunSucCaseEmpty"></a><a id="13019" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13019" class="Function">abstrFunSucCaseEmpty</a> <a id="13040" class="Symbol">:</a> <a id="13042" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="13048" href="stack.html#772" class="Function">Stack</a>
<a id="13054" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13019" class="Function">abstrFunSucCaseEmpty</a> <a id="13075" class="Symbol">=</a> <a id="13077" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8996" class="Function">abstrFun</a> <a id="13086" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="13089" class="Symbol">(</a><a id="13090" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="13094" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2215" class="Postulate">x₁</a><a id="13096" class="Symbol">)</a>


<a id="13100" class="Comment">-- and obtain nothing</a>
<a id="abstrFunSucCaseEmptyCheck"></a><a id="13122" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13122" class="Function">abstrFunSucCaseEmptyCheck</a> <a id="13148" class="Symbol">:</a>  <a id="13151" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13019" class="Function">abstrFunSucCaseEmpty</a> <a id="13172" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="13174" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>
<a id="13182" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13122" class="Function">abstrFunSucCaseEmptyCheck</a> <a id="13208" class="Symbol">=</a> <a id="13210" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="13216" class="Comment">-- we evaluate now</a>
<a id="13235" class="Comment">--stack Verification P2PKH symbolic Execution abstr Fun Suc Case NonEmpty</a>
<a id="abstrFunSucCaseNonEmpty"></a><a id="13309" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13309" class="Function">abstrFunSucCaseNonEmpty</a> <a id="13333" class="Symbol">:</a> <a id="13335" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="13341" href="stack.html#772" class="Function">Stack</a>
<a id="13347" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13309" class="Function">abstrFunSucCaseNonEmpty</a> <a id="13371" class="Symbol">=</a> <a id="13373" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8996" class="Function">abstrFun</a> <a id="13382" class="Symbol">(</a><a id="13383" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2234" class="Postulate">sig₁</a> <a id="13388" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="13390" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2147" class="Postulate">stack₁</a><a id="13396" class="Symbol">)</a> <a id="13398" class="Symbol">(</a><a id="13399" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="13403" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2215" class="Postulate">x₁</a><a id="13405" class="Symbol">)</a>


<a id="13409" class="Comment">--stack Verification P2PKH symbolic Execution abstr Fun Suc Case NonEmpty Normal</a>
<a id="abstrFunSucCaseNonEmptyNormal"></a><a id="13490" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13490" class="Function">abstrFunSucCaseNonEmptyNormal</a> <a id="13520" class="Symbol">:</a> <a id="13522" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="13528" href="stack.html#772" class="Function">Stack</a>
<a id="13534" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13490" class="Function">abstrFunSucCaseNonEmptyNormal</a> <a id="13564" class="Symbol">=</a>
 <a id="13567" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="13572" class="Symbol">(</a><a id="13573" href="libraries.natLib.html#890" class="Function">boolToNat</a> <a id="13583" class="Symbol">(</a><a id="13584" href="semanticBasicOperations.html#3104" class="Function">isSigned</a> <a id="13593" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2124" class="Postulate">msg₁</a> <a id="13598" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2234" class="Postulate">sig₁</a> <a id="13603" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2195" class="Postulate">pbk</a><a id="13606" class="Symbol">)</a> <a id="13608" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="13610" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2147" class="Postulate">stack₁</a><a id="13616" class="Symbol">)</a>


<a id="abstrFunSucCaseNonEmptyCheck"></a><a id="13620" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13620" class="Function">abstrFunSucCaseNonEmptyCheck</a> <a id="13649" class="Symbol">:</a> <a id="13651" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13309" class="Function">abstrFunSucCaseNonEmpty</a> <a id="13675" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="13677" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13490" class="Function">abstrFunSucCaseNonEmptyNormal</a>
<a id="13707" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13620" class="Function">abstrFunSucCaseNonEmptyCheck</a> <a id="13736" class="Symbol">=</a> <a id="13738" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="13744" class="Comment">--easy case</a>
<a id="testStackfunP2PKHNonEmptyStackAbstractedCompreSucEmpty"></a><a id="13756" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13756" class="Function">testStackfunP2PKHNonEmptyStackAbstractedCompreSucEmpty</a> <a id="13811" class="Symbol">:</a> <a id="13813" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="13819" href="stack.html#772" class="Function">Stack</a>
<a id="13825" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#13756" class="Function">testStackfunP2PKHNonEmptyStackAbstractedCompreSucEmpty</a> <a id="13880" class="Symbol">=</a>
                           <a id="13909" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8684" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="13934" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2124" class="Postulate">msg₁</a> <a id="13939" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2195" class="Postulate">pbk</a> <a id="13943" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="13946" class="Symbol">(</a><a id="13947" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="13951" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2215" class="Postulate">x₁</a><a id="13953" class="Symbol">)</a>


<a id="13957" class="Comment">{- if we evaluate it we get  result

nothing

we check that this always holds
-}</a>


<a id="stackfunP2PKHNonEmptyStackAbstractedCorComprSucStackEmpty"></a><a id="14040" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14040" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorComprSucStackEmpty</a> <a id="14098" class="Symbol">:</a> <a id="14100" class="Symbol">(</a><a id="14101" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14101" class="Bound">msg₁</a> <a id="14106" class="Symbol">:</a> <a id="14108" href="basicBitcoinDataType.html#886" class="Datatype">Msg</a><a id="14111" class="Symbol">)(</a><a id="14113" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14113" class="Bound">pbk</a> <a id="14117" class="Symbol">:</a> <a id="14119" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="14120" class="Symbol">)(</a><a id="14122" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14122" class="Bound">x</a> <a id="14124" class="Symbol">:</a> <a id="14126" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="14127" class="Symbol">)</a>
             <a id="14142" class="Symbol">→</a> <a id="14144" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8684" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="14169" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14101" class="Bound">msg₁</a> <a id="14174" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14113" class="Bound">pbk</a> <a id="14178" class="InductiveConstructor">[]</a> <a id="14181" class="Symbol">(</a><a id="14182" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="14186" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14122" class="Bound">x</a><a id="14187" class="Symbol">)</a> <a id="14189" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="14191" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>
<a id="14199" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14040" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorComprSucStackEmpty</a> <a id="14257" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14257" class="Bound">msg₁</a> <a id="14262" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14262" class="Bound">pbk</a> <a id="14266" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14266" class="Bound">x</a>  <a id="14269" class="Symbol">=</a> <a id="14271" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="14277" class="Comment">{-  Intermezzo: we can see that the fanction gives always nothing if the stack is empty
   independent of the result

But this result is not really needed (so can be probably be ommitted in the paper)
   -}</a>

<a id="14485" class="Comment">-- This function will be repeated in stackVerificationP2PKHextractedProgram.agda</a>
<a id="14566" class="Comment">-- and therefore is kept private in this section in order to avoid a conflict</a>
<a id="14644" class="Keyword">private</a>
  <a id="stackfunP2PKHNonEmptyStackAbstractedCorEmptysNothing"></a><a id="14654" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14654" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorEmptysNothing</a> <a id="14707" class="Symbol">:</a> <a id="14709" class="Symbol">(</a><a id="14710" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14710" class="Bound">msg₁</a> <a id="14715" class="Symbol">:</a> <a id="14717" href="basicBitcoinDataType.html#886" class="Datatype">Msg</a><a id="14720" class="Symbol">)(</a><a id="14722" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14722" class="Bound">pbk</a> <a id="14726" class="Symbol">:</a> <a id="14728" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="14729" class="Symbol">)(</a><a id="14731" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14731" class="Bound">x</a> <a id="14733" class="Symbol">:</a> <a id="14735" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="14736" class="Symbol">)</a>
        <a id="14746" class="Symbol">→</a>  <a id="14749" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8684" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="14774" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14710" class="Bound">msg₁</a> <a id="14779" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14722" class="Bound">pbk</a> <a id="14783" class="InductiveConstructor">[]</a> <a id="14786" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14731" class="Bound">x</a> <a id="14788" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="14790" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>

  <a id="14801" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14654" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorEmptysNothing</a> <a id="14854" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14854" class="Bound">msg₁</a> <a id="14859" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14859" class="Bound">pbk₁</a> <a id="14864" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a> <a id="14869" class="Symbol">=</a> <a id="14871" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="14878" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14654" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorEmptysNothing</a> <a id="14931" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14931" class="Bound">msg₁</a> <a id="14936" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14936" class="Bound">pbk₁</a> <a id="14941" class="Symbol">(</a><a id="14942" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="14946" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14946" class="Bound">x</a><a id="14947" class="Symbol">)</a> <a id="14949" class="Symbol">=</a> <a id="14951" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="14957" class="Comment">{- Now we look at what happens if we have non empty stack₁ and comparision &gt; 0
-}</a>

<a id="15040" class="Comment">{- if we evaluate it we get

just (boolToNat (isSigned  msg₁ sig₁ pbk) ∷ stack₁)



and we show that this is the case

-}</a>

<a id="15163" class="Comment">--stack nonempty</a>
<a id="testStackfunP2PKHNonEmptyStackAbstractedCompreSucNonEmpty"></a><a id="15180" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#15180" class="Function">testStackfunP2PKHNonEmptyStackAbstractedCompreSucNonEmpty</a> <a id="15238" class="Symbol">:</a> <a id="15240" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="15246" href="stack.html#772" class="Function">Stack</a>
<a id="15252" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#15180" class="Function">testStackfunP2PKHNonEmptyStackAbstractedCompreSucNonEmpty</a> <a id="15310" class="Symbol">=</a> <a id="15312" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8684" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="15337" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2124" class="Postulate">msg₁</a> <a id="15342" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2195" class="Postulate">pbk</a> <a id="15346" class="Symbol">(</a><a id="15347" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2234" class="Postulate">sig₁</a>  <a id="15353" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="15355" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2147" class="Postulate">stack₁</a><a id="15361" class="Symbol">)</a> <a id="15363" class="Symbol">(</a><a id="15364" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15368" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2215" class="Postulate">x₁</a><a id="15370" class="Symbol">)</a>



<a id="stackfunP2PKHNonEmptyStackAbstractedCorComprSucStackNonEmptyCor"></a><a id="15375" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#15375" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorComprSucStackNonEmptyCor</a> <a id="15439" class="Symbol">:</a>
       <a id="15448" class="Symbol">(</a><a id="15449" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#15449" class="Bound">msg₁</a> <a id="15454" class="Symbol">:</a> <a id="15456" href="basicBitcoinDataType.html#886" class="Datatype">Msg</a><a id="15459" class="Symbol">)(</a><a id="15461" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#15461" class="Bound">pbk</a> <a id="15465" class="Symbol">:</a> <a id="15467" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="15468" class="Symbol">)(</a><a id="15470" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#15470" class="Bound">x</a> <a id="15472" class="Symbol">:</a> <a id="15474" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="15475" class="Symbol">)(</a><a id="15477" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#15477" class="Bound">sig₁</a> <a id="15482" class="Symbol">:</a> <a id="15484" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="15485" class="Symbol">)(</a><a id="15487" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#15487" class="Bound">stack₂</a> <a id="15494" class="Symbol">:</a> <a id="15496" href="stack.html#772" class="Function">Stack</a><a id="15501" class="Symbol">)</a>
       <a id="15510" class="Symbol">→</a> <a id="15512" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8684" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="15537" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#15449" class="Bound">msg₁</a> <a id="15542" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#15461" class="Bound">pbk</a> <a id="15546" class="Symbol">(</a><a id="15547" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#15477" class="Bound">sig₁</a>  <a id="15553" class="InductiveConstructor Operator">∷</a> <a id="15555" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#15487" class="Bound">stack₂</a><a id="15561" class="Symbol">)</a> <a id="15563" class="Symbol">(</a><a id="15564" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15568" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#15470" class="Bound">x</a><a id="15569" class="Symbol">)</a>
          <a id="15581" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a>  <a id="15584" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="15589" class="Symbol">(</a><a id="15590" href="libraries.natLib.html#890" class="Function">boolToNat</a> <a id="15600" class="Symbol">(</a><a id="15601" href="semanticBasicOperations.html#3104" class="Function">isSigned</a>  <a id="15611" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#15449" class="Bound">msg₁</a> <a id="15616" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#15477" class="Bound">sig₁</a> <a id="15621" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#15461" class="Bound">pbk</a><a id="15624" class="Symbol">)</a> <a id="15626" class="InductiveConstructor Operator">∷</a> <a id="15628" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#15487" class="Bound">stack₂</a><a id="15634" class="Symbol">)</a>
<a id="15636" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#15375" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorComprSucStackNonEmptyCor</a> <a id="15700" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#15700" class="Bound">msg₂</a> <a id="15705" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#15705" class="Bound">pbk₁</a> <a id="15710" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#15710" class="Bound">sig₁</a> <a id="15715" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#15715" class="Bound">x</a> <a id="15717" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#15717" class="Bound">stack₃</a> <a id="15724" class="Symbol">=</a> <a id="15726" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="15732" class="Comment">{- the following can be ommitted probably
   since we have digged out the function completely
   but here is anyway a theorem that the original function gives you nothing
         if the stack has hight 1 only

-}</a>


<a id="15948" class="Comment">{- this function is obolete but an interesting observation -}</a>

<a id="stackfunP2PKHemptySingleStackIsNothing"></a><a id="16011" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16011" class="Function">stackfunP2PKHemptySingleStackIsNothing</a> <a id="16050" class="Symbol">:</a> <a id="16052" class="Symbol">(</a><a id="16053" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16053" class="Bound">pubKeyHash</a> <a id="16064" class="Symbol">:</a> <a id="16066" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="16067" class="Symbol">)(</a><a id="16069" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16069" class="Bound">time₁</a> <a id="16075" class="Symbol">:</a> <a id="16077" href="basicBitcoinDataType.html#694" class="Function">Time</a><a id="16081" class="Symbol">)(</a><a id="16083" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16083" class="Bound">msg₁</a> <a id="16088" class="Symbol">:</a> <a id="16090" href="basicBitcoinDataType.html#886" class="Datatype">Msg</a><a id="16093" class="Symbol">)(</a><a id="16095" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16095" class="Bound">pbk</a> <a id="16099" class="Symbol">:</a> <a id="16101" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="16102" class="Symbol">)</a>
        <a id="16112" class="Symbol">→</a> <a id="16114" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟦</a> <a id="16116" href="verificationStackScripts.stackVerificationP2PKH.html#5626" class="Function">scriptP2PKHᵇ</a> <a id="16129" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16053" class="Bound">pubKeyHash</a> <a id="16140" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟧ˢ</a> <a id="16143" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16069" class="Bound">time₁</a> <a id="16149" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16083" class="Bound">msg₁</a> <a id="16154" class="Symbol">(</a><a id="16155" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16095" class="Bound">pbk</a> <a id="16159" class="InductiveConstructor Operator">∷</a> <a id="16161" class="InductiveConstructor">[]</a><a id="16163" class="Symbol">)</a> <a id="16165" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="16167" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>
<a id="16175" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16011" class="Function">stackfunP2PKHemptySingleStackIsNothing</a>  <a id="16215" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16215" class="Bound">pubKeyHash</a> <a id="16226" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16226" class="Bound">time₁</a> <a id="16232" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16232" class="Bound">msg₁</a> <a id="16237" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16237" class="Bound">pbk</a>
  <a id="16243" class="Symbol">=</a>  <a id="16246" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟦</a> <a id="16248" href="verificationStackScripts.stackVerificationP2PKH.html#5626" class="Function">scriptP2PKHᵇ</a> <a id="16261" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16215" class="Bound">pubKeyHash</a> <a id="16272" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟧ˢ</a> <a id="16275" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16226" class="Bound">time₁</a> <a id="16281" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16232" class="Bound">msg₁</a> <a id="16286" class="Symbol">(</a><a id="16287" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16237" class="Bound">pbk</a> <a id="16291" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="16293" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="16295" class="Symbol">)</a>
               <a id="16312" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="16315" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#9911" class="Function">stackfunP2PKHNonEmptyStackAbstractedCor</a> <a id="16355" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16215" class="Bound">pubKeyHash</a> <a id="16366" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16226" class="Bound">time₁</a> <a id="16372" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16232" class="Bound">msg₁</a> <a id="16377" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16237" class="Bound">pbk</a> <a id="16381" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>   <a id="16386" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
     <a id="16393" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#8684" class="Function">p2PKHNonEmptyStackAbstr&#39;</a> <a id="16418" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16232" class="Bound">msg₁</a> <a id="16423" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16237" class="Bound">pbk</a> <a id="16427" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="16430" class="Symbol">(</a><a id="16431" href="libraries.natLib.html#1060" class="Function">compareNaturals</a> <a id="16447" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16215" class="Bound">pubKeyHash</a> <a id="16458" class="Symbol">(</a><a id="16459" href="semanticBasicOperations.html#1123" class="Function">hashFun</a> <a id="16467" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16237" class="Bound">pbk</a><a id="16470" class="Symbol">))</a>
               <a id="16488" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="16491" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#14654" class="Function">stackfunP2PKHNonEmptyStackAbstractedCorEmptysNothing</a> <a id="16544" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16232" class="Bound">msg₁</a> <a id="16549" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16237" class="Bound">pbk</a> <a id="16553" class="Symbol">(</a><a id="16554" href="libraries.natLib.html#1060" class="Function">compareNaturals</a> <a id="16570" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16215" class="Bound">pubKeyHash</a> <a id="16581" class="Symbol">(</a><a id="16582" href="semanticBasicOperations.html#1123" class="Function">hashFun</a> <a id="16590" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16237" class="Bound">pbk</a><a id="16593" class="Symbol">))</a>   <a id="16598" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
     <a id="16605" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>
     <a id="16618" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>


<a id="16622" class="Comment">--stack Verification P2PKH symbolic Execution abstr Fun Suc Case Non Empty Sub Term One</a>
<a id="abstrFunSucCaseNonEmptyNormalSubTerm1"></a><a id="16710" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16710" class="Function">abstrFunSucCaseNonEmptyNormalSubTerm1</a> <a id="16748" class="Symbol">:</a> <a id="16750" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="16752" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16710" class="Function">abstrFunSucCaseNonEmptyNormalSubTerm1</a> <a id="16790" class="Symbol">=</a>
 <a id="16793" href="libraries.natLib.html#890" class="Function">boolToNat</a> <a id="16803" class="Symbol">(</a><a id="16804" href="semanticBasicOperations.html#3104" class="Function">isSigned</a> <a id="16813" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2124" class="Postulate">msg₁</a> <a id="16818" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2234" class="Postulate">sig₁</a> <a id="16823" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2195" class="Postulate">pbk</a><a id="16826" class="Symbol">)</a>

<a id="16829" class="Comment">--stack Verification P2PKH symbolic Execution abstr Fun Suc Case NonEmpty Sub Term Two</a>
<a id="abstrFunSucCaseNonEmptyNormalSubTerm2"></a><a id="16916" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16916" class="Function">abstrFunSucCaseNonEmptyNormalSubTerm2</a> <a id="16954" class="Symbol">:</a> <a id="16956" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
<a id="16961" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#16916" class="Function">abstrFunSucCaseNonEmptyNormalSubTerm2</a> <a id="16999" class="Symbol">=</a> <a id="17001" href="semanticBasicOperations.html#3104" class="Function">isSigned</a> <a id="17010" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2124" class="Postulate">msg₁</a> <a id="17015" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2234" class="Postulate">sig₁</a> <a id="17020" href="verificationStackScripts.stackVerificationP2PKHsymbolicExecutionPaperVersion.html#2195" class="Postulate">pbk</a>



<a id="17027" class="Comment">-- uncomment to be able to evaluate</a>
<a id="17063" class="Comment">-- test : Set</a>
<a id="17077" class="Comment">-- test = {!!}</a>
</pre></body></html>