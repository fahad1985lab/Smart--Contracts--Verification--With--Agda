<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="basicBitcoinDataType.html" class="Module">basicBitcoinDataType</a>

<a id="35" class="Keyword">module</a> <a id="42" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html" class="Module">verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion</a> <a id="122" class="Symbol">(</a><a id="123" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#123" class="Bound">param</a> <a id="129" class="Symbol">:</a> <a id="131" href="basicBitcoinDataType.html#1548" class="Record">GlobalParameters</a><a id="147" class="Symbol">)</a> <a id="149" class="Keyword">where</a>


<a id="157" class="Keyword">open</a> <a id="162" class="Keyword">import</a> <a id="169" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="184" class="Keyword">hiding</a> <a id="191" class="Symbol">(</a><a id="192" href="Data.List.Base.html#1810" class="Function Operator">_++_</a> <a id="197" class="Symbol">)</a>
<a id="199" class="Keyword">open</a> <a id="204" class="Keyword">import</a> <a id="211" href="Data.Nat.html" class="Module">Data.Nat</a>  <a id="221" class="Keyword">renaming</a> <a id="230" class="Symbol">(</a><a id="231" href="Data.Nat.Base.html#1535" class="Datatype Operator">_≤_</a> <a id="235" class="Symbol">to</a> <a id="238" class="Datatype Operator">_≤&#39;_</a> <a id="243" class="Symbol">;</a> <a id="245" href="Data.Nat.Base.html#1645" class="Function Operator">_&lt;_</a> <a id="249" class="Symbol">to</a> <a id="252" class="Function Operator">_&lt;&#39;_</a><a id="256" class="Symbol">)</a>
<a id="258" class="Keyword">open</a> <a id="263" class="Keyword">import</a> <a id="270" href="Data.List.html" class="Module">Data.List</a> <a id="280" class="Keyword">hiding</a> <a id="287" class="Symbol">(</a><a id="288" href="Data.List.Base.html#1810" class="Function Operator">_++_</a>  <a id="294" class="Symbol">)</a>
<a id="296" class="Keyword">open</a> <a id="301" class="Keyword">import</a> <a id="308" href="Data.Sum.html" class="Module">Data.Sum</a>
<a id="317" class="Keyword">open</a> <a id="322" class="Keyword">import</a> <a id="329" href="Data.Unit.html" class="Module">Data.Unit</a>  <a id="340" class="Keyword">hiding</a> <a id="347" class="Symbol">(</a><a id="348" href="Data.Unit.Base.html#1023" class="Record Operator">_≤_</a><a id="351" class="Symbol">)</a>
<a id="353" class="Keyword">open</a> <a id="358" class="Keyword">import</a> <a id="365" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="376" class="Keyword">open</a> <a id="381" class="Keyword">import</a> <a id="388" href="Data.Maybe.html" class="Module">Data.Maybe</a>
<a id="399" class="Keyword">open</a> <a id="404" class="Keyword">import</a> <a id="411" href="Data.Bool.html" class="Module">Data.Bool</a>  <a id="422" class="Keyword">hiding</a> <a id="429" class="Symbol">(</a><a id="430" href="Data.Bool.Base.html#672" class="Datatype Operator">_≤_</a> <a id="434" class="Symbol">;</a> <a id="436" href="Data.Bool.Base.html#751" class="Datatype Operator">_&lt;_</a> <a id="440" class="Symbol">;</a> <a id="442" href="Data.Bool.Base.html#1283" class="Function Operator">if_then_else_</a>  <a id="457" class="Symbol">)</a>  <a id="460" class="Keyword">renaming</a> <a id="469" class="Symbol">(</a><a id="470" href="Data.Bool.Base.html#986" class="Function Operator">_∧_</a> <a id="474" class="Symbol">to</a> <a id="477" class="Function Operator">_∧b_</a> <a id="482" class="Symbol">;</a> <a id="484" href="Data.Bool.Base.html#1044" class="Function Operator">_∨_</a> <a id="488" class="Symbol">to</a> <a id="491" class="Function Operator">_∨b_</a> <a id="496" class="Symbol">;</a> <a id="498" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="500" class="Symbol">to</a> <a id="503" class="Function">True</a><a id="507" class="Symbol">)</a>
<a id="509" class="Keyword">open</a> <a id="514" class="Keyword">import</a> <a id="521" href="Data.Product.html" class="Module">Data.Product</a> <a id="534" class="Keyword">renaming</a> <a id="543" class="Symbol">(</a><a id="544" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="548" class="Symbol">to</a> <a id="551" class="InductiveConstructor Operator">_,,_</a> <a id="556" class="Symbol">)</a>
<a id="558" class="Keyword">open</a> <a id="563" class="Keyword">import</a> <a id="570" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="584" class="Keyword">hiding</a> <a id="591" class="Symbol">(</a><a id="592" href="Data.Nat.Base.html#1535" class="Datatype Operator">_≤_</a> <a id="596" class="Symbol">;</a> <a id="598" href="Data.Nat.Base.html#1645" class="Function Operator">_&lt;_</a><a id="601" class="Symbol">)</a>
<a id="603" class="Keyword">open</a> <a id="608" class="Keyword">import</a> <a id="615" href="Data.List.NonEmpty.html" class="Module">Data.List.NonEmpty</a> <a id="634" class="Keyword">hiding</a> <a id="641" class="Symbol">(</a><a id="642" href="Data.List.NonEmpty.Base.html#1141" class="Field">head</a><a id="646" class="Symbol">;</a> <a id="648" href="Data.List.NonEmpty.Base.html#1268" class="Function Operator">[_]</a><a id="651" class="Symbol">)</a>
<a id="653" class="Keyword">open</a> <a id="658" class="Keyword">import</a> <a id="665" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="674" class="Keyword">using</a> <a id="680" class="Symbol">(</a><a id="681" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="682" class="Symbol">;</a> <a id="684" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a><a id="687" class="Symbol">;</a> <a id="689" href="Data.Nat.Base.html#1679" class="Function Operator">_≥_</a><a id="692" class="Symbol">;</a> <a id="694" href="Data.Nat.Base.html#1709" class="Function Operator">_&gt;_</a><a id="697" class="Symbol">;</a> <a id="699" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="703" class="Symbol">;</a> <a id="705" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="708" class="Symbol">;</a> <a id="710" href="Data.Nat.Base.html#1600" class="InductiveConstructor">s≤s</a><a id="713" class="Symbol">;</a> <a id="715" href="Data.Nat.Base.html#1558" class="InductiveConstructor">z≤n</a><a id="718" class="Symbol">)</a>
<a id="720" class="Keyword">import</a> <a id="727" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="765" class="Symbol">as</a> <a id="768" class="Module">Eq</a>
<a id="771" class="Keyword">open</a> <a id="776" href="Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="779" class="Keyword">using</a> <a id="785" class="Symbol">(</a><a id="786" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="789" class="Symbol">;</a> <a id="791" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="795" class="Symbol">;</a> <a id="797" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a><a id="801" class="Symbol">;</a> <a id="803" class="Keyword">module</a> <a id="810" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a><a id="821" class="Symbol">;</a> <a id="823" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a><a id="826" class="Symbol">)</a>
<a id="828" class="Keyword">open</a> <a id="833" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a>
<a id="845" class="Keyword">open</a> <a id="850" class="Keyword">import</a> <a id="857" href="Agda.Builtin.Equality.html" class="Module">Agda.Builtin.Equality</a>


<a id="881" class="Comment">--our libraries</a>
<a id="897" class="Keyword">open</a> <a id="902" class="Keyword">import</a> <a id="909" href="libraries.listLib.html" class="Module">libraries.listLib</a>
<a id="927" class="Keyword">open</a> <a id="932" class="Keyword">import</a> <a id="939" href="libraries.emptyLib.html" class="Module">libraries.emptyLib</a>
<a id="958" class="Keyword">open</a> <a id="963" class="Keyword">import</a> <a id="970" href="libraries.natLib.html" class="Module">libraries.natLib</a>
<a id="987" class="Keyword">open</a> <a id="992" class="Keyword">import</a> <a id="999" href="libraries.boolLib.html" class="Module">libraries.boolLib</a>
<a id="1017" class="Keyword">open</a> <a id="1022" class="Keyword">import</a> <a id="1029" href="libraries.equalityLib.html" class="Module">libraries.equalityLib</a>
<a id="1051" class="Keyword">open</a> <a id="1056" class="Keyword">import</a> <a id="1063" href="libraries.andLib.html" class="Module">libraries.andLib</a>
<a id="1080" class="Keyword">open</a> <a id="1085" class="Keyword">import</a> <a id="1092" href="libraries.miscLib.html" class="Module">libraries.miscLib</a>
<a id="1110" class="Keyword">open</a> <a id="1115" class="Keyword">import</a> <a id="1122" href="libraries.maybeLib.html" class="Module">libraries.maybeLib</a>

<a id="1142" class="Keyword">open</a> <a id="1147" class="Keyword">import</a> <a id="1154" href="stack.html" class="Module">stack</a>
<a id="1160" class="Keyword">open</a> <a id="1165" class="Keyword">import</a> <a id="1172" href="stackPredicate.html" class="Module">stackPredicate</a>
<a id="1187" class="Keyword">open</a> <a id="1192" class="Keyword">import</a> <a id="1199" href="semanticBasicOperations.html" class="Module">semanticBasicOperations</a> <a id="1223" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#123" class="Bound">param</a>
<a id="1229" class="Keyword">open</a> <a id="1234" class="Keyword">import</a> <a id="1241" href="instructionBasic.html" class="Module">instructionBasic</a>
<a id="1258" class="Keyword">open</a> <a id="1263" class="Keyword">import</a> <a id="1270" href="verificationMultiSig.html" class="Module">verificationMultiSig</a> <a id="1291" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#123" class="Bound">param</a>
<a id="1297" class="Keyword">open</a> <a id="1302" class="Keyword">import</a> <a id="1309" href="verificationStackScripts.semanticsStackInstructions.html" class="Module">verificationStackScripts.semanticsStackInstructions</a> <a id="1361" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#123" class="Bound">param</a>
<a id="1367" class="Keyword">open</a> <a id="1372" class="Keyword">import</a> <a id="1379" href="verificationStackScripts.stackVerificationLemmas.html" class="Module">verificationStackScripts.stackVerificationLemmas</a> <a id="1428" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#123" class="Bound">param</a>
<a id="1434" class="Keyword">open</a> <a id="1439" class="Keyword">import</a> <a id="1446" href="verificationStackScripts.stackHoareTriple.html" class="Module">verificationStackScripts.stackHoareTriple</a> <a id="1488" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#123" class="Bound">param</a>
<a id="1494" class="Keyword">open</a> <a id="1499" class="Keyword">import</a> <a id="1506" href="verificationStackScripts.sPredicate.html" class="Module">verificationStackScripts.sPredicate</a>
<a id="1542" class="Keyword">open</a> <a id="1547" class="Keyword">import</a> <a id="1554" href="verificationStackScripts.hoareTripleStackBasic.html" class="Module">verificationStackScripts.hoareTripleStackBasic</a> <a id="1601" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#123" class="Bound">param</a>
<a id="1607" class="Keyword">open</a> <a id="1612" class="Keyword">import</a> <a id="1619" href="verificationStackScripts.stackState.html" class="Module">verificationStackScripts.stackState</a>
<a id="1655" class="Keyword">open</a> <a id="1660" class="Keyword">import</a> <a id="1667" href="verificationStackScripts.stackSemanticsInstructionsBasic.html" class="Module">verificationStackScripts.stackSemanticsInstructionsBasic</a> <a id="1724" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#123" class="Bound">param</a>
<a id="1730" class="Keyword">open</a> <a id="1735" class="Keyword">import</a> <a id="1742" href="verificationStackScripts.verificationMultiSigBasic.html" class="Module">verificationStackScripts.verificationMultiSigBasic</a> <a id="1793" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#123" class="Bound">param</a>

<a id="1800" class="Keyword">private</a>
  <a id="1810" class="Keyword">postulate</a> <a id="pbk₁"></a><a id="1820" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1820" class="Postulate">pbk₁</a> <a id="pbk₂"></a><a id="1825" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1825" class="Postulate">pbk₂</a> <a id="pbk₃"></a><a id="1830" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1830" class="Postulate">pbk₃</a> <a id="pbk₄"></a><a id="1835" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1835" class="Postulate">pbk₄</a> <a id="1840" class="Symbol">:</a>  <a id="1843" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
  <a id="1847" class="Keyword">postulate</a> <a id="time₁"></a><a id="1857" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1857" class="Postulate">time₁</a> <a id="1863" class="Symbol">:</a> <a id="1865" href="basicBitcoinDataType.html#694" class="Function">Time</a>
  <a id="1872" class="Keyword">postulate</a> <a id="msg₁"></a><a id="1882" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="1887" class="Symbol">:</a> <a id="1889" href="basicBitcoinDataType.html#886" class="Datatype">Msg</a>
  <a id="1895" class="Keyword">postulate</a> <a id="stack₁"></a><a id="1905" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1905" class="Postulate">stack₁</a> <a id="1912" class="Symbol">:</a> <a id="1914" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1919" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
  <a id="1923" class="Keyword">postulate</a> <a id="sig₂"></a><a id="1933" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1933" class="Postulate">sig₂</a> <a id="sig₁"></a><a id="1938" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1938" class="Postulate">sig₁</a> <a id="dummy"></a><a id="1943" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1943" class="Postulate">dummy</a> <a id="1949" class="Symbol">:</a> <a id="1951" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>

<a id="1954" class="Comment">--complexmultisig</a>
<a id="1972" class="Comment">-- multiSigScript2-4ᵇ : (pbk1 pbk2 pbk3 pbk4 :  ℕ) → BitcoinScriptBasic</a>
<a id="2044" class="Comment">-- multiSigScript2-4ᵇ pbk1 pbk2 pbk3 pbk4 =</a>
<a id="2088" class="Comment">--        (opPush 2) ∷ (opPush pbk1) ∷  (opPush pbk2) ∷  (opPush pbk3) ∷  (opPush pbk4) ∷ (opPush 4) ∷   opMultiSig ∷ []</a>
<a id="2209" class="Comment">-- </a>
<a id="2213" class="Comment">-- multiSigScript2-4 : (pbk1 pbk2 pbk3 pbk4 :  ℕ) → BitcoinScriptBasic</a>
<a id="2284" class="Comment">-- multiSigScript2-4 pbk1 pbk2 pbk3 pbk4 =</a>
<a id="2327" class="Comment">--        (opPush 2) ∷ (opPush pbk1) ∷  (opPush pbk2) ∷  (opPush pbk3) ∷  (opPush pbk4) ∷ (opPush 4) ∷   opMultiSig ∷ []</a>


<a id="2450" class="Comment">--multisig symbolic</a>
<a id="multisigScript-2-4-symbolic"></a><a id="2470" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#2470" class="Function">multisigScript-2-4-symbolic</a> <a id="2498" class="Symbol">=</a>
        <a id="2508" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟦</a> <a id="2510" href="verificationMultiSig.html#54832" class="Function">multiSigScript2-4ᵇ</a> <a id="2529" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1820" class="Postulate">pbk₁</a> <a id="2534" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1825" class="Postulate">pbk₂</a> <a id="2539" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1830" class="Postulate">pbk₃</a> <a id="2544" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1835" class="Postulate">pbk₄</a> <a id="2549" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟧ˢ</a> <a id="2552" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1857" class="Postulate">time₁</a> <a id="2558" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="2563" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1905" class="Postulate">stack₁</a>

<a id="2571" class="Comment">{- evaluated we get

executeMultiSig3 msg₁ (pbk₁ ∷ pbk₂ ∷ pbk₃ ∷ pbk₄ ∷ []) 2 stack₁ []

-}</a>

<a id="2664" class="Comment">--result multisig</a>
<a id="test2"></a><a id="2682" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#2682" class="Function">test2</a> <a id="2688" class="Symbol">:</a> <a id="2690" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="2696" href="stack.html#772" class="Function">Stack</a>
<a id="2702" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#2682" class="Function">test2</a> <a id="2708" class="Symbol">=</a>  <a id="2711" href="semanticBasicOperations.html#6350" class="Function">executeMultiSig3</a> <a id="2728" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="2733" class="Symbol">(</a><a id="2734" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1820" class="Postulate">pbk₁</a> <a id="2739" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2741" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1825" class="Postulate">pbk₂</a> <a id="2746" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2748" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1830" class="Postulate">pbk₃</a> <a id="2753" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2755" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="2757" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1835" class="Postulate">pbk₄</a> <a id="2762" href="Data.List.Base.html#5025" class="Function Operator">]</a><a id="2763" class="Symbol">)</a> <a id="2765" class="Number">2</a> <a id="2767" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1905" class="Postulate">stack₁</a> <a id="2774" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>


<a id="2779" class="Comment">-- now we try out stack₁ = []</a>

<a id="multisigScript-2-4-symbolic-empty"></a><a id="2810" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#2810" class="Function">multisigScript-2-4-symbolic-empty</a> <a id="2844" class="Symbol">=</a> <a id="2846" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟦</a> <a id="2848" href="verificationMultiSig.html#54832" class="Function">multiSigScript2-4ᵇ</a> <a id="2867" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1820" class="Postulate">pbk₁</a> <a id="2872" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1825" class="Postulate">pbk₂</a> <a id="2877" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1830" class="Postulate">pbk₃</a> <a id="2882" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1835" class="Postulate">pbk₄</a> <a id="2887" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟧ˢ</a> <a id="2890" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1857" class="Postulate">time₁</a> <a id="2896" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="2901" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>

<a id="2905" class="Comment">{-
result nothing
-}</a>

<a id="multisigScript-2-4-symbolic-1stackelement"></a><a id="2927" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#2927" class="Function">multisigScript-2-4-symbolic-1stackelement</a> <a id="2969" class="Symbol">=</a> <a id="2971" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟦</a> <a id="2973" href="verificationMultiSig.html#54832" class="Function">multiSigScript2-4ᵇ</a> <a id="2992" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1820" class="Postulate">pbk₁</a> <a id="2997" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1825" class="Postulate">pbk₂</a> <a id="3002" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1830" class="Postulate">pbk₃</a> <a id="3007" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1835" class="Postulate">pbk₄</a> <a id="3012" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟧ˢ</a> <a id="3015" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1857" class="Postulate">time₁</a> <a id="3021" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a>  <a id="3027" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="3029" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1933" class="Postulate">sig₂</a> <a id="3034" href="Data.List.Base.html#5025" class="Function Operator">]</a>

<a id="3037" class="Comment">{-
result nothing
-}</a>

<a id="multisigScript-2-4-symbolic-2stackelement"></a><a id="3059" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#3059" class="Function">multisigScript-2-4-symbolic-2stackelement</a> <a id="3101" class="Symbol">=</a> <a id="3103" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟦</a> <a id="3105" href="verificationMultiSig.html#54832" class="Function">multiSigScript2-4ᵇ</a> <a id="3124" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1820" class="Postulate">pbk₁</a> <a id="3129" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1825" class="Postulate">pbk₂</a> <a id="3134" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1830" class="Postulate">pbk₃</a> <a id="3139" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1835" class="Postulate">pbk₄</a> <a id="3144" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟧ˢ</a> <a id="3147" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1857" class="Postulate">time₁</a> <a id="3153" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="3158" class="Symbol">(</a><a id="3159" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1933" class="Postulate">sig₂</a> <a id="3164" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3166" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="3168" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1938" class="Postulate">sig₁</a> <a id="3173" href="Data.List.Base.html#5025" class="Function Operator">]</a><a id="3174" class="Symbol">)</a>

<a id="3177" class="Comment">{-
result nothing
-}</a>

<a id="3199" class="Comment">--stack has three element</a>
<a id="multisigScript-2-4-symbolic-3stackelement"></a><a id="3225" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#3225" class="Function">multisigScript-2-4-symbolic-3stackelement</a> <a id="3267" class="Symbol">=</a>
  <a id="3271" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟦</a> <a id="3273" href="verificationMultiSig.html#54832" class="Function">multiSigScript2-4ᵇ</a> <a id="3292" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1820" class="Postulate">pbk₁</a> <a id="3297" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1825" class="Postulate">pbk₂</a> <a id="3302" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1830" class="Postulate">pbk₃</a> <a id="3307" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1835" class="Postulate">pbk₄</a> <a id="3312" href="verificationStackScripts.stackSemanticsInstructionsBasic.html#2252" class="Function Operator">⟧ˢ</a> <a id="3315" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1857" class="Postulate">time₁</a> <a id="3321" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="3326" class="Symbol">(</a><a id="3327" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1933" class="Postulate">sig₂</a> <a id="3332" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3334" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1938" class="Postulate">sig₁</a> <a id="3339" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3341" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1943" class="Postulate">dummy</a> <a id="3347" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3349" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1905" class="Postulate">stack₁</a><a id="3355" class="Symbol">)</a>

<a id="3358" class="Comment">{-
just
(boolToNat
 (compareSigsMultiSigAux msg₁ (sig₂ ∷ []) (pbk₂ ∷ pbk₃ ∷ pbk₄ ∷ []) sig₁  (isSigned msg₁ sig₁ pbk₁))
 ∷  stack₁)

So the program succeeds (we obtain result just) and all we need to check is whether the top element is

(boolToNat
 (compareSigsMultiSigAux msg₁ (sig₂ ∷ []) (pbk₂ ∷ pbk₃ ∷ pbk₄ ∷ []) sig₁  (isSigned msg₁ sig₁ pbk₁))

is &gt; 0


which is the case if
(compareSigsMultiSigAux msg₁ (sig₂ ∷ []) (pbk₂ ∷ pbk₃ ∷ pbk₄ ∷ []) sig₁  (isSigned msg₁ sig₁ pbk₁))

is true


so we symbolically evaluate

compareSigsMultiSigAux msg₁ (sig₂ ∷ []) (pbk₂ ∷ pbk₃ ∷ pbk₄ ∷ []) sig₁  (isSigned msg₁ sig₁ pbk₁)

-}</a>

<a id="topElementMultisigScript-2-4-symbolic-3&#39;"></a><a id="3981" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#3981" class="Function">topElementMultisigScript-2-4-symbolic-3&#39;</a> <a id="4022" class="Symbol">:</a> <a id="4024" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
<a id="4029" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#3981" class="Function">topElementMultisigScript-2-4-symbolic-3&#39;</a> <a id="4070" class="Symbol">=</a>
   <a id="4075" href="semanticBasicOperations.html#5131" class="Function">compareSigsMultiSigAux</a> <a id="4098" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="4103" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="4105" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1933" class="Postulate">sig₂</a> <a id="4110" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="4112" class="Symbol">(</a><a id="4113" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1825" class="Postulate">pbk₂</a> <a id="4118" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4120" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1830" class="Postulate">pbk₃</a> <a id="4125" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4127" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="4129" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1835" class="Postulate">pbk₄</a> <a id="4134" href="Data.List.Base.html#5025" class="Function Operator">]</a><a id="4135" class="Symbol">)</a> <a id="4137" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1938" class="Postulate">sig₁</a>  <a id="4143" class="Symbol">(</a><a id="4144" href="semanticBasicOperations.html#3104" class="Function">isSigned</a> <a id="4153" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="4158" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1938" class="Postulate">sig₁</a> <a id="4163" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1820" class="Postulate">pbk₁</a><a id="4167" class="Symbol">)</a>

<a id="4170" class="Comment">--compare Sigmulti</a>
<a id="topElementMultisigScript-2-4-symbolic-3"></a><a id="4189" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#4189" class="Function">topElementMultisigScript-2-4-symbolic-3</a> <a id="4229" class="Symbol">:</a> <a id="4231" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
<a id="4236" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#4189" class="Function">topElementMultisigScript-2-4-symbolic-3</a> <a id="4276" class="Symbol">=</a>
   <a id="4281" href="semanticBasicOperations.html#5131" class="Function">compareSigsMultiSigAux</a> <a id="4304" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="4309" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="4311" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1933" class="Postulate">sig₂</a> <a id="4316" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="4318" class="Symbol">(</a><a id="4319" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1825" class="Postulate">pbk₂</a> <a id="4324" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4326" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1830" class="Postulate">pbk₃</a> <a id="4331" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4333" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="4335" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1835" class="Postulate">pbk₄</a> <a id="4340" href="Data.List.Base.html#5025" class="Function Operator">]</a><a id="4341" class="Symbol">)</a> <a id="4343" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1938" class="Postulate">sig₁</a>  <a id="4349" class="Symbol">(</a><a id="4350" href="semanticBasicOperations.html#3104" class="Function">isSigned</a> <a id="4359" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="4364" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1938" class="Postulate">sig₁</a> <a id="4369" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1820" class="Postulate">pbk₁</a><a id="4373" class="Symbol">)</a>


<a id="testEqual"></a><a id="4377" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#4377" class="Function">testEqual</a> <a id="4387" class="Symbol">:</a> <a id="4389" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#3981" class="Function">topElementMultisigScript-2-4-symbolic-3&#39;</a> <a id="4430" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4432" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#4189" class="Function">topElementMultisigScript-2-4-symbolic-3</a>
<a id="4472" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#4377" class="Function">testEqual</a> <a id="4482" class="Symbol">=</a> <a id="4484" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="4490" class="Comment">{- So we can always write

isSigned   instead of     param .signed

-}</a>




<a id="4565" class="Comment">{-
We now make a casedistinction on (isSigned msg₁ sig₁ pbk₁)


-}</a>




<a id="multisigAuxStep1True"></a><a id="4636" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#4636" class="Function">multisigAuxStep1True</a> <a id="4657" class="Symbol">=</a> <a id="4659" href="semanticBasicOperations.html#5131" class="Function">compareSigsMultiSigAux</a> <a id="4682" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="4687" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="4689" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1933" class="Postulate">sig₂</a> <a id="4694" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="4696" class="Symbol">(</a><a id="4697" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1825" class="Postulate">pbk₂</a> <a id="4702" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4704" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1830" class="Postulate">pbk₃</a> <a id="4709" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4711" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="4713" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1835" class="Postulate">pbk₄</a> <a id="4718" href="Data.List.Base.html#5025" class="Function Operator">]</a><a id="4719" class="Symbol">)</a> <a id="4721" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1938" class="Postulate">sig₁</a> <a id="4726" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>
<a id="4731" class="Comment">{-
  compareSigsMultiSigAux msg₁ [] (pbk₃ ∷ pbk₄ ∷ []) sig₂ (isSigned msg₁ sig₂ pbk₂)
-}</a>

<a id="multisigAuxStep1TrueStep2True"></a><a id="4821" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#4821" class="Function">multisigAuxStep1TrueStep2True</a> <a id="4851" class="Symbol">=</a> <a id="4853" href="semanticBasicOperations.html#5131" class="Function">compareSigsMultiSigAux</a> <a id="4876" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="4881" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="4884" class="Symbol">(</a><a id="4885" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1830" class="Postulate">pbk₃</a> <a id="4890" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4892" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="4894" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1835" class="Postulate">pbk₄</a> <a id="4899" href="Data.List.Base.html#5025" class="Function Operator">]</a><a id="4900" class="Symbol">)</a> <a id="4902" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1933" class="Postulate">sig₂</a> <a id="4907" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>

<a id="4913" class="Comment">{- returns true -}</a>

<a id="multisigAuxStep1TrueStep2False"></a><a id="4933" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#4933" class="Function">multisigAuxStep1TrueStep2False</a> <a id="4964" class="Symbol">=</a> <a id="4966" href="semanticBasicOperations.html#5131" class="Function">compareSigsMultiSigAux</a> <a id="4989" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="4994" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="4997" class="Symbol">(</a><a id="4998" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1830" class="Postulate">pbk₃</a> <a id="5003" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="5005" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="5007" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1835" class="Postulate">pbk₄</a> <a id="5012" href="Data.List.Base.html#5025" class="Function Operator">]</a><a id="5013" class="Symbol">)</a> <a id="5015" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1933" class="Postulate">sig₂</a> <a id="5020" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>

<a id="5027" class="Comment">{- returns
   compareSigsMultiSigAux msg₁ [] (pbk₄ ∷ []) sig₂ (isSigned msg₁ sig₂ pbk₃)
-}</a>

<a id="multisigAuxStep1TrueStep2FalseStep3True"></a><a id="5119" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#5119" class="Function">multisigAuxStep1TrueStep2FalseStep3True</a> <a id="5159" class="Symbol">=</a> <a id="5161" href="semanticBasicOperations.html#5131" class="Function">compareSigsMultiSigAux</a> <a id="5184" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="5189" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="5192" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="5194" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1835" class="Postulate">pbk₄</a> <a id="5199" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="5201" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1933" class="Postulate">sig₂</a> <a id="5206" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>


<a id="5213" class="Comment">{- returns true -}</a>

<a id="multisigAuxStep1TrueStep2FalseStep3False"></a><a id="5233" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#5233" class="Function">multisigAuxStep1TrueStep2FalseStep3False</a> <a id="5274" class="Symbol">=</a> <a id="5276" href="semanticBasicOperations.html#5131" class="Function">compareSigsMultiSigAux</a> <a id="5299" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="5304" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="5307" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="5309" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1835" class="Postulate">pbk₄</a> <a id="5314" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="5316" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1933" class="Postulate">sig₂</a> <a id="5321" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>

<a id="5328" class="Comment">{- returns
    compareSigsMultiSigAux msg₁ [] [] sig₂ (isSigned msg₁ sig₂ pbk₄)
-}</a>

<a id="multisigAuxStep1TrueStep2FalseStep3FalseStep4True"></a><a id="5412" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#5412" class="Function">multisigAuxStep1TrueStep2FalseStep3FalseStep4True</a> <a id="5462" class="Symbol">=</a> <a id="5464" href="semanticBasicOperations.html#5131" class="Function">compareSigsMultiSigAux</a> <a id="5487" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="5492" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="5495" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="5498" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1933" class="Postulate">sig₂</a> <a id="5503" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>

<a id="5509" class="Comment">{- returns true -}</a>

<a id="multisigAuxStep1TrueStep2FalseStep3FalseStep4False"></a><a id="5529" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#5529" class="Function">multisigAuxStep1TrueStep2FalseStep3FalseStep4False</a> <a id="5580" class="Symbol">=</a> <a id="5582" href="semanticBasicOperations.html#5131" class="Function">compareSigsMultiSigAux</a> <a id="5605" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="5610" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="5613" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="5616" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1933" class="Postulate">sig₂</a> <a id="5621" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>

<a id="5628" class="Comment">{- returns false -}</a>

<a id="multisigAuxStep1False"></a><a id="5649" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#5649" class="Function">multisigAuxStep1False</a> <a id="5671" class="Symbol">=</a> <a id="5673" href="semanticBasicOperations.html#5131" class="Function">compareSigsMultiSigAux</a> <a id="5696" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="5701" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="5703" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1933" class="Postulate">sig₂</a> <a id="5708" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="5710" class="Symbol">(</a><a id="5711" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1825" class="Postulate">pbk₂</a> <a id="5716" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="5718" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1830" class="Postulate">pbk₃</a> <a id="5723" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="5725" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="5727" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1835" class="Postulate">pbk₄</a> <a id="5732" href="Data.List.Base.html#5025" class="Function Operator">]</a><a id="5733" class="Symbol">)</a> <a id="5735" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1938" class="Postulate">sig₁</a> <a id="5740" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>

<a id="5747" class="Comment">{- returns

   compareSigsMultiSigAux msg₁ (sig₂ ∷ []) (pbk₃ ∷ pbk₄ ∷ []) sig₁ (isSigned msg₁ sig₁ pbk₂)

-}</a>

<a id="multisigAuxStep1FalseStep2True"></a><a id="5857" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#5857" class="Function">multisigAuxStep1FalseStep2True</a>  <a id="5889" class="Symbol">=</a> <a id="5891" href="semanticBasicOperations.html#5131" class="Function">compareSigsMultiSigAux</a> <a id="5914" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="5919" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="5921" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1933" class="Postulate">sig₂</a> <a id="5926" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="5928" class="Symbol">(</a><a id="5929" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1830" class="Postulate">pbk₃</a> <a id="5934" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>  <a id="5937" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="5939" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1835" class="Postulate">pbk₄</a> <a id="5944" href="Data.List.Base.html#5025" class="Function Operator">]</a><a id="5945" class="Symbol">)</a> <a id="5947" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1938" class="Postulate">sig₁</a> <a id="5952" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>

<a id="5958" class="Comment">{- returns
     compareSigsMultiSigAux msg₁ [] (pbk₄ ∷ []) sig₂ (isSigned msg₁ sig₂ pbk₃)
-}</a>

<a id="multisigAuxStep1FalseStep2TrueStep3True"></a><a id="6052" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#6052" class="Function">multisigAuxStep1FalseStep2TrueStep3True</a>  <a id="6093" class="Symbol">=</a> <a id="6095" href="semanticBasicOperations.html#5131" class="Function">compareSigsMultiSigAux</a> <a id="6118" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="6123" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="6126" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="6128" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1835" class="Postulate">pbk₄</a> <a id="6133" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="6135" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1933" class="Postulate">sig₂</a> <a id="6140" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>

<a id="6146" class="Comment">{- returns true -}</a>

<a id="multisigAuxStep1FalseStep2TrueStep3False"></a><a id="6166" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#6166" class="Function">multisigAuxStep1FalseStep2TrueStep3False</a>  <a id="6208" class="Symbol">=</a> <a id="6210" href="semanticBasicOperations.html#5131" class="Function">compareSigsMultiSigAux</a> <a id="6233" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="6238" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="6241" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="6243" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1835" class="Postulate">pbk₄</a> <a id="6248" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="6250" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1933" class="Postulate">sig₂</a> <a id="6255" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>

<a id="6262" class="Comment">{- returns
   compareSigsMultiSigAux msg₁ [] [] sig₂ (isSigned msg₁ sig₂ pbk₄)
-}</a>

<a id="multisigAuxStep1FalseStep2TrueStep3FalseStep4True"></a><a id="6345" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#6345" class="Function">multisigAuxStep1FalseStep2TrueStep3FalseStep4True</a>  <a id="6396" class="Symbol">=</a> <a id="6398" href="semanticBasicOperations.html#5131" class="Function">compareSigsMultiSigAux</a> <a id="6421" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="6426" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="6429" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="6432" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1933" class="Postulate">sig₂</a> <a id="6437" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>

<a id="6443" class="Comment">{- returns true -}</a>

<a id="multisigAuxStep1FalseStep2TrueStep3FalseStepFalse"></a><a id="6463" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#6463" class="Function">multisigAuxStep1FalseStep2TrueStep3FalseStepFalse</a>  <a id="6514" class="Symbol">=</a> <a id="6516" href="semanticBasicOperations.html#5131" class="Function">compareSigsMultiSigAux</a> <a id="6539" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="6544" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="6547" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="6550" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1933" class="Postulate">sig₂</a> <a id="6555" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>

<a id="6562" class="Comment">{- returns false -}</a>


<a id="multisigAuxStep1FalseStep2False"></a><a id="6584" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#6584" class="Function">multisigAuxStep1FalseStep2False</a>  <a id="6617" class="Symbol">=</a> <a id="6619" href="semanticBasicOperations.html#5131" class="Function">compareSigsMultiSigAux</a> <a id="6642" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="6647" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="6649" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1933" class="Postulate">sig₂</a> <a id="6654" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="6656" class="Symbol">(</a><a id="6657" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1830" class="Postulate">pbk₃</a> <a id="6662" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6664" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="6666" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1835" class="Postulate">pbk₄</a> <a id="6671" href="Data.List.Base.html#5025" class="Function Operator">]</a><a id="6672" class="Symbol">)</a> <a id="6674" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1938" class="Postulate">sig₁</a> <a id="6679" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>

<a id="6686" class="Comment">{-returns

  compareSigsMultiSigAux msg₁ (sig₂ ∷ []) (pbk₄ ∷ []) sig₁ (isSigned msg₁ sig₁ pbk₃)
-}</a>

<a id="multisigAuxStep1FalseStep2FalseStep3True"></a><a id="6786" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#6786" class="Function">multisigAuxStep1FalseStep2FalseStep3True</a>  <a id="6828" class="Symbol">=</a> <a id="6830" href="semanticBasicOperations.html#5131" class="Function">compareSigsMultiSigAux</a> <a id="6853" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="6858" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="6860" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1933" class="Postulate">sig₂</a> <a id="6865" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="6867" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="6869" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1835" class="Postulate">pbk₄</a> <a id="6874" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="6876" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1938" class="Postulate">sig₁</a> <a id="6881" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>

<a id="6887" class="Comment">{- returns
   compareSigsMultiSigAux msg₁ [] [] sig₂ (isSigned msg₁ sig₂ pbk₄)
-}</a>

<a id="multisigAuxStep1FalseStep2FalseStep3TrueStep4True"></a><a id="6970" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#6970" class="Function">multisigAuxStep1FalseStep2FalseStep3TrueStep4True</a>  <a id="7021" class="Symbol">=</a> <a id="7023" href="semanticBasicOperations.html#5131" class="Function">compareSigsMultiSigAux</a> <a id="7046" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="7051" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="7054" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="7057" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1933" class="Postulate">sig₂</a> <a id="7062" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>

<a id="7068" class="Comment">{- returns true -}</a>

<a id="multisigAuxStep1FalseStep2FalseStep3TrueStep4False"></a><a id="7088" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#7088" class="Function">multisigAuxStep1FalseStep2FalseStep3TrueStep4False</a>  <a id="7140" class="Symbol">=</a> <a id="7142" href="semanticBasicOperations.html#5131" class="Function">compareSigsMultiSigAux</a> <a id="7165" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="7170" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="7173" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="7176" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1933" class="Postulate">sig₂</a> <a id="7181" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>

<a id="7188" class="Comment">{- returns false -}</a>




<a id="multisigAuxStep1FalseStep2FalseStep3False"></a><a id="7212" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#7212" class="Function">multisigAuxStep1FalseStep2FalseStep3False</a>  <a id="7255" class="Symbol">=</a> <a id="7257" href="semanticBasicOperations.html#5131" class="Function">compareSigsMultiSigAux</a> <a id="7280" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="7285" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="7287" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1933" class="Postulate">sig₂</a> <a id="7292" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="7294" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="7296" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1835" class="Postulate">pbk₄</a> <a id="7301" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="7303" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1938" class="Postulate">sig₁</a> <a id="7308" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>

<a id="7315" class="Comment">{- returns
    compareSigsMultiSigAux msg₁ (sig₂ ∷ []) [] sig₁ (isSigned msg₁ sig₁ pbk₄)
-}</a>

<a id="multisigAuxStep1FalseStep2FalseStep3FalseStep4True"></a><a id="7408" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#7408" class="Function">multisigAuxStep1FalseStep2FalseStep3FalseStep4True</a>  <a id="7460" class="Symbol">=</a> <a id="7462" href="semanticBasicOperations.html#5131" class="Function">compareSigsMultiSigAux</a> <a id="7485" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="7490" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="7492" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1933" class="Postulate">sig₂</a> <a id="7497" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="7499" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="7502" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1938" class="Postulate">sig₁</a> <a id="7507" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>

<a id="7513" class="Comment">{- returns false -}</a>

<a id="multisigAuxStep1FalseStep2FalseStep3FalseStep4False"></a><a id="7534" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#7534" class="Function">multisigAuxStep1FalseStep2FalseStep3FalseStep4False</a>  <a id="7587" class="Symbol">=</a> <a id="7589" href="semanticBasicOperations.html#5131" class="Function">compareSigsMultiSigAux</a> <a id="7612" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1882" class="Postulate">msg₁</a> <a id="7617" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="7619" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1933" class="Postulate">sig₂</a> <a id="7624" href="Data.List.Base.html#5025" class="Function Operator">]</a>  <a id="7627" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="7630" href="verificationStackScripts.verificationMultiSigBasicSymbolicExecutionPaperVersion.html#1938" class="Postulate">sig₁</a> <a id="7635" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>

<a id="7642" class="Comment">{- returns false -}</a>


<a id="7664" class="Comment">{- So we see that that

(compareSigsMultiSigAux msg₁ (sig₂ ∷ []) (pbk₂ ∷ pbk₃ ∷ pbk₄ ∷ []) sig₁  (isSigned msg₁ sig₁ pbk₁))


returns true iff

(isSigned msg₁ sig₂ pbk₂)   and (isSigned msg₁ sig₂ pbk₂)
or
(isSigned msg₁ sig₂ pbk₂)   and ¬ (isSigned msg₁ sig₂ pbk₂)  and (isSigned msg₁ sig₂ pbk₃)
or
(isSigned msg₁ sig₂ pbk₂)   and ¬ (isSigned msg₁ sig₂ pbk₂)  and ¬ (isSigned msg₁ sig₂ pbk₃) and (isSigned msg₁ sig₂ pbk₄)
or
¬ (isSigned msg₁ sig₂ pbk₂)  and (isSigned msg₁ sig₁ pbk₂) and (isSigned msg₁ sig₂ pbk₃)
or
¬ (isSigned msg₁ sig₂ pbk₂)  and (isSigned msg₁ sig₁ pbk₂) and ¬ (isSigned msg₁ sig₂ pbk₃) and (isSigned msg₁ sig₂ pbk₄)
or
¬ (isSigned msg₁ sig₂ pbk₂)  and ¬ (isSigned msg₁ sig₁ pbk₂)  and (isSigned msg₁ sig₁ pbk₃)  and (isSigned msg₁ sig₂ pbk₄)



we simplify it to:

(isSigned msg₁ sig₂ pbk₂)   and (isSigned msg₁ sig₂ pbk₂)
or
(isSigned msg₁ sig₂ pbk₂)   and (isSigned msg₁ sig₂ pbk₃)
or
(isSigned msg₁ sig₂ pbk₂)   and  (isSigned msg₁ sig₂ pbk₄)
or
(isSigned msg₁ sig₁ pbk₂) and (isSigned msg₁ sig₂ pbk₃)
or
(isSigned msg₁ sig₁ pbk₂) and (isSigned msg₁ sig₂ pbk₄)
or
(isSigned msg₁ sig₁ pbk₃)  and (isSigned msg₁ sig₂ pbk₄)



so the full script is accepted if and only if the stack has hight at least 3 and
if the top elements are sig₁ sig₂  dummy
then  the above condition holds

so the weakest precondition is ...  name for weakest precondition


-}</a>




<a id="9043" class="Comment">{-
test : Set
test = {!!}
-}</a>
</pre></body></html>